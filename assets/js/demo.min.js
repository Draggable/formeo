
/**
formeo - https://formeo.io
Version: 2.1.6
Author: Draggable https://draggable.io
*/

var t=Object.defineProperty,e=(e,n,o)=>((e,n,o)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o)(e,"symbol"!=typeof n?n+"":n,o);!function(){const t=document.createElement("link").relList;if(!(t&&t.supports&&t.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))e(t);new MutationObserver((t=>{for(const n of t)if("childList"===n.type)for(const t of n.addedNodes)"LINK"===t.tagName&&"modulepreload"===t.rel&&e(t)})).observe(document,{childList:!0,subtree:!0})}function e(t){if(t.ep)return;t.ep=!0;const e=function(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),"use-credentials"===t.crossOrigin?e.credentials="include":"anonymous"===t.crossOrigin?e.credentials="omit":e.credentials="same-origin",e}(t);fetch(t.href,e)}}();const n=-1!==window.location.href.indexOf("draggable.github.io");if(n){"https:"!==window.location.protocol&&(window.location.protocol="https:"),((window.gitter={}).chat={}).options={room:"Draggable/formeo",activationElement:".toggle-gitter"};[{src:"//platform.twitter.com/widgets.js",id:"twitter-script"},{src:"//buttons.github.io/buttons.js",id:"github-script"},{src:"//www.google-analytics.com/analytics.js",id:"google-analytics",onload:()=>{window.ga("create","UA-79014176-2","auto"),window.ga("send","pageview")}}].forEach((function(t){const[e]=document.getElementsByTagName("script");if(document.getElementById(t.id))return;const n=Object.assign(document.createElement("script"),t);e.parentNode.insertBefore(n,e)}))}const o={user:{isAuthenticated:!0,userName:"Kevin"}},i={rows:{all:{events:{onRender:t=>{}}}},fields:{checkbox:{actionButtons:{}},"a33bcc32-c54c-46ed-9609-7cdb5b3dc511":{events:{onRender:t=>{const e=setTimeout((()=>{t.querySelector(".next-group").click(),clearTimeout(e)}),333)}},panels:{attrs:{hideDisabled:!0},disabled:[]}}}},r={editorContainer:document.querySelector(".build-form"),i18n:{location:"./assets/lang"},actions:{},external:o,controls:{sortable:!1,groupOrder:["common","html"],disable:{},elements:[{tag:"input",config:{label:"Email",disabledAttrs:["type"],lockedAttrs:["required","className"]},meta:{group:"common",id:"email",icon:"@"},attrs:{className:"custom-email",type:"email",required:!0}}],elementOrder:{common:["button","checkbox","date-input","hidden","upload","number","radio","select","text-input","textarea"]}},config:i,events:{onSave:console.log},sessionStorage:!0,editPanelOrder:["attrs","options"]},s={renderContainer:".render-form",external:o,elements:{tinymce:{dependencies:{js:"cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.11/tinymce.min.js"},action:{onRender:t=>{if(t.id){const e=`#${t.id}`;window.tinymce.remove(e),window.tinymce.init({selector:e})}}}}}};var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function l(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c=function(t,e,n,o){var i=-1,r=null==t?0:t.length;for(o&&r&&(n=t[++i]);++i<r;)n=e(n,t[i],i,t);return n};var d=function(t){return function(e){return null==t?void 0:t[e]}}({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),h="object"==typeof a&&a&&a.Object===Object&&a,u=h,p="object"==typeof self&&self&&self.Object===Object&&self,m=u||p||Function("return this")(),f=m.Symbol;var g=function(t,e){for(var n=-1,o=null==t?0:t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i},v=Array.isArray,b=f,y=Object.prototype,w=y.hasOwnProperty,x=y.toString,C=b?b.toStringTag:void 0;var S=function(t){var e=w.call(t,C),n=t[C];try{t[C]=void 0;var o=!0}catch(r){}var i=x.call(t);return o&&(e?t[C]=n:delete t[C]),i},E=Object.prototype.toString;var O=S,N=function(t){return E.call(t)},A=f?f.toStringTag:void 0;var M=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":A&&A in Object(t)?O(t):N(t)};var _=function(t){return null!=t&&"object"==typeof t},D=M,j=_;var k=function(t){return"symbol"==typeof t||j(t)&&"[object Symbol]"==D(t)},T=g,L=v,P=k,z=f?f.prototype:void 0,$=z?z.toString:void 0;var I=function t(e){if("string"==typeof e)return e;if(L(e))return T(e,t)+"";if(P(e))return $?$.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n},H=I;var V=function(t){return null==t?"":H(t)},R=d,B=V,F=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,W=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var q=function(t){return(t=B(t))&&t.replace(F,R).replace(W,"")},U=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var G=function(t){return t.match(U)||[]},X=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var Y=function(t){return X.test(t)},Z="\\ud800-\\udfff",J="\\u2700-\\u27bf",K="a-z\\xdf-\\xf6\\xf8-\\xff",Q="A-Z\\xc0-\\xd6\\xd8-\\xde",tt="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="["+tt+"]",nt="\\d+",ot="["+J+"]",it="["+K+"]",rt="[^"+Z+tt+nt+J+K+Q+"]",st="(?:\\ud83c[\\udde6-\\uddff]){2}",at="[\\ud800-\\udbff][\\udc00-\\udfff]",lt="["+Q+"]",ct="(?:"+it+"|"+rt+")",dt="(?:"+lt+"|"+rt+")",ht="(?:['’](?:d|ll|m|re|s|t|ve))?",ut="(?:['’](?:D|LL|M|RE|S|T|VE))?",pt="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",mt="[\\ufe0e\\ufe0f]?",ft=mt+pt+("(?:\\u200d(?:"+["[^"+Z+"]",st,at].join("|")+")"+mt+pt+")*"),gt="(?:"+[ot,st,at].join("|")+")"+ft,vt=RegExp([lt+"?"+it+"+"+ht+"(?="+[et,lt,"$"].join("|")+")",dt+"+"+ut+"(?="+[et,lt+ct,"$"].join("|")+")",lt+"?"+ct+"+"+ht,lt+"+"+ut,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",nt,gt].join("|"),"g");var bt=G,yt=Y,wt=V,xt=function(t){return t.match(vt)||[]};var Ct=c,St=q,Et=function(t,e,n){return t=wt(t),void 0===(e=n?void 0:e)?yt(t)?xt(t):bt(t):t.match(e)||[]},Ot=RegExp("['’]","g");var Nt=function(t){return function(e){return Ct(Et(St(e).replace(Ot,"")),t,"")}};var At=function(t,e,n){var o=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var r=Array(i);++o<i;)r[o]=t[o+e];return r};var Mt=function(t,e,n){var o=t.length;return n=void 0===n?o:n,!e&&n>=o?t:At(t,e,n)},_t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Dt=function(t){return _t.test(t)};var jt=function(t){return t.split("")},kt="\\ud800-\\udfff",Tt="["+kt+"]",Lt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Pt="\\ud83c[\\udffb-\\udfff]",zt="[^"+kt+"]",$t="(?:\\ud83c[\\udde6-\\uddff]){2}",It="[\\ud800-\\udbff][\\udc00-\\udfff]",Ht="(?:"+Lt+"|"+Pt+")"+"?",Vt="[\\ufe0e\\ufe0f]?",Rt=Vt+Ht+("(?:\\u200d(?:"+[zt,$t,It].join("|")+")"+Vt+Ht+")*"),Bt="(?:"+[zt+Lt+"?",Lt,$t,It,Tt].join("|")+")",Ft=RegExp(Pt+"(?="+Pt+")|"+Bt+Rt,"g");var Wt=jt,qt=Dt,Ut=function(t){return t.match(Ft)||[]};var Gt=Mt,Xt=Dt,Yt=function(t){return qt(t)?Ut(t):Wt(t)},Zt=V;var Jt=function(t){return function(e){e=Zt(e);var n=Xt(e)?Yt(e):void 0,o=n?n[0]:e.charAt(0),i=n?Gt(n,1).join(""):e.slice(1);return o[t]()+i}}("toUpperCase");const Kt=l(Nt((function(t,e,n){return t+(n?" ":"")+Jt(e)}))),Qt=document.getElementById("editor-action-buttons"),te=document.querySelector(".render-form");const ee={extension:".lang",location:"assets/lang/",langs:["en-US"],locale:"en-US",override:{}};class ne{constructor(t=ee){this.langs=Object.create(null),this.loaded=[],this.processConfig(t)}processConfig(t){const{location:e,...n}={...ee,...t},o=e.replace(/\/?$/,"/");this.config={location:o,...n};const{override:i,preloaded:r={}}=this.config,s=Object.entries(this.langs).concat(Object.entries(i||r));this.langs=s.reduce(((t,[e,n])=>(t[e]=this.applyLanguage(e,n),t)),{}),this.locale=this.config.locale||this.config.langs[0]}init(t){return this.processConfig({...this.config,...t}),this.setCurrent(this.locale)}addLanguage(t,e={}){e="string"==typeof e?ne.processFile(e):e,this.applyLanguage(t,e),this.config.langs.push("locale")}getValue(t,e=this.locale){var n;return(null==(n=this.langs[e])?void 0:n[t])||this.getFallbackValue(t)}getFallbackValue(t){const e=Object.values(this.langs).find((e=>e[t]));return null==e?void 0:e[t]}makeSafe(t){const e={"{":"\\{","}":"\\}","|":"\\|"};return t=t.replace(/[{}|]/g,(t=>e[t])),new RegExp(t,"g")}put(t,e){return this.current[t]=e,e}get(t,e){const n=this;let o=this.getValue(t);if(!o)return;const i=o.match(/\{[^}]+?\}/g);if(e&&i)if("object"==typeof e)for(const r of i){const t=r.substring(1,r.length-1);o=o.replace(n.makeSafe(r),e[t]||"")}else o=o.replace(/\{[^}]+?\}/g,e);return o}static processFile(t){return ne.fromFile(t.replace(/\n\n/g,"\n"))}static fromFile(t){const e=t.split("\n"),n={};for(let o,i=0;i<e.length;i++){o=/^(.+?) *?= *?([^\n]+)/.exec(e[i]),o&&(n[o[1]]=o[2].replace(/(^\s+|\s+$)/g,""))}return n}loadLang(t,e=!0){const n=this;return new Promise((function(o,i){if(-1!==n.loaded.indexOf(t)&&e)return n.applyLanguage(n.langs[t]),o(n.langs[t]);return async function(t){try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const n=t.endsWith(".lang")?"text":"json";return await e[n]()}catch(e){throw e}}([n.config.location,t,n.config.extension].join("")).then((e=>{const i=ne.processFile(e);return n.applyLanguage(t,i),n.loaded.push(t),o(n.langs[t])})).catch((e=>{const i=n.applyLanguage(t);o(i)}))}))}applyLanguage(t,e={}){const n=this.config.override[t]||{},o=this.langs[t]||{};return this.langs[t]={...o,...e,...n},this.langs[t]}get getLangs(){return this.config.langs}async setCurrent(t="en-US"){return await this.loadLang(t),this.locale=t,this.current=this.langs[t],this.current}}const oe=new ne,ie="formeo",re=[{name:"cssPreload",src:"//cdnjs.cloudflare.com/ajax/libs/loadCSS/2.0.1/cssrelpreload.min.js"},{name:"mutationObserver",src:"//cdn.jsdelivr.net/npm/mutationobserver-shim/dist/mutationobserver.min.js"},{name:"fetch",src:"https://unpkg.com/unfetch/polyfill"}],se="control-group",ae=`${ie}-stage`,le=`${ie}-row`,ce=`${ie}-column`,de=`${ie}-field`,he="custom-column-widths",ue="column-preset",pe="resizing-columns",me=new Map([[ae,le],[le,ce],[ce,de]]),fe=["external","stages","rows","columns","fields"],ge=["stage","row","column","field"].reduce(((t,e)=>({...t,[e]:e})),{}),ve=[{name:"controls",className:se},{name:"stage",className:ae},{name:"row",className:le},{name:"column",className:ce},{name:"field",className:de}],be={controls:se,stage:ae,row:le,column:ce,field:de},ye=Object.entries(be).reduce(((t,[e,n])=>({...t,[n]:e})),{}),we=Object.values(be),xe=new RegExp(`${we.join("|")}`,"g"),Ce=ve.map((({name:t},e,n)=>{const{name:o}=n[e+1]||{};return o&&[t,o]})).filter(Boolean),Se=Ce.slice().map((t=>t.slice().reverse())).reverse(),Ee=new Map(Ce),Oe=new Map(Se.slice()),Ne=new Map([[{value:"100.0",label:"100%"}],[{value:"50.0,50.0",label:"50 | 50"},{value:"33.3,66.6",label:"33 | 66"},{value:"66.6,33.3",label:"66 | 33"}],[{value:"33.3,33.3,33.3",label:"33 | 33 | 33"},{value:"25.0,25.0,50.0",label:"25 | 25 | 50"},{value:"50.0,25.0,25.0",label:"50 | 25 | 25"},{value:"25.0,50.0,25.0",label:"25 | 50 | 25"}],[{value:"25.0,25.0,25.0,25.0",label:"25 | 25 | 25 | 25"}],[{value:"20.0,20.0,20.0,20.0,20.0",label:"20 | 20 | 20 | 20 | 20"}],[{value:"16.66,16.66,16.66,16.66,16.66,16.66",label:"16.66 | 16.66 | 16.66 | 16.66 | 16.66 | 16.66"}]].reduce(((t,e,n)=>(t.push([n,e]),t)),[])),Ae=[{type:"added",condition:(t,e)=>Boolean(void 0===t&&e)}],Me=`${ie}-formData`,_e=`${ie}-locale`,De=333,je=Math.round(166.5),ke=Math.round(666),Te="formeoSaved",Le="formeoUpdated",Pe="formeoOnRender",ze=["label","logical","source","thenTarget","sourceProperty","comparison","target","targetProperty","assignment","value"],$e={value:"attrs.value",checked:"attrs.checked",isVisible:"config.isVisible",isNotVisible:"config.isNotVisible"},Ie={comparison:{equals:"==",notEquals:"!=",contains:"⊃",notContains:"!⊃"},assignment:{equals:"="},logical:{and:"&&",or:"||"},property:$e},He=/(\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b)/gi,Ve=/\bcol-\w+-\d+/g,Re="f-i-";var Be=function(){this.__data__=[],this.size=0};var Fe=function(t,e){return t===e||t!=t&&e!=e},We=Fe;var qe=function(t,e){for(var n=t.length;n--;)if(We(t[n][0],e))return n;return-1},Ue=qe,Ge=Array.prototype.splice;var Xe=qe;var Ye=qe;var Ze=qe;var Je=Be,Ke=function(t){var e=this.__data__,n=Ue(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ge.call(e,n,1),--this.size,!0)},Qe=function(t){var e=this.__data__,n=Xe(e,t);return n<0?void 0:e[n][1]},tn=function(t){return Ye(this.__data__,t)>-1},en=function(t,e){var n=this.__data__,o=Ze(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this};function nn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}nn.prototype.clear=Je,nn.prototype.delete=Ke,nn.prototype.get=Qe,nn.prototype.has=tn,nn.prototype.set=en;var on=nn,rn=on;var sn=function(){this.__data__=new rn,this.size=0};var an=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var ln=function(t){return this.__data__.get(t)};var cn=function(t){return this.__data__.has(t)};var dn=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},hn=M,un=dn;var pn,mn=function(t){if(!un(t))return!1;var e=hn(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},fn=m["__core-js_shared__"],gn=(pn=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||""))?"Symbol(src)_1."+pn:"";var vn=function(t){return!!gn&&gn in t},bn=Function.prototype.toString;var yn=function(t){if(null!=t){try{return bn.call(t)}catch(e){}try{return t+""}catch(e){}}return""},wn=mn,xn=vn,Cn=dn,Sn=yn,En=/^\[object .+?Constructor\]$/,On=Function.prototype,Nn=Object.prototype,An=On.toString,Mn=Nn.hasOwnProperty,_n=RegExp("^"+An.call(Mn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Dn=function(t){return!(!Cn(t)||xn(t))&&(wn(t)?_n:En).test(Sn(t))},jn=function(t,e){return null==t?void 0:t[e]};var kn=function(t,e){var n=jn(t,e);return Dn(n)?n:void 0},Tn=kn(m,"Map"),Ln=kn(Object,"create"),Pn=Ln;var zn=function(){this.__data__=Pn?Pn(null):{},this.size=0};var $n=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},In=Ln,Hn=Object.prototype.hasOwnProperty;var Vn=function(t){var e=this.__data__;if(In){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return Hn.call(e,t)?e[t]:void 0},Rn=Ln,Bn=Object.prototype.hasOwnProperty;var Fn=Ln;var Wn=zn,qn=$n,Un=Vn,Gn=function(t){var e=this.__data__;return Rn?void 0!==e[t]:Bn.call(e,t)},Xn=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Fn&&void 0===e?"__lodash_hash_undefined__":e,this};function Yn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}Yn.prototype.clear=Wn,Yn.prototype.delete=qn,Yn.prototype.get=Un,Yn.prototype.has=Gn,Yn.prototype.set=Xn;var Zn=Yn,Jn=on,Kn=Tn;var Qn=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var to=function(t,e){var n=t.__data__;return Qn(e)?n["string"==typeof e?"string":"hash"]:n.map},eo=to;var no=to;var oo=to;var io=to;var ro=function(){this.size=0,this.__data__={hash:new Zn,map:new(Kn||Jn),string:new Zn}},so=function(t){var e=eo(this,t).delete(t);return this.size-=e?1:0,e},ao=function(t){return no(this,t).get(t)},lo=function(t){return oo(this,t).has(t)},co=function(t,e){var n=io(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this};function ho(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var o=t[e];this.set(o[0],o[1])}}ho.prototype.clear=ro,ho.prototype.delete=so,ho.prototype.get=ao,ho.prototype.has=lo,ho.prototype.set=co;var uo=ho,po=on,mo=Tn,fo=uo;var go=on,vo=sn,bo=an,yo=ln,wo=cn,xo=function(t,e){var n=this.__data__;if(n instanceof po){var o=n.__data__;if(!mo||o.length<199)return o.push([t,e]),this.size=++n.size,this;n=this.__data__=new fo(o)}return n.set(t,e),this.size=n.size,this};function Co(t){var e=this.__data__=new go(t);this.size=e.size}Co.prototype.clear=vo,Co.prototype.delete=bo,Co.prototype.get=yo,Co.prototype.has=wo,Co.prototype.set=xo;var So=Co,Eo=kn,Oo=function(){try{var t=Eo(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),No=Oo;var Ao=function(t,e,n){"__proto__"==e&&No?No(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Mo=Ao,_o=Fe;var Do=function(t,e,n){(void 0!==n&&!_o(t[e],n)||void 0===n&&!(e in t))&&Mo(t,e,n)};var jo,ko,To,Lo,Po,zo,$o,Io=function(t){return function(e,n,o){for(var i=-1,r=Object(e),s=o(e),a=s.length;a--;){var l=s[t?a:++i];if(!1===n(r[l],l,r))break}return e}}(),Ho={exports:{}};jo=Ho,To=m,Lo=(ko=Ho.exports)&&!ko.nodeType&&ko,Po=Lo&&jo&&!jo.nodeType&&jo,zo=Po&&Po.exports===Lo?To.Buffer:void 0,$o=zo?zo.allocUnsafe:void 0,jo.exports=function(t,e){if(e)return t.slice();var n=t.length,o=$o?$o(n):new t.constructor(n);return t.copy(o),o};var Vo=Ho.exports,Ro=m.Uint8Array,Bo=Ro;var Fo=function(t){var e=new t.constructor(t.byteLength);return new Bo(e).set(new Bo(t)),e};var Wo=function(t,e){var n=e?Fo(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var qo=function(t,e){var n=-1,o=t.length;for(e||(e=Array(o));++n<o;)e[n]=t[n];return e},Uo=dn,Go=Object.create,Xo=function(){function t(){}return function(e){if(!Uo(e))return{};if(Go)return Go(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var Yo=function(t,e){return function(n){return t(e(n))}},Zo=Yo(Object.getPrototypeOf,Object),Jo=Object.prototype;var Ko=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Jo)},Qo=Xo,ti=Zo,ei=Ko;var ni=function(t){return"function"!=typeof t.constructor||ei(t)?{}:Qo(ti(t))},oi=M,ii=_;var ri=function(t){return ii(t)&&"[object Arguments]"==oi(t)},si=_,ai=Object.prototype,li=ai.hasOwnProperty,ci=ai.propertyIsEnumerable,di=ri(function(){return arguments}())?ri:function(t){return si(t)&&li.call(t,"callee")&&!ci.call(t,"callee")};var hi=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},ui=mn,pi=hi;var mi=function(t){return null!=t&&pi(t.length)&&!ui(t)},fi=mi,gi=_;var vi=function(t){return gi(t)&&fi(t)},bi={exports:{}};var yi=function(){return!1};!function(t,e){var n=m,o=yi,i=e&&!e.nodeType&&e,r=i&&t&&!t.nodeType&&t,s=r&&r.exports===i?n.Buffer:void 0,a=(s?s.isBuffer:void 0)||o;t.exports=a}(bi,bi.exports);var wi=bi.exports,xi=M,Ci=Zo,Si=_,Ei=Function.prototype,Oi=Object.prototype,Ni=Ei.toString,Ai=Oi.hasOwnProperty,Mi=Ni.call(Object);var _i=function(t){if(!Si(t)||"[object Object]"!=xi(t))return!1;var e=Ci(t);if(null===e)return!0;var n=Ai.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Ni.call(n)==Mi},Di=M,ji=hi,ki=_,Ti={};Ti["[object Float32Array]"]=Ti["[object Float64Array]"]=Ti["[object Int8Array]"]=Ti["[object Int16Array]"]=Ti["[object Int32Array]"]=Ti["[object Uint8Array]"]=Ti["[object Uint8ClampedArray]"]=Ti["[object Uint16Array]"]=Ti["[object Uint32Array]"]=!0,Ti["[object Arguments]"]=Ti["[object Array]"]=Ti["[object ArrayBuffer]"]=Ti["[object Boolean]"]=Ti["[object DataView]"]=Ti["[object Date]"]=Ti["[object Error]"]=Ti["[object Function]"]=Ti["[object Map]"]=Ti["[object Number]"]=Ti["[object Object]"]=Ti["[object RegExp]"]=Ti["[object Set]"]=Ti["[object String]"]=Ti["[object WeakMap]"]=!1;var Li=function(t){return ki(t)&&ji(t.length)&&!!Ti[Di(t)]};var Pi=function(t){return function(e){return t(e)}},zi={exports:{}};!function(t,e){var n=h,o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,r=i&&i.exports===o&&n.process,s=function(){try{var t=i&&i.require&&i.require("util").types;return t||r&&r.binding&&r.binding("util")}catch(e){}}();t.exports=s}(zi,zi.exports);var $i=zi.exports,Ii=Li,Hi=Pi,Vi=$i&&$i.isTypedArray,Ri=Vi?Hi(Vi):Ii;var Bi=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]},Fi=Ao,Wi=Fe,qi=Object.prototype.hasOwnProperty;var Ui=function(t,e,n){var o=t[e];qi.call(t,e)&&Wi(o,n)&&(void 0!==n||e in t)||Fi(t,e,n)},Gi=Ui,Xi=Ao;var Yi=function(t,e,n,o){var i=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],l=o?o(n[a],t[a],a,n,t):void 0;void 0===l&&(l=t[a]),i?Xi(n,a,l):Gi(n,a,l)}return n};var Zi=/^(?:0|[1-9]\d*)$/;var Ji=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&Zi.test(t))&&t>-1&&t%1==0&&t<e},Ki=function(t,e){for(var n=-1,o=Array(t);++n<t;)o[n]=e(n);return o},Qi=di,tr=v,er=wi,nr=Ji,or=Ri,ir=Object.prototype.hasOwnProperty;var rr=function(t,e){var n=tr(t),o=!n&&Qi(t),i=!n&&!o&&er(t),r=!n&&!o&&!i&&or(t),s=n||o||i||r,a=s?Ki(t.length,String):[],l=a.length;for(var c in t)!e&&!ir.call(t,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||nr(c,l))||a.push(c);return a};var sr=dn,ar=Ko,lr=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},cr=Object.prototype.hasOwnProperty;var dr=rr,hr=function(t){if(!sr(t))return lr(t);var e=ar(t),n=[];for(var o in t)("constructor"!=o||!e&&cr.call(t,o))&&n.push(o);return n},ur=mi;var pr=function(t){return ur(t)?dr(t,!0):hr(t)},mr=Yi,fr=pr;var gr=Do,vr=Vo,br=Wo,yr=qo,wr=ni,xr=di,Cr=v,Sr=vi,Er=wi,Or=mn,Nr=dn,Ar=_i,Mr=Ri,_r=Bi,Dr=function(t){return mr(t,fr(t))};var jr=So,kr=Do,Tr=Io,Lr=function(t,e,n,o,i,r,s){var a=_r(t,n),l=_r(e,n),c=s.get(l);if(c)gr(t,n,c);else{var d=r?r(a,l,n+"",t,e,s):void 0,h=void 0===d;if(h){var u=Cr(l),p=!u&&Er(l),m=!u&&!p&&Mr(l);d=l,u||p||m?Cr(a)?d=a:Sr(a)?d=yr(a):p?(h=!1,d=vr(l,!0)):m?(h=!1,d=br(l,!0)):d=[]:Ar(l)||xr(l)?(d=a,xr(a)?d=Dr(a):Nr(a)&&!Or(a)||(d=wr(l))):h=!1}h&&(s.set(l,d),i(d,l,o,r,s),s.delete(l)),gr(t,n,d)}},Pr=dn,zr=pr,$r=Bi;var Ir=function t(e,n,o,i,r){e!==n&&Tr(n,(function(s,a){if(r||(r=new jr),Pr(s))Lr(e,n,a,o,t,i,r);else{var l=i?i($r(e,a),s,a+"",e,n,r):void 0;void 0===l&&(l=s),kr(e,a,l)}}),zr)};var Hr=function(t){return t};var Vr=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Rr=Math.max;var Br=function(t,e,n){return e=Rr(void 0===e?t.length-1:e,0),function(){for(var o=arguments,i=-1,r=Rr(o.length-e,0),s=Array(r);++i<r;)s[i]=o[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=o[i];return a[e]=n(s),Vr(t,this,a)}};var Fr=function(t){return function(){return t}},Wr=Oo,qr=Wr?function(t,e){return Wr(t,"toString",{configurable:!0,enumerable:!1,value:Fr(e),writable:!0})}:Hr,Ur=Date.now;var Gr=function(t){var e=0,n=0;return function(){var o=Ur(),i=16-(o-n);if(n=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(qr),Xr=Hr,Yr=Br,Zr=Gr;var Jr=Fe,Kr=mi,Qr=Ji,ts=dn;var es=function(t,e){return Zr(Yr(t,e,Xr),t+"")},ns=function(t,e,n){if(!ts(n))return!1;var o=typeof e;return!!("number"==o?Kr(n)&&Qr(e,n.length):"string"==o&&e in n)&&Jr(n[e],t)};var os=Ir;const is=l(function(t){return es((function(e,n){var o=-1,i=n.length,r=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(r=t.length>3&&"function"==typeof r?(i--,r):void 0,s&&ns(n[0],n[1],s)&&(r=i<3?void 0:r,i=1),e=Object(e);++o<i;){var a=n[o];a&&t(e,a,o,r)}return e}))}((function(t,e,n,o){os(t,e,n,o)}))),rs=()=>crypto.randomUUID(),ss=(t="",e)=>{if(!e)return!1;const n=/[|\\{}()[\]^*$+?.]/g;let o="string"==typeof e?[e]:e;o=o.map((t=>"*"===t?"":t.replace(n,"\\$&")));let i=!0;return o.length&&(i=!new RegExp(o.join("|"),"i").exec(t)),i},as=t=>{var e;const n=null==(e=t.className)?void 0:e.match(xe);return n&&ye[n[0]]},ls=t=>Array.from(new Set(t)),cs=t=>{let e;if(t){const{attrs:n={}}=t;e=n.id||t.id||rs(),t.id=e}else e=rs();return e},ds=(t,e,n=Object.create(null))=>is({},t,e,((t,e)=>{if(Array.isArray(t))return Array.isArray(e)?ls(n.mergeArray?t.concat(e):e):e})),hs=t=>{let e;if(null===t||!("object"==typeof t)||t instanceof Promise)return t;if(t instanceof Date)return e=new Date,e.setTime(t.getTime()),e;if(Array.isArray(t)){e=[];for(let n=0,o=t.length;n<o;n++)e[n]=hs(t[n]);return e}if(t instanceof Object){e={};for(const n in t)Object.hasOwn(t,n)&&(e[n]=hs(t[n]));return e}throw new Error("Unable to copy Object, type not supported.")},us=(t,e)=>t/e*100,ps=t=>`${t.toString()}%`,ms=Object.create(null,{get:{value:t=>{var e;const n=null==(e=window.sessionStorage)?void 0:e.getItem(t);try{return JSON.parse(n)}catch(o){return n}}},set:{value:(t,e)=>{var n;try{return null==(n=window.sessionStorage)?void 0:n.setItem(t,JSON.stringify(e))}catch(o){}}}}),fs=t=>fe.some((e=>new RegExp(`^${e}.`).test(t))),gs=t=>t.startsWith("external");function vs(t,e){let n=!1;return function(){if(!n){t(...arguments),n=!0;const o=setTimeout((()=>{n=!1,clearTimeout(o)}),e)}}}function bs(t){return t}function ys(){}var ws=v,xs=k,Cs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ss=/^\w*$/;var Es=function(t,e){if(ws(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!xs(t))||(Ss.test(t)||!Cs.test(t)||null!=e&&t in Object(e))},Os=uo;function Ns(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var o=arguments,i=e?e.apply(this,o):o[0],r=n.cache;if(r.has(i))return r.get(i);var s=t.apply(this,o);return n.cache=r.set(i,s)||r,s};return n.cache=new(Ns.Cache||Os),n}Ns.Cache=Os;var As=Ns;var Ms=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_s=/\\(\\)?/g,Ds=function(t){var e=As(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Ms,(function(t,n,o,i){e.push(o?i.replace(_s,"$1"):n||t)})),e})),js=v,ks=Es,Ts=Ds,Ls=V;var Ps=function(t,e){return js(t)?t:ks(t,e)?[t]:Ts(Ls(t))},zs=k;var $s=function(t){if("string"==typeof t||zs(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e},Is=Ui,Hs=Ps,Vs=Ji,Rs=dn,Bs=$s;var Fs=function(t,e,n,o){if(!Rs(t))return t;for(var i=-1,r=(e=Hs(e,t)).length,s=r-1,a=t;null!=a&&++i<r;){var l=Bs(e[i]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(i!=s){var d=a[l];void 0===(c=o?o(d,l,a):void 0)&&(c=Rs(d)?d:Vs(e[i+1])?[]:{})}Is(a,l,c),a=a[l]}return t};const Ws=l((function(t,e,n){return null==t?t:Fs(t,e,n)}));var qs=Ps,Us=$s;var Gs=function(t,e){for(var n=0,o=(e=qs(e,t)).length;null!=t&&n<o;)t=t[Us(e[n++])];return n&&n==o?t:void 0};const Xs=l((function(t,e,n){var o=null==t?void 0:Gs(t,e);return void 0===o?n:o})),Ys=Ws,Zs=t=>{const e={...t},n={string:()=>"",boolean:()=>!1,object:t=>Zs(t)};for(const o of Object.keys(t)){const i=typeof t[o];n[i]&&(e[o]=n[i](t[o]))}return e},Js="a an and as at but by for for from in into near nor of on onto or the to with".split(" ").map((t=>`\\s${t}\\s`)),Ks=new RegExp(`(?!${Js.join("|")})\\w\\S*`,"g"),Qs=/\s+/g;function ta(t){if("string"!=typeof t)return t;if(t.trim().match(Qs))return t;return t.replace(Ks,(t=>t.charAt(0).toUpperCase()+t.substring(1).replace(/[A-Z]/g,(t=>` ${t}`))))}const ea=(t,e="-")=>t.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,e),na=t=>Number.isInteger(Number(t)),oa=(t,e)=>{const n=e||t.parentElement;return Array.prototype.slice.call(n.childNodes).indexOf(t)},ia=(t,e,n)=>{const o=n.split("||"),i=ls(e).map((e=>t.find((t=>{const n=o.find((e=>!!Xs(t,e)));return n&&Xs(t,n)===e})))).filter(Boolean).concat(t);return ls(i)},ra=(t,e,n)=>{for(let o=0;o<t.length;o++)e.call(n,t[o],o)},sa=(t,e)=>{const n=[];return ra(t,((t,o)=>n.push(e(t,o)))),n},aa={},la=t=>t.replace(/\b\w/g,(t=>t.toUpperCase())),ca=()=>-1!==window.navigator.userAgent.indexOf("MSIE "),da={capitalize:la,safeAttrName:t=>{if(aa[t])return aa[t];const e=({className:"class"}[t]||t).replace(/^\d/,"").replace(/[^a-zA-Z0-9-:]/g,"");return aa[t]=e,e},forEach:ra,copyObj:t=>window.JSON.parse(window.JSON.stringify(t)),map:sa,subtract:(t,e)=>e.filter((e=>!~t.indexOf(e))),indexOfNode:oa,isInt:na,get:Xs,orderObjectsBy:ia,isIE:ca},ha={getStyle:(t,e=!1)=>{let n;return window.getComputedStyle?n=window.getComputedStyle(t,null):t.currentStyle&&(n=t.currentStyle),e?n[e]:n},fadeOut:(t,e=250)=>{const n=1/(e/60);t.style.opacity=1,function e(){const o=Number(t.style.opacity)-n;o>0?(t.style.opacity=o,window.requestAnimationFrame(e)):t.remove()}()},slideDown:(t,e=250,n=!1)=>{t.style.display="block";const o=ha.getStyle(t),i=parseInt(o.height,10),r=i/(e/60);t.style.height="0px",function e(){const o=parseFloat(t.style.height),s=o+r;o<i?(t.style.height=s+"px",window.requestAnimationFrame(e)):(t.style.height="auto",n&&n(t))}()},slideUp:(t,e=250,n=!1)=>{const o=ha.getStyle(t),i=parseInt(o.height),r=o.overflow;t.style.overflow="hidden",t.style.height=i+"px";const s=o.minHeight;t.style.minHeight="auto";const a=parseFloat(i/(e/60)).toFixed(2);!function e(){const o=parseInt(t.style.height,10)-a;o>0?(t.style.height=o+"px",window.requestAnimationFrame(e)):(t.style.overflow=r,t.style.display="none",t.style.minHeight=s,delete t.style.height,n&&n(t))}()},slideToggle:(t,e=250,n="none"===ha.getStyle(t,"display"))=>{n?ha.slideDown(t,e):ha.slideUp(t,e)}},ua="no-transition",pa={debug:!1,bubbles:!0,formeoLoaded:t=>{},onAdd:()=>{},onUpdate:t=>fa.opts.debug&&void 0,onUpdateStage:t=>fa.opts.debug&&void 0,onUpdateRow:t=>fa.opts.debug&&void 0,onUpdateColumn:t=>fa.opts.debug&&void 0,onUpdateField:t=>fa.opts.debug&&void 0,onRender:t=>fa.opts.debug&&void 0,onSave:t=>{},confirmClearAll:t=>{window.confirm(t.confirmationMessage)&&t.clearAllAction(t)}},ma=({src:t,...e},n=Le)=>{const o=new window.CustomEvent(n,{detail:e,bubbles:fa.opts.debug||fa.opts.bubbles});return o.data=(t||document).dispatchEvent(o),o},fa={init:function(t){return this.opts={...pa,...t},this},formeoSaved:t=>ma(t,Te),formeoUpdated:t=>ma(t,Le),formeoCleared:t=>ma(t,"formeoCleared"),formeoOnRender:t=>ma(t,Pe),formeoConditionUpdated:t=>ma(t,"formeoConditionUpdated")},ga=vs((()=>{fa.opts.onUpdate({timeStamp:window.performance.now(),type:Le,detail:Yh.formData})}),je);let va;document.addEventListener(Le,ga),document.addEventListener("formeoUpdatedStage",(t=>{const{timeStamp:e,type:n,detail:o}=t;fa.opts.onUpdate({timeStamp:e,type:n,detail:o})})),document.addEventListener("formeoUpdatedRow",(t=>{const{timeStamp:e,type:n,detail:o}=t;fa.opts.onUpdate({timeStamp:e,type:n,detail:o})})),document.addEventListener("formeoUpdatedColumn",(t=>{const{timeStamp:e,type:n,detail:o}=t;fa.opts.onUpdate({timeStamp:e,type:n,detail:o})})),document.addEventListener("formeoUpdatedField",(t=>{const{timeStamp:e,type:n,detail:o}=t;fa.opts.onUpdate({timeStamp:e,type:n,detail:o})})),document.addEventListener(Pe,(t=>{const{timeStamp:e,type:n,detail:o}=t;fa.opts.onRender({timeStamp:e,type:n,detail:o})})),document.addEventListener("confirmClearAll",(t=>{t={timeStamp:t.timeStamp,type:t.type,confirmationMessage:t.detail.confirmationMessage,clearAllAction:t.detail.clearAllAction,btnCoords:t.detail.btnCoords},fa.opts.confirmClearAll(t)})),document.addEventListener(Te,(({timeStamp:t,type:e,detail:{formData:n}})=>{const o={timeStamp:t,type:e,formData:n};fa.opts.onSave(o)})),document.addEventListener("formeoLoaded",(t=>{fa.opts.formeoLoaded(t.detail.formeo)})),window.addEventListener("resize",(function(){va=va||window.requestAnimationFrame((()=>{va=!1,Object.values(Wh.data).forEach((t=>{t.dom.classList.add(ua),Uh.dom.classList.add(ua),Uh.panels.nav.refresh(),t.refreshFieldPanels()}))}))}));var ba=uo,ya=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},wa=function(t){return this.__data__.has(t)};function xa(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new ba;++e<n;)this.add(t[e])}xa.prototype.add=xa.prototype.push=ya,xa.prototype.has=wa;var Ca=xa,Sa=function(t,e){for(var n=-1,o=null==t?0:t.length;++n<o;)if(e(t[n],n,t))return!0;return!1},Ea=function(t,e){return t.has(e)};var Oa=function(t,e,n,o,i,r){var s=1&n,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(t),d=r.get(e);if(c&&d)return c==e&&d==t;var h=-1,u=!0,p=2&n?new Ca:void 0;for(r.set(t,e),r.set(e,t);++h<a;){var m=t[h],f=e[h];if(o)var g=s?o(f,m,h,e,t,r):o(m,f,h,t,e,r);if(void 0!==g){if(g)continue;u=!1;break}if(p){if(!Sa(e,(function(t,e){if(!Ea(p,e)&&(m===t||i(m,t,n,o,r)))return p.push(e)}))){u=!1;break}}else if(m!==f&&!i(m,f,n,o,r)){u=!1;break}}return r.delete(t),r.delete(e),u};var Na=Ro,Aa=Fe,Ma=Oa,_a=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,o){n[++e]=[o,t]})),n},Da=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n},ja=f?f.prototype:void 0,ka=ja?ja.valueOf:void 0;var Ta=function(t,e,n,o,i,r,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!r(new Na(t),new Na(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Aa(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=_a;case"[object Set]":var l=1&o;if(a||(a=Da),t.size!=e.size&&!l)return!1;var c=s.get(t);if(c)return c==e;o|=2,s.set(t,e);var d=Ma(a(t),a(e),o,i,r,s);return s.delete(t),d;case"[object Symbol]":if(ka)return ka.call(t)==ka.call(e)}return!1};var La=function(t,e){for(var n=-1,o=e.length,i=t.length;++n<o;)t[i+n]=e[n];return t},Pa=v;var za=function(t,e,n){var o=e(t);return Pa(t)?o:La(o,n(t))};var $a=function(t,e){for(var n=-1,o=null==t?0:t.length,i=0,r=[];++n<o;){var s=t[n];e(s,n,t)&&(r[i++]=s)}return r},Ia=function(){return[]},Ha=Object.prototype.propertyIsEnumerable,Va=Object.getOwnPropertySymbols,Ra=Va?function(t){return null==t?[]:(t=Object(t),$a(Va(t),(function(e){return Ha.call(t,e)})))}:Ia,Ba=Yo(Object.keys,Object),Fa=Ko,Wa=Ba,qa=Object.prototype.hasOwnProperty;var Ua=rr,Ga=function(t){if(!Fa(t))return Wa(t);var e=[];for(var n in Object(t))qa.call(t,n)&&"constructor"!=n&&e.push(n);return e},Xa=mi;var Ya=za,Za=Ra,Ja=function(t){return Xa(t)?Ua(t):Ga(t)};var Ka=function(t){return Ya(t,Ja,Za)},Qa=Object.prototype.hasOwnProperty;var tl=function(t,e,n,o,i,r){var s=1&n,a=Ka(t),l=a.length;if(l!=Ka(e).length&&!s)return!1;for(var c=l;c--;){var d=a[c];if(!(s?d in e:Qa.call(e,d)))return!1}var h=r.get(t),u=r.get(e);if(h&&u)return h==e&&u==t;var p=!0;r.set(t,e),r.set(e,t);for(var m=s;++c<l;){var f=t[d=a[c]],g=e[d];if(o)var v=s?o(g,f,d,e,t,r):o(f,g,d,t,e,r);if(!(void 0===v?f===g||i(f,g,n,o,r):v)){p=!1;break}m||(m="constructor"==d)}if(p&&!m){var b=t.constructor,y=e.constructor;b==y||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(p=!1)}return r.delete(t),r.delete(e),p},el=kn(m,"DataView"),nl=Tn,ol=kn(m,"Promise"),il=kn(m,"Set"),rl=kn(m,"WeakMap"),sl=M,al=yn,ll="[object Map]",cl="[object Promise]",dl="[object Set]",hl="[object WeakMap]",ul="[object DataView]",pl=al(el),ml=al(nl),fl=al(ol),gl=al(il),vl=al(rl),bl=sl;(el&&bl(new el(new ArrayBuffer(1)))!=ul||nl&&bl(new nl)!=ll||ol&&bl(ol.resolve())!=cl||il&&bl(new il)!=dl||rl&&bl(new rl)!=hl)&&(bl=function(t){var e=sl(t),n="[object Object]"==e?t.constructor:void 0,o=n?al(n):"";if(o)switch(o){case pl:return ul;case ml:return ll;case fl:return cl;case gl:return dl;case vl:return hl}return e});var yl=So,wl=Oa,xl=Ta,Cl=tl,Sl=bl,El=v,Ol=wi,Nl=Ri,Al="[object Arguments]",Ml="[object Array]",_l="[object Object]",Dl=Object.prototype.hasOwnProperty;var jl=function(t,e,n,o,i,r){var s=El(t),a=El(e),l=s?Ml:Sl(t),c=a?Ml:Sl(e),d=(l=l==Al?_l:l)==_l,h=(c=c==Al?_l:c)==_l,u=l==c;if(u&&Ol(t)){if(!Ol(e))return!1;s=!0,d=!1}if(u&&!d)return r||(r=new yl),s||Nl(t)?wl(t,e,n,o,i,r):xl(t,e,l,n,o,i,r);if(!(1&n)){var p=d&&Dl.call(t,"__wrapped__"),m=h&&Dl.call(e,"__wrapped__");if(p||m){var f=p?t.value():t,g=m?e.value():e;return r||(r=new yl),i(f,g,n,o,r)}}return!!u&&(r||(r=new yl),Cl(t,e,n,o,i,r))},kl=_;var Tl=function t(e,n,o,i,r){return e===n||(null==e||null==n||!kl(e)&&!kl(n)?e!=e&&n!=n:jl(e,n,o,i,t,r))},Ll=Tl;const Pl=l((function(t,e){return Ll(t,e)}));class zl{constructor(t,n=Object.create(null)){e(this,"toJSON",((t,e)=>JSON.stringify(t,null,e))),e(this,"get",(t=>Xs(this.data,t))),e(this,"getChangeType",((t,e)=>{const n=Ae.find((({condition:n})=>n(t,e)))||{type:"unknown"};return n.desc="added"===n.type?`${t} to ${e}`:e,n})),e(this,"add",((t,e=Object.create(null))=>{const{id:n}=e,o=t||n||cs();return this.set(o,e)})),e(this,"remove",(t=>{const e=t.split("."),n=e.pop(),o=this.get(e);return Array.isArray(o)?o.splice(Number(n),1):delete o[n],o})),e(this,"getData",(()=>Object.entries(this.data).reduce(((t,[e,n])=>(t[e]=(null==n?void 0:n.data)?n.getData():n,t)),{}))),e(this,"setCallbacks",{}),e(this,"configVal",Object.create(null)),this.name=t,this.data=n,this.dataPath=""}get size(){return Object.keys(this.data).length}get js(){return this.data}get json(){return this.data}set(t,e){const n=Xs(this.data,t);if(Pl(n,e))return this.data;const o=Ys(this.data,t,e),i=Array.isArray(t)?t.join("."):t,r=Object.keys(this.setCallbacks).filter((t=>new RegExp(t).test(i))),s={newVal:e,oldVal:n,path:t};for(const a of r)for(const t of this.setCallbacks[a])t(s);if(!this.disableEvents){const i=this.getChangeType(n,e),r={entity:this,dataPath:this.dataPath.replace(/\.+$/,""),changePath:this.dataPath+t,value:e,data:o,change:`${i.type}: ${i.desc}`,src:this.dom};n&&(r.previousValue=n),fa.formeoUpdated(r)}return o}addSetCallback(t,e){this.setCallbacks[t]?this.setCallbacks[t].push(e):this.setCallbacks[t]=[e]}removeSetCallback(t,e){this.setCallbacks[t]=this.setCallbacks[t].filter((t=>t!==e))}empty(){this.data=Object.create(null)}}function $l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function Il(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$l(Object(n),!0).forEach((function(e){Vl(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Hl(t){return(Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rl(){return Rl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Rl.apply(this,arguments)}function Bl(t,e){if(null==t)return{};var n,o,i=function(t,e){if(null==t)return{};var n,o,i={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Fl(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var Wl=Fl(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ql=Fl(/Edge/i),Ul=Fl(/firefox/i),Gl=Fl(/safari/i)&&!Fl(/chrome/i)&&!Fl(/android/i),Xl=Fl(/iP(ad|od|hone)/i),Yl=Fl(/chrome/i)&&Fl(/android/i),Zl={capture:!1,passive:!1};function Jl(t,e,n){t.addEventListener(e,n,!Wl&&Zl)}function Kl(t,e,n){t.removeEventListener(e,n,!Wl&&Zl)}function Ql(t,e){if(e){if(">"===e[0]&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(n){return!1}return!1}}function tc(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function ec(t,e,n,o){if(t){n=n||document;do{if(null!=e&&(">"===e[0]?t.parentNode===n&&Ql(t,e):Ql(t,e))||o&&t===n)return t;if(t===n)break}while(t=tc(t))}return null}var nc,oc=/\s+/g;function ic(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(oc," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(oc," ")}}function rc(t,e,n){var o=t&&t.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];e in o||-1!==e.indexOf("webkit")||(e="-webkit-"+e),o[e]=n+("string"==typeof n?"":"px")}}function sc(t,e){var n="";if("string"==typeof t)n=t;else do{var o=rc(t,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function ac(t,e,n){if(t){var o=t.getElementsByTagName(e),i=0,r=o.length;if(n)for(;i<r;i++)n(o[i],i);return o}return[]}function lc(){var t=document.scrollingElement;return t||document.documentElement}function cc(t,e,n,o,i){if(t.getBoundingClientRect||t===window){var r,s,a,l,c,d,h;if(t!==window&&t.parentNode&&t!==lc()?(s=(r=t.getBoundingClientRect()).top,a=r.left,l=r.bottom,c=r.right,d=r.height,h=r.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,h=window.innerWidth),(e||n)&&t!==window&&(i=i||t.parentNode,!Wl))do{if(i&&i.getBoundingClientRect&&("none"!==rc(i,"transform")||n&&"static"!==rc(i,"position"))){var u=i.getBoundingClientRect();s-=u.top+parseInt(rc(i,"border-top-width")),a-=u.left+parseInt(rc(i,"border-left-width")),l=s+r.height,c=a+r.width;break}}while(i=i.parentNode);if(o&&t!==window){var p=sc(i||t),m=p&&p.a,f=p&&p.d;p&&(l=(s/=f)+(d/=f),c=(a/=m)+(h/=m))}return{top:s,left:a,bottom:l,right:c,width:h,height:d}}}function dc(t,e,n){for(var o=fc(t,!0),i=cc(t)[e];o;){if(!(i>=cc(o)[n]))return o;if(o===lc())break;o=fc(o,!1)}return!1}function hc(t,e,n,o){for(var i=0,r=0,s=t.children;r<s.length;){if("none"!==s[r].style.display&&s[r]!==yd.ghost&&(o||s[r]!==yd.dragged)&&ec(s[r],n.draggable,t,!1)){if(i===e)return s[r];i++}r++}return null}function uc(t,e){for(var n=t.lastElementChild;n&&(n===yd.ghost||"none"===rc(n,"display")||e&&!Ql(n,e));)n=n.previousElementSibling;return n||null}function pc(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===yd.clone||e&&!Ql(t,e)||n++;return n}function mc(t){var e=0,n=0,o=lc();if(t)do{var i=sc(t),r=i.a,s=i.d;e+=t.scrollLeft*r,n+=t.scrollTop*s}while(t!==o&&(t=t.parentNode));return[e,n]}function fc(t,e){if(!t||!t.getBoundingClientRect)return lc();var n=t,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=rc(n);if(n.clientWidth<n.scrollWidth&&("auto"==i.overflowX||"scroll"==i.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==i.overflowY||"scroll"==i.overflowY)){if(!n.getBoundingClientRect||n===document.body)return lc();if(o||e)return n;o=!0}}}while(n=n.parentNode);return lc()}function gc(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function vc(t,e){return function(){if(!nc){var n=arguments;1===n.length?t.call(this,n[0]):t.apply(this,n),nc=setTimeout((function(){nc=void 0}),e)}}}function bc(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function yc(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function wc(t,e,n){var o={};return Array.from(t.children).forEach((function(i){var r,s,a,l;if(ec(i,e.draggable,t,!1)&&!i.animated&&i!==n){var c=cc(i);o.left=Math.min(null!==(r=o.left)&&void 0!==r?r:1/0,c.left),o.top=Math.min(null!==(s=o.top)&&void 0!==s?s:1/0,c.top),o.right=Math.max(null!==(a=o.right)&&void 0!==a?a:-1/0,c.right),o.bottom=Math.max(null!==(l=o.bottom)&&void 0!==l?l:-1/0,c.bottom)}})),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var xc="Sortable"+(new Date).getTime();function Cc(){var t,e=[];return{captureAnimationState:function(){(e=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(t){if("none"!==rc(t,"display")&&t!==yd.ghost){e.push({target:t,rect:cc(t)});var n=Il({},e[e.length-1].rect);if(t.thisAnimationDuration){var o=sc(t,!0);o&&(n.top-=o.f,n.left-=o.e)}t.fromRect=n}}))},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n);return-1}(e,{target:t}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(t),void("function"==typeof n&&n());var i=!1,r=0;e.forEach((function(t){var e=0,n=t.target,s=n.fromRect,a=cc(n),l=n.prevFromRect,c=n.prevToRect,d=t.rect,h=sc(n,!0);h&&(a.top-=h.f,a.left-=h.e),n.toRect=a,n.thisAnimationDuration&&gc(l,a)&&!gc(s,a)&&(d.top-a.top)/(d.left-a.left)==(s.top-a.top)/(s.left-a.left)&&(e=function(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}(d,l,c,o.options)),gc(a,s)||(n.prevFromRect=s,n.prevToRect=a,e||(e=o.options.animation),o.animate(n,d,a,e)),e&&(i=!0,r=Math.max(r,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),e),n.thisAnimationDuration=e)})),clearTimeout(t),i?t=setTimeout((function(){"function"==typeof n&&n()}),r):"function"==typeof n&&n(),e=[]},animate:function(t,e,n,o){if(o){rc(t,"transition",""),rc(t,"transform","");var i=sc(this.el),r=i&&i.a,s=i&&i.d,a=(e.left-n.left)/(r||1),l=(e.top-n.top)/(s||1);t.animatingX=!!a,t.animatingY=!!l,rc(t,"transform","translate3d("+a+"px,"+l+"px,0)"),this.forRepaintDummy=function(t){return t.offsetWidth}(t),rc(t,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),rc(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout((function(){rc(t,"transition",""),rc(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1}),o)}}}}var Sc=[],Ec={initializeByDefault:!0},Oc={mount:function(t){for(var e in Ec)Ec.hasOwnProperty(e)&&!(e in t)&&(t[e]=Ec[e]);Sc.forEach((function(e){if(e.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")})),Sc.push(t)},pluginEvent:function(t,e,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var i=t+"Global";Sc.forEach((function(o){e[o.pluginName]&&(e[o.pluginName][i]&&e[o.pluginName][i](Il({sortable:e},n)),e.options[o.pluginName]&&e[o.pluginName][t]&&e[o.pluginName][t](Il({sortable:e},n)))}))},initializePlugins:function(t,e,n,o){for(var i in Sc.forEach((function(o){var i=o.pluginName;if(t.options[i]||o.initializeByDefault){var r=new o(t,e,t.options);r.sortable=t,r.options=t.options,t[i]=r,Rl(n,r.defaults)}})),t.options)if(t.options.hasOwnProperty(i)){var r=this.modifyOption(t,i,t.options[i]);void 0!==r&&(t.options[i]=r)}},getEventProperties:function(t,e){var n={};return Sc.forEach((function(o){"function"==typeof o.eventProperties&&Rl(n,o.eventProperties.call(e[o.pluginName],t))})),n},modifyOption:function(t,e,n){var o;return Sc.forEach((function(i){t[i.pluginName]&&i.optionListeners&&"function"==typeof i.optionListeners[e]&&(o=i.optionListeners[e].call(t[i.pluginName],n))})),o}};var Nc=["evt"],Ac=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,i=Bl(n,Nc);Oc.pluginEvent.bind(yd)(t,e,Il({dragEl:_c,parentEl:Dc,ghostEl:jc,rootEl:kc,nextEl:Tc,lastDownEl:Lc,cloneEl:Pc,cloneHidden:zc,dragStarted:Yc,putSortable:Bc,activeSortable:yd.active,originalEvent:o,oldIndex:$c,oldDraggableIndex:Hc,newIndex:Ic,newDraggableIndex:Vc,hideGhostForTarget:fd,unhideGhostForTarget:gd,cloneNowHidden:function(){zc=!0},cloneNowShown:function(){zc=!1},dispatchSortableEvent:function(t){Mc({sortable:e,name:t,originalEvent:o})}},i))};function Mc(t){!function(t){var e=t.sortable,n=t.rootEl,o=t.name,i=t.targetEl,r=t.cloneEl,s=t.toEl,a=t.fromEl,l=t.oldIndex,c=t.newIndex,d=t.oldDraggableIndex,h=t.newDraggableIndex,u=t.originalEvent,p=t.putSortable,m=t.extraEventProperties;if(e=e||n&&n[xc]){var f,g=e.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||Wl||ql?(f=document.createEvent("Event")).initEvent(o,!0,!0):f=new CustomEvent(o,{bubbles:!0,cancelable:!0}),f.to=s||n,f.from=a||n,f.item=i||n,f.clone=r,f.oldIndex=l,f.newIndex=c,f.oldDraggableIndex=d,f.newDraggableIndex=h,f.originalEvent=u,f.pullMode=p?p.lastPutMode:void 0;var b=Il(Il({},m),Oc.getEventProperties(o,e));for(var y in b)f[y]=b[y];n&&n.dispatchEvent(f),g[v]&&g[v].call(e,f)}}(Il({putSortable:Bc,cloneEl:Pc,targetEl:_c,rootEl:kc,oldIndex:$c,oldDraggableIndex:Hc,newIndex:Ic,newDraggableIndex:Vc},t))}var _c,Dc,jc,kc,Tc,Lc,Pc,zc,$c,Ic,Hc,Vc,Rc,Bc,Fc,Wc,qc,Uc,Gc,Xc,Yc,Zc,Jc,Kc,Qc,td=!1,ed=!1,nd=[],od=!1,id=!1,rd=[],sd=!1,ad=[],ld="undefined"!=typeof document,cd=Xl,dd=ql||Wl?"cssFloat":"float",hd=ld&&!Yl&&!Xl&&"draggable"in document.createElement("div"),ud=function(){if(ld){if(Wl)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),pd=function(t,e){var n=rc(t),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=hc(t,0,e),r=hc(t,1,e),s=i&&rc(i),a=r&&rc(r),l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+cc(i).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+cc(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&s.float&&"none"!==s.float){var d="left"===s.float?"left":"right";return!r||"both"!==a.clear&&a.clear!==d?"horizontal":"vertical"}return i&&("block"===s.display||"flex"===s.display||"table"===s.display||"grid"===s.display||l>=o&&"none"===n[dd]||r&&"none"===n[dd]&&l+c>o)?"vertical":"horizontal"},md=function(t){function e(t,n){return function(o,i,r,s){var a=o.options.group.name&&i.options.group.name&&o.options.group.name===i.options.group.name;if(null==t&&(n||a))return!0;if(null==t||!1===t)return!1;if(n&&"clone"===t)return t;if("function"==typeof t)return e(t(o,i,r,s),n)(o,i,r,s);var l=(n?o:i).options.group.name;return!0===t||"string"==typeof t&&t===l||t.join&&t.indexOf(l)>-1}}var n={},o=t.group;o&&"object"==Hl(o)||(o={name:o}),n.name=o.name,n.checkPull=e(o.pull,!0),n.checkPut=e(o.put),n.revertClone=o.revertClone,t.group=n},fd=function(){!ud&&jc&&rc(jc,"display","none")},gd=function(){!ud&&jc&&rc(jc,"display","")};ld&&!Yl&&document.addEventListener("click",(function(t){if(ed)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),ed=!1,!1}),!0);var vd=function(t){if(_c){t=t.touches?t.touches[0]:t;var e=(i=t.clientX,r=t.clientY,nd.some((function(t){var e=t[xc].options.emptyInsertThreshold;if(e&&!uc(t)){var n=cc(t),o=i>=n.left-e&&i<=n.right+e,a=r>=n.top-e&&r<=n.bottom+e;return o&&a?s=t:void 0}})),s);if(e){var n={};for(var o in t)t.hasOwnProperty(o)&&(n[o]=t[o]);n.target=n.rootEl=e,n.preventDefault=void 0,n.stopPropagation=void 0,e[xc]._onDragOver(n)}}var i,r,s},bd=function(t){_c&&_c.parentNode[xc]._isOutsideThisEl(t.target)};function yd(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Rl({},e),t[xc]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return pd(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==yd.supportPointer&&"PointerEvent"in window&&!Gl,emptyInsertThreshold:5};for(var o in Oc.initializePlugins(this,t,n),n)!(o in e)&&(e[o]=n[o]);for(var i in md(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&hd,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Jl(t,"pointerdown",this._onTapStart):(Jl(t,"mousedown",this._onTapStart),Jl(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Jl(t,"dragover",this),Jl(t,"dragenter",this)),nd.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Rl(this,Cc())}function wd(t,e,n,o,i,r,s,a){var l,c,d=t[xc],h=d.options.onMove;return!window.CustomEvent||Wl||ql?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=o,l.related=i||e,l.relatedRect=r||cc(e),l.willInsertAfter=a,l.originalEvent=s,t.dispatchEvent(l),h&&(c=h.call(d,l,s)),c}function xd(t){t.draggable=!1}function Cd(){sd=!1}function Sd(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function Ed(t){return setTimeout(t,0)}function Od(t){return clearTimeout(t)}yd.prototype={constructor:yd,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(Zc=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,_c):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,n=this.el,o=this.options,i=o.preventOnFilter,r=t.type,s=t.touches&&t.touches[0]||t.pointerType&&"touch"===t.pointerType&&t,a=(s||t).target,l=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,c=o.filter;if(function(t){ad.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var o=e[n];o.checked&&ad.push(o)}}(n),!_c&&!(/mousedown|pointerdown/.test(r)&&0!==t.button||o.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!Gl||!a||"SELECT"!==a.tagName.toUpperCase())&&!((a=ec(a,o.draggable,n,!1))&&a.animated||Lc===a)){if($c=pc(a),Hc=pc(a,o.draggable),"function"==typeof c){if(c.call(this,t,a,this))return Mc({sortable:e,rootEl:l,name:"filter",targetEl:a,toEl:n,fromEl:n}),Ac("filter",e,{evt:t}),void(i&&t.cancelable&&t.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=ec(l,o.trim(),n,!1))return Mc({sortable:e,rootEl:o,name:"filter",targetEl:a,fromEl:n,toEl:n}),Ac("filter",e,{evt:t}),!0}))))return void(i&&t.cancelable&&t.preventDefault());o.handle&&!ec(l,o.handle,n,!1)||this._prepareDragStart(t,s,a)}}},_prepareDragStart:function(t,e,n){var o,i=this,r=i.el,s=i.options,a=r.ownerDocument;if(n&&!_c&&n.parentNode===r){var l=cc(n);if(kc=r,Dc=(_c=n).parentNode,Tc=_c.nextSibling,Lc=n,Rc=s.group,yd.dragged=_c,Fc={target:_c,clientX:(e||t).clientX,clientY:(e||t).clientY},Gc=Fc.clientX-l.left,Xc=Fc.clientY-l.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,_c.style["will-change"]="all",o=function(){Ac("delayEnded",i,{evt:t}),yd.eventCanceled?i._onDrop():(i._disableDelayedDragEvents(),!Ul&&i.nativeDraggable&&(_c.draggable=!0),i._triggerDragStart(t,e),Mc({sortable:i,name:"choose",originalEvent:t}),ic(_c,s.chosenClass,!0))},s.ignore.split(",").forEach((function(t){ac(_c,t.trim(),xd)})),Jl(a,"dragover",vd),Jl(a,"mousemove",vd),Jl(a,"touchmove",vd),Jl(a,"mouseup",i._onDrop),Jl(a,"touchend",i._onDrop),Jl(a,"touchcancel",i._onDrop),Ul&&this.nativeDraggable&&(this.options.touchStartThreshold=4,_c.draggable=!0),Ac("delayStart",this,{evt:t}),!s.delay||s.delayOnTouchOnly&&!e||this.nativeDraggable&&(ql||Wl))o();else{if(yd.eventCanceled)return void this._onDrop();Jl(a,"mouseup",i._disableDelayedDrag),Jl(a,"touchend",i._disableDelayedDrag),Jl(a,"touchcancel",i._disableDelayedDrag),Jl(a,"mousemove",i._delayedDragTouchMoveHandler),Jl(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&Jl(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(o,s.delay)}}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){_c&&xd(_c),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Kl(t,"mouseup",this._disableDelayedDrag),Kl(t,"touchend",this._disableDelayedDrag),Kl(t,"touchcancel",this._disableDelayedDrag),Kl(t,"mousemove",this._delayedDragTouchMoveHandler),Kl(t,"touchmove",this._delayedDragTouchMoveHandler),Kl(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?Jl(document,"pointermove",this._onTouchMove):Jl(document,e?"touchmove":"mousemove",this._onTouchMove):(Jl(_c,"dragend",this),Jl(kc,"dragstart",this._onDragStart));try{document.selection?Ed((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(t,e){if(td=!1,kc&&_c){Ac("dragStarted",this,{evt:e}),this.nativeDraggable&&Jl(document,"dragover",bd);var n=this.options;!t&&ic(_c,n.dragClass,!1),ic(_c,n.ghostClass,!0),yd.active=this,t&&this._appendGhost(),Mc({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(Wc){this._lastX=Wc.clientX,this._lastY=Wc.clientY,fd();for(var t=document.elementFromPoint(Wc.clientX,Wc.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Wc.clientX,Wc.clientY))!==e;)e=t;if(_c.parentNode[xc]._isOutsideThisEl(t),e)do{if(e[xc]){if(e[xc]._onDragOver({clientX:Wc.clientX,clientY:Wc.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}t=e}while(e=tc(e));gd()}},_onTouchMove:function(t){if(Fc){var e=this.options,n=e.fallbackTolerance,o=e.fallbackOffset,i=t.touches?t.touches[0]:t,r=jc&&sc(jc,!0),s=jc&&r&&r.a,a=jc&&r&&r.d,l=cd&&Qc&&mc(Qc),c=(i.clientX-Fc.clientX+o.x)/(s||1)+(l?l[0]-rd[0]:0)/(s||1),d=(i.clientY-Fc.clientY+o.y)/(a||1)+(l?l[1]-rd[1]:0)/(a||1);if(!yd.active&&!td){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(jc){r?(r.e+=c-(qc||0),r.f+=d-(Uc||0)):r={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");rc(jc,"webkitTransform",h),rc(jc,"mozTransform",h),rc(jc,"msTransform",h),rc(jc,"transform",h),qc=c,Uc=d,Wc=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!jc){var t=this.options.fallbackOnBody?document.body:kc,e=cc(_c,!0,cd,!0,t),n=this.options;if(cd){for(Qc=t;"static"===rc(Qc,"position")&&"none"===rc(Qc,"transform")&&Qc!==document;)Qc=Qc.parentNode;Qc!==document.body&&Qc!==document.documentElement?(Qc===document&&(Qc=lc()),e.top+=Qc.scrollTop,e.left+=Qc.scrollLeft):Qc=lc(),rd=mc(Qc)}ic(jc=_c.cloneNode(!0),n.ghostClass,!1),ic(jc,n.fallbackClass,!0),ic(jc,n.dragClass,!0),rc(jc,"transition",""),rc(jc,"transform",""),rc(jc,"box-sizing","border-box"),rc(jc,"margin",0),rc(jc,"top",e.top),rc(jc,"left",e.left),rc(jc,"width",e.width),rc(jc,"height",e.height),rc(jc,"opacity","0.8"),rc(jc,"position",cd?"absolute":"fixed"),rc(jc,"zIndex","100000"),rc(jc,"pointerEvents","none"),yd.ghost=jc,t.appendChild(jc),rc(jc,"transform-origin",Gc/parseInt(jc.style.width)*100+"% "+Xc/parseInt(jc.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,o=t.dataTransfer,i=n.options;Ac("dragStart",this,{evt:t}),yd.eventCanceled?this._onDrop():(Ac("setupClone",this),yd.eventCanceled||((Pc=yc(_c)).removeAttribute("id"),Pc.draggable=!1,Pc.style["will-change"]="",this._hideClone(),ic(Pc,this.options.chosenClass,!1),yd.clone=Pc),n.cloneId=Ed((function(){Ac("clone",n),yd.eventCanceled||(n.options.removeCloneOnHide||kc.insertBefore(Pc,_c),n._hideClone(),Mc({sortable:n,name:"clone"}))})),!e&&ic(_c,i.dragClass,!0),e?(ed=!0,n._loopId=setInterval(n._emulateDragOver,50)):(Kl(document,"mouseup",n._onDrop),Kl(document,"touchend",n._onDrop),Kl(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(n,o,_c)),Jl(document,"drop",n),rc(_c,"transform","translateZ(0)")),td=!0,n._dragStartId=Ed(n._dragStarted.bind(n,e,t)),Jl(document,"selectstart",n),Yc=!0,Gl&&rc(document.body,"user-select","none"))},_onDragOver:function(t){var e,n,o,i,r=this.el,s=t.target,a=this.options,l=a.group,c=yd.active,d=Rc===l,h=a.sort,u=Bc||c,p=this,m=!1;if(!sd){if(void 0!==t.preventDefault&&t.cancelable&&t.preventDefault(),s=ec(s,a.draggable,r,!0),_("dragOver"),yd.eventCanceled)return m;if(_c.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return j(!1);if(ed=!1,c&&!a.disabled&&(d?h||(o=Dc!==kc):Bc===this||(this.lastPutMode=Rc.checkPull(this,c,_c,t))&&l.checkPut(this,c,_c,t))){if(i="vertical"===this._getDirection(t,s),e=cc(_c),_("dragOverValid"),yd.eventCanceled)return m;if(o)return Dc=kc,D(),this._hideClone(),_("revert"),yd.eventCanceled||(Tc?kc.insertBefore(_c,Tc):kc.appendChild(_c)),j(!0);var f=uc(r,a.draggable);if(!f||function(t,e,n){var o=cc(uc(n.el,n.options.draggable)),i=wc(n.el,n.options,jc),r=10;return e?t.clientX>i.right+r||t.clientY>o.bottom&&t.clientX>o.left:t.clientY>i.bottom+r||t.clientX>o.right&&t.clientY>o.top}(t,i,this)&&!f.animated){if(f===_c)return j(!1);if(f&&r===t.target&&(s=f),s&&(n=cc(s)),!1!==wd(kc,r,_c,e,s,n,t,!!s))return D(),f&&f.nextSibling?r.insertBefore(_c,f.nextSibling):r.appendChild(_c),Dc=r,k(),j(!0)}else if(f&&function(t,e,n){var o=cc(hc(n.el,0,n.options,!0)),i=wc(n.el,n.options,jc),r=10;return e?t.clientX<i.left-r||t.clientY<o.top&&t.clientX<o.right:t.clientY<i.top-r||t.clientY<o.bottom&&t.clientX<o.left}(t,i,this)){var g=hc(r,0,a,!0);if(g===_c)return j(!1);if(n=cc(s=g),!1!==wd(kc,r,_c,e,s,n,t,!1))return D(),r.insertBefore(_c,g),Dc=r,k(),j(!0)}else if(s.parentNode===r){n=cc(s);var v,b,y,w=_c.parentNode!==r,x=!function(t,e,n){var o=n?t.left:t.top,i=n?t.right:t.bottom,r=n?t.width:t.height,s=n?e.left:e.top,a=n?e.right:e.bottom,l=n?e.width:e.height;return o===s||i===a||o+r/2===s+l/2}(_c.animated&&_c.toRect||e,s.animated&&s.toRect||n,i),C=i?"top":"left",S=dc(s,"top","top")||dc(_c,"top","top"),E=S?S.scrollTop:void 0;if(Zc!==s&&(b=n[C],od=!1,id=!x&&a.invertSwap||w),v=function(t,e,n,o,i,r,s,a){var l=o?t.clientY:t.clientX,c=o?n.height:n.width,d=o?n.top:n.left,h=o?n.bottom:n.right,u=!1;if(!s)if(a&&Kc<c*i){if(!od&&(1===Jc?l>d+c*r/2:l<h-c*r/2)&&(od=!0),od)u=!0;else if(1===Jc?l<d+Kc:l>h-Kc)return-Jc}else if(l>d+c*(1-i)/2&&l<h-c*(1-i)/2)return function(t){return pc(_c)<pc(t)?1:-1}(e);if((u=u||s)&&(l<d+c*r/2||l>h-c*r/2))return l>d+c/2?1:-1;return 0}(t,s,n,i,x?1:a.swapThreshold,null==a.invertedSwapThreshold?a.swapThreshold:a.invertedSwapThreshold,id,Zc===s),0!==v){var O=pc(_c);do{O-=v,y=Dc.children[O]}while(y&&("none"===rc(y,"display")||y===jc))}if(0===v||y===s)return j(!1);Zc=s,Jc=v;var N=s.nextElementSibling,A=!1,M=wd(kc,r,_c,e,s,n,t,A=1===v);if(!1!==M)return 1!==M&&-1!==M||(A=1===M),sd=!0,setTimeout(Cd,30),D(),A&&!N?r.appendChild(_c):s.parentNode.insertBefore(_c,A?N:s),S&&bc(S,0,E-S.scrollTop),Dc=_c.parentNode,void 0===b||id||(Kc=Math.abs(b-cc(s)[C])),k(),j(!0)}if(r.contains(_c))return j(!1)}return!1}function _(a,l){Ac(a,p,Il({evt:t,isOwner:d,axis:i?"vertical":"horizontal",revert:o,dragRect:e,targetRect:n,canSort:h,fromSortable:u,target:s,completed:j,onMove:function(n,o){return wd(kc,r,_c,e,n,cc(n),t,o)},changed:k},l))}function D(){_("dragOverAnimationCapture"),p.captureAnimationState(),p!==u&&u.captureAnimationState()}function j(e){return _("dragOverCompleted",{insertion:e}),e&&(d?c._hideClone():c._showClone(p),p!==u&&(ic(_c,Bc?Bc.options.ghostClass:c.options.ghostClass,!1),ic(_c,a.ghostClass,!0)),Bc!==p&&p!==yd.active?Bc=p:p===yd.active&&Bc&&(Bc=null),u===p&&(p._ignoreWhileAnimating=s),p.animateAll((function(){_("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==u&&(u.animateAll(),u._ignoreWhileAnimating=null)),(s===_c&&!_c.animated||s===r&&!s.animated)&&(Zc=null),a.dragoverBubble||t.rootEl||s===document||(_c.parentNode[xc]._isOutsideThisEl(t.target),!e&&vd(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function k(){Ic=pc(_c),Vc=pc(_c,a.draggable),Mc({sortable:p,name:"change",toEl:r,newIndex:Ic,newDraggableIndex:Vc,originalEvent:t})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){Kl(document,"mousemove",this._onTouchMove),Kl(document,"touchmove",this._onTouchMove),Kl(document,"pointermove",this._onTouchMove),Kl(document,"dragover",vd),Kl(document,"mousemove",vd),Kl(document,"touchmove",vd)},_offUpEvents:function(){var t=this.el.ownerDocument;Kl(t,"mouseup",this._onDrop),Kl(t,"touchend",this._onDrop),Kl(t,"pointerup",this._onDrop),Kl(t,"touchcancel",this._onDrop),Kl(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;Ic=pc(_c),Vc=pc(_c,n.draggable),Ac("drop",this,{evt:t}),Dc=_c&&_c.parentNode,Ic=pc(_c),Vc=pc(_c,n.draggable),yd.eventCanceled||(td=!1,id=!1,od=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Od(this.cloneId),Od(this._dragStartId),this.nativeDraggable&&(Kl(document,"drop",this),Kl(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Gl&&rc(document.body,"user-select",""),rc(_c,"transform",""),t&&(Yc&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),jc&&jc.parentNode&&jc.parentNode.removeChild(jc),(kc===Dc||Bc&&"clone"!==Bc.lastPutMode)&&Pc&&Pc.parentNode&&Pc.parentNode.removeChild(Pc),_c&&(this.nativeDraggable&&Kl(_c,"dragend",this),xd(_c),_c.style["will-change"]="",Yc&&!td&&ic(_c,Bc?Bc.options.ghostClass:this.options.ghostClass,!1),ic(_c,this.options.chosenClass,!1),Mc({sortable:this,name:"unchoose",toEl:Dc,newIndex:null,newDraggableIndex:null,originalEvent:t}),kc!==Dc?(Ic>=0&&(Mc({rootEl:Dc,name:"add",toEl:Dc,fromEl:kc,originalEvent:t}),Mc({sortable:this,name:"remove",toEl:Dc,originalEvent:t}),Mc({rootEl:Dc,name:"sort",toEl:Dc,fromEl:kc,originalEvent:t}),Mc({sortable:this,name:"sort",toEl:Dc,originalEvent:t})),Bc&&Bc.save()):Ic!==$c&&Ic>=0&&(Mc({sortable:this,name:"update",toEl:Dc,originalEvent:t}),Mc({sortable:this,name:"sort",toEl:Dc,originalEvent:t})),yd.active&&(null!=Ic&&-1!==Ic||(Ic=$c,Vc=Hc),Mc({sortable:this,name:"end",toEl:Dc,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){Ac("nulling",this),kc=_c=Dc=jc=Tc=Pc=Lc=zc=Fc=Wc=Yc=Ic=Vc=$c=Hc=Zc=Jc=Bc=Rc=yd.dragged=yd.ghost=yd.clone=yd.active=null,ad.forEach((function(t){t.checked=!0})),ad.length=qc=Uc=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":_c&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,o=0,i=n.length,r=this.options;o<i;o++)ec(t=n[o],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||Sd(t));return e},sort:function(t,e){var n={},o=this.el;this.toArray().forEach((function(t,e){var i=o.children[e];ec(i,this.options.draggable,o,!1)&&(n[t]=i)}),this),e&&this.captureAnimationState(),t.forEach((function(t){n[t]&&(o.removeChild(n[t]),o.appendChild(n[t]))})),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return ec(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var o=Oc.modifyOption(this,t,e);n[t]=void 0!==o?o:e,"group"===t&&md(n)},destroy:function(){Ac("destroy",this);var t=this.el;t[xc]=null,Kl(t,"mousedown",this._onTapStart),Kl(t,"touchstart",this._onTapStart),Kl(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Kl(t,"dragover",this),Kl(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),(function(t){t.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),nd.splice(nd.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!zc){if(Ac("hideClone",this),yd.eventCanceled)return;rc(Pc,"display","none"),this.options.removeCloneOnHide&&Pc.parentNode&&Pc.parentNode.removeChild(Pc),zc=!0}},_showClone:function(t){if("clone"===t.lastPutMode){if(zc){if(Ac("showClone",this),yd.eventCanceled)return;_c.parentNode!=kc||this.options.group.revertClone?Tc?kc.insertBefore(Pc,Tc):kc.appendChild(Pc):kc.insertBefore(Pc,_c),this.options.group.revertClone&&this.animate(_c,Pc),rc(Pc,"display",""),zc=!1}}else this._hideClone()}},ld&&Jl(document,"touchmove",(function(t){(yd.active||td)&&t.cancelable&&t.preventDefault()})),yd.utils={on:Jl,off:Kl,css:rc,find:ac,is:function(t,e){return!!ec(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:vc,closest:ec,toggleClass:ic,clone:yc,index:pc,nextTick:Ed,cancelNextTick:Od,detectDirection:pd,getChild:hc,expando:xc},yd.get=function(t){return t[xc]},yd.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach((function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(yd.utils=Il(Il({},yd.utils),t.utils)),Oc.mount(t)}))},yd.create=function(t,e){return new yd(t,e)},yd.version="1.15.3";var Nd,Ad,Md,_d,Dd,jd,kd=[],Td=!1;function Ld(){kd.forEach((function(t){clearInterval(t.pid)})),kd=[]}function Pd(){clearInterval(jd)}var zd=vc((function(t,e,n,o){if(e.scroll){var i,r=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,l=e.scrollSpeed,c=lc(),d=!1;Ad!==n&&(Ad=n,Ld(),Nd=e.scroll,i=e.scrollFn,!0===Nd&&(Nd=fc(n,!0)));var h=0,u=Nd;do{var p=u,m=cc(p),f=m.top,g=m.bottom,v=m.left,b=m.right,y=m.width,w=m.height,x=void 0,C=void 0,S=p.scrollWidth,E=p.scrollHeight,O=rc(p),N=p.scrollLeft,A=p.scrollTop;p===c?(x=y<S&&("auto"===O.overflowX||"scroll"===O.overflowX||"visible"===O.overflowX),C=w<E&&("auto"===O.overflowY||"scroll"===O.overflowY||"visible"===O.overflowY)):(x=y<S&&("auto"===O.overflowX||"scroll"===O.overflowX),C=w<E&&("auto"===O.overflowY||"scroll"===O.overflowY));var M=x&&(Math.abs(b-r)<=a&&N+y<S)-(Math.abs(v-r)<=a&&!!N),_=C&&(Math.abs(g-s)<=a&&A+w<E)-(Math.abs(f-s)<=a&&!!A);if(!kd[h])for(var D=0;D<=h;D++)kd[D]||(kd[D]={});kd[h].vx==M&&kd[h].vy==_&&kd[h].el===p||(kd[h].el=p,kd[h].vx=M,kd[h].vy=_,clearInterval(kd[h].pid),0==M&&0==_||(d=!0,kd[h].pid=setInterval(function(){o&&0===this.layer&&yd.active._onTouchMove(Dd);var e=kd[this.layer].vy?kd[this.layer].vy*l:0,n=kd[this.layer].vx?kd[this.layer].vx*l:0;"function"==typeof i&&"continue"!==i.call(yd.dragged.parentNode[xc],n,e,t,Dd,kd[this.layer].el)||bc(kd[this.layer].el,n,e)}.bind({layer:h}),24))),h++}while(e.bubbleScroll&&u!==c&&(u=fc(u,!1)));Td=d}}),30),$d=function(t){var e=t.originalEvent,n=t.putSortable,o=t.dragEl,i=t.activeSortable,r=t.dispatchSortableEvent,s=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(e){var l=n||i;s();var c=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,d=document.elementFromPoint(c.clientX,c.clientY);a(),l&&!l.el.contains(d)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function Id(){}function Hd(){}Id.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=hc(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(e,o):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:$d},Rl(Id,{pluginName:"revertOnSpill"}),Hd.prototype={onSpill:function(t){var e=t.dragEl,n=t.putSortable||this.sortable;n.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),n.animateAll()},drop:$d},Rl(Hd,{pluginName:"removeOnSpill"}),yd.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){var e=t.originalEvent;this.sortable.nativeDraggable?Jl(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Jl(document,"pointermove",this._handleFallbackAutoScroll):e.touches?Jl(document,"touchmove",this._handleFallbackAutoScroll):Jl(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var e=t.originalEvent;this.options.dragOverBubble||e.rootEl||this._handleAutoScroll(e)},drop:function(){this.sortable.nativeDraggable?Kl(document,"dragover",this._handleAutoScroll):(Kl(document,"pointermove",this._handleFallbackAutoScroll),Kl(document,"touchmove",this._handleFallbackAutoScroll),Kl(document,"mousemove",this._handleFallbackAutoScroll)),Pd(),Ld(),clearTimeout(nc),nc=void 0},nulling:function(){Dd=Ad=Nd=Td=jd=Md=_d=null,kd.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,e){var n=this,o=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,r=document.elementFromPoint(o,i);if(Dd=t,e||this.options.forceAutoScrollFallback||ql||Wl||Gl){zd(t,this.options,r,e);var s=fc(r,!0);!Td||jd&&o===Md&&i===_d||(jd&&Pd(),jd=setInterval((function(){var r=fc(document.elementFromPoint(o,i),!0);r!==s&&(s=r,Ld()),zd(t,n.options,r,e)}),10),Md=o,_d=i)}else{if(!this.options.bubbleScroll||fc(r,!0)===lc())return void Ld();zd(t,this.options,fc(r,!1),!1)}}},Rl(t,{pluginName:"scroll",initializeByDefault:!0})}),yd.mount(Hd,Id);const Vd={add:{attr:t=>{const e=window.prompt(t.message.attr);if(e&&t.isDisabled(e))return window.alert(oe.get("attributeNotPermitted",e||"")),Rd.add.attrs(t);let n;e&&(n=String(window.prompt(t.message.value,"")),t.addAction(e,n))},option:t=>{t.addAction()},condition:t=>{t.addAction(t)}},click:{btn:t=>{t.action()}},save:{form:bs}},Rd={init:function(t){const e=Object.keys(Vd);return this.opts=e.reduce(((e,n)=>(e[n]={...Vd[n],...t[n]},e)),t),this},add:{attrs:t=>Rd.opts.add.attr(t),options:t=>Rd.opts.add.option(t),conditions:t=>(t.template={if:[{source:"",sourceProperty:"",comparison:"",target:"",targetProperty:""}],then:[{target:"",targetProperty:"",assignment:"",value:""}]},Rd.opts.add.condition(t))},click:{btn:t=>Rd.opts.click.btn(t)},save:{form:t=>(Rd.opts.sessionStorage&&ms.set(Me,t),fa.formeoSaved({formData:t}),Rd.opts.save.form(t))}},Bd=Object.freeze({type:"field",displayType:"slider"}),Fd=t=>({transform:`translateX(${t?`${t}px`:0})`});class Wd{constructor(t){e(this,"toggleTabbedLayout",(()=>{this.getPanelDisplay();const t=this.isTabbed;return this.panelsWrap.parentElement.classList.toggle("tabbed-panels",t),t&&this.panelNav.removeAttribute("style"),t})),e(this,"resizePanels",(()=>{this.toggleTabbedLayout();const t=this.panelsWrap.style,e=Jh.getStyle(this.currentPanel,"height");return t.height=e,e})),this.opts=ds(Bd,t),this.panelDisplay=this.opts.displayType,this.activePanelIndex=0,this.panelNav=this.createPanelNav();const n=this.createPanelsWrap();this.nav=this.navActions();const o=new window.ResizeObserver((([{contentRect:{width:t}}])=>{this.currentWidth!==t&&(this.toggleTabbedLayout(),this.currentWidth=t,this.nav.setTranslateX(this.activePanelIndex,!1))})),i=window.setTimeout((()=>{o.observe(n),window.clearTimeout(i)}),ke)}getPanelDisplay(){const t=this.panelsWrap,e=Number.parseInt(Jh.getStyle(t,"width"))>390?"tabbed":"slider",n="auto"===this.opts.displayType;return this.panelDisplay=n?e:this.opts.displayType||Bd.displayType,this.panelDisplay}createPanelsWrap(){const t=Jh.create({className:"panels",content:this.opts.panels.map((({config:t,...e})=>e))});return"field"===this.opts.type&&this.sortableProperties(t),this.panelsWrap=t,this.panels=t.children,this.currentPanel=this.panels[this.activePanelIndex],t}sortableProperties(t){const e=t.getElementsByClassName("field-edit-group");return da.forEach(e,(t=>{t.fieldId=this.opts.id,t.isSortable&&yd.create(t,{animation:150,group:{name:`edit-${t.editGroup}`,pull:!0,put:["properties"]},sort:!0,handle:".prop-order",onSort:t=>{this.propertySave(t.to),this.resizePanels()}})}))}createPanelNavLabels(){const t=this.opts.panels.map((t=>({tag:"h5",action:{click:t=>{const e=oa(t.target,t.target.parentElement);this.currentPanel=this.panels[e];const n=t.target.parentElement.childNodes;this.nav.refresh(e),Jh.removeClasses(n,"active-tab"),t.target.classList.add("active-tab")}},content:t.config.label}))),e={className:"panel-labels",content:{content:t}},[n]=t;return n.className="active-tab",Jh.create(e)}createPanelNav(){this.labels=this.createPanelNavLabels();const t={tag:"button",attrs:{className:"next-group",title:oe.get("controlGroups.nextGroup"),type:"button"},dataset:{toggle:"tooltip",placement:"top"},action:{click:t=>this.nav.nextGroup(t)},content:Jh.icon("triangle-right")},e={tag:"button",attrs:{className:"prev-group",title:oe.get("controlGroups.prevGroup"),type:"button"},dataset:{toggle:"tooltip",placement:"top"},action:{click:t=>this.nav.prevGroup(t)},content:Jh.icon("triangle-left")};return Jh.create({tag:"nav",attrs:{className:"panel-nav"},content:[e,this.labels,t]})}get isTabbed(){return"tabbed"===this.panelDisplay}navActions(){const t={},e=this.currentPanel.parentElement,n=this.labels.firstChild,o=this.currentPanel.parentElement.childNodes;this.activePanelIndex=oa(this.currentPanel,e);let i={nav:0,panel:0},r={...i};t.groupChange=t=>{const e=n.children;return Jh.removeClasses(o,"active-panel"),Jh.removeClasses(e,"active-tab"),this.currentPanel=o[t],this.currentPanel.classList.add("active-panel"),e[t].classList.add("active-tab"),this.currentPanel};const s=({offset:t,reset:o,duration:i=je,animate:s=!this.isTabbed})=>{const a=[Fd(r.panel),Fd(t.panel)],l=[Fd(r.nav),Fd(this.isTabbed?0:t.nav)];if(o){const[t]=a,[e]=l;a.push(t),l.push(e)}const c={easing:"ease-in-out",duration:s?i:0,fill:"forwards"},d=e.animate(a,c);n.animate(l,c);const h=()=>{this.panelsWrap.style.height=Jh.getStyle(this.currentPanel,"height"),d.removeEventListener("finish",h),o||(r=t)};d.addEventListener("finish",h)};return t.setTranslateX=(t=this.activePanelIndex,o=!0)=>{var r;r=t,i={nav:-n.offsetWidth*r,panel:-e.offsetWidth*r},s({offset:i,animate:o})},t.refresh=(e=this.activePanelIndex)=>{this.activePanelIndex!==e&&(this.activePanelIndex=e,t.groupChange(e)),t.setTranslateX(this.activePanelIndex),this.resizePanels()},t.nextGroup=()=>{const e=this.activePanelIndex+1;if(e!==o.length){const o=t.groupChange(e);i={nav:-n.offsetWidth*e,panel:-o.offsetLeft},s({offset:i}),this.activePanelIndex++}else i={nav:r.nav-8,panel:r.panel-8},s({offset:i,reset:!0});return this.currentPanel},t.prevGroup=()=>{if(0!==this.activePanelIndex){const e=this.activePanelIndex-1,o=t.groupChange(e);i={nav:-n.offsetWidth*e,panel:-o.offsetLeft},s({offset:i}),this.activePanelIndex--}else i={nav:8,panel:8},s({offset:i,reset:!0})},t}}const qd="f-autocomplete",Ud="highlight-component";let Gd,Xd=Date.now();const Yd=({name:t,id:e,...n})=>["config.label","attrs.id","meta.id"].reduce(((t,e)=>(t||(t=n.get(e)),t)),null)||"external"===t&&((...t)=>oe.get(t.join("."))||ta(t.join(" ")))(t,e);class Zd{constructor(t,e,n){this.key=t,this.className=t.replace(/\./g,"-"),this.value=e,this.events=[],this.i18nKey=n,this.build()}build(){const t=t=>{const e=this.list,n=this.getActiveOption();let o=new Map([[38,()=>{const t=this.getPreviousOption(n);t&&this.selectOption(t)}],[40,()=>{const t=this.getNextOption(n);t&&this.selectOption(t)}],[13,()=>{n&&(this.selectOption(n),this.setValue(n),"none"===e.style.display?this.showList(n):this.hideList()),t.preventDefault()}],[27,()=>{this.hideList()}]]).get(t.keyCode);return o||(o=()=>!1),o()},e={focus:({target:e})=>{this.updateOptions(),e.parentElement.classList.add(`${this.className}-focused`);const n=Jh.toggleElementsByStr(this.list.querySelectorAll("li"),e.value);e.addEventListener("keydown",t);const o=this.list.querySelector(".active-option")||n[0];this.showList(o)},blur:({target:e})=>{e.parentElement.classList.remove(`${this.className}-focused`),e.removeEventListener("keydown",t),this.hideList()},input:t=>{const e=Jh.toggleElementsByStr(this.list.querySelectorAll("li"),t.target.value);if(0===t.target.value.length&&this.clearValue(),0===e.length)this.hideList();else{const t=this.getActiveOption()||e[0];this.showList(t)}this.hiddenField.value=t.target.value,this.value=t.target.value,this.runEvent("onChange",{target:this.hiddenField})}};return this.displayField=Jh.create({tag:"input",autocomplete:"off",action:e,attrs:{type:"text",className:`${qd}-display-field`,value:this.label||this.value,placeholder:oe.get(`${this.i18nKey}.${this.key}.placeholder`)}}),this.hiddenField=Jh.create({tag:"input",attrs:{type:"hidden",className:this.className,value:this.value}}),this.list=Jh.create({tag:"ul",attrs:{className:`${qd}-list`}}),this.dom=Jh.create({children:[this.displayField,this.hiddenField,this.list],className:this.className,action:{onRender:()=>{const t=this.value&&Yh.getAddress(this.value);this.label=t&&Yd(t),this.label&&(this.displayField.value=this.label),this.updateOptions()}}}),this.dom}updateOptions(){const t=Date.now();t-Xd>ke&&(Jh.empty(this.list),this.generateOptions(),Xd=t);(Gd||this.generateOptions()).forEach((t=>this.list.appendChild(t)))}generateOptions(){const t=(t=>{const e=[],n=Yh.flatList();return Object.entries(n).map((([n,o])=>{const i=Yd(o);if(i){const r={tag:"span",content:` ${ta(o.name)}`,className:"component-type"},s=`${o.name}.${i}`;e.push(s);const a=((t,e)=>t.reduce(((t,n)=>t+(n===e)),0))(e,s),l={tag:"span",content:a>1&&`(${a})`,className:"component-label-count"};return Jh.makeOption([n,[`${i} `,l,r]],t)}})).filter(Boolean)})(),e=t=>{const e=`${qd}-list-item`;return t.classList.contains(e)||(t=t.parentElement),t};return Gd=t.map((t=>{const n=t.value;let[o]=t.label;o=o.trim();const i={tag:"li",children:t.label,dataset:{value:n,label:o},className:`${qd}-list-item`,action:{mousedown:({target:t})=>{t=e(t),this.setValue(t),this.selectOption(t),this.hideList()},mouseover:({target:t})=>{t=e(t),this.removeHighlight(),this.highlightComponent(t)}}};return Jh.create(i)})),Gd}hideList(t=this.list){ha.slideUp(t,je),this.removeHighlight()}showList(t,e=this.list){this.selectOption(t),ha.slideDown(e,je)}getActiveOption(t=this.list){const e=t.getElementsByClassName("active-option")[0];return e&&"none"!==e.style.display?e:null}getPreviousOption(t){let e=t;do{e=e?e.previousSibling:null}while(null!=e&&"none"===e.style.display);return e}getNextOption(t){let e=t;do{e=e?e.nextSibling:null}while(null!=e&&"none"===e.style.display);return e}selectOption(t,e=this.list){const n=e.querySelectorAll("li");for(let o=0;o<n.length;o++){const{dataset:{value:t}}=n[o];if(n[o].classList.remove("active-option"),t){const e=Yh.getAddress(t);e.dom&&e.dom.classList.remove(Ud)}}t&&(t.classList.add("active-option"),this.highlightComponent(t))}removeHighlight(){const t=document.getElementsByClassName(Ud);for(let e=0;e<t.length;e++)t[e].classList.remove(Ud)}highlightComponent(t){const{dataset:{value:e}}=t;if(e){const t=Yh.getAddress(e);t.dom&&t.dom.classList.add(Ud)}}clearValue(){this.selectOption(null),this.displayField.value="",this.hiddenField.value="",this.value="",this.runEvent("onChange",{target:this.hiddenField})}setValue(t){const{label:e,value:n}=t.dataset;this.displayField.value=e,this.hiddenField.value=n,this.value=n,this.runEvent("onChange",{target:this.hiddenField})}addEvent(t,e){this.events.push([t,e])}runEvent(t,e){this.events.forEach((([n,o])=>{n===t&&o(e)}))}}const Jd=(t,e)=>{const n=(t=>{const e=gs(t),n={"field.property":$e,...Ie},o=e?(i=t,Yh.getAddress(i).getData()):n[t];var i;return Object.keys(o).reduce(((t,e)=>(t[e]=e,t)),{})})(t);return Object.entries(n).reduce(((n,[o,i])=>{if("id"!==o){const r={tag:"option",content:oe.get(`${t}.${o}`)||o.toLowerCase(),attrs:{value:i}};e===i&&(r.attrs.selected=!0),n.push(Jh.create(r))}return n}),[])},Kd=(t,e)=>{Jh.empty(t),e.forEach((e=>t.add(e)))},Qd=({key:t,value:e,type:n="text",checked:o})=>{const i={tag:"input",attrs:{type:n,value:e,placeholder:oe.get(`${t}.placeholder`)||ta(t)},className:t.replace(/\./g,"-"),config:{}};return o&&(i.attrs.checked=!0),i},th=t=>{const e=oe.get(t);if(e)return e;const n=t.split(".");return oe.get(n[n.length-1])},eh={autocomplete:(t,e,n)=>new Zd(t,e,n),string:(t,e)=>Qd({key:t,value:e}),boolean:(t,e)=>Qd({key:t,value:e,type:"selected"===t?"radio":"checkbox",checked:e}),number:(t,e)=>Qd({key:t,value:e,type:"number"}),array:(t,e=[])=>({tag:"select",attrs:{placeholder:th(`placeholder.${t}`)},className:t.replace(/\./g,"-"),options:e}),object:t=>Object.entries(t).map((([t,e])=>eh[Jh.childType(e)](t,e)))},nh=["selected","checked"],oh={boolean:(t,e)=>({click:({target:{checked:n}})=>{var o,i;"radio"===(null==(i=null==(o=e.data)?void 0:o.attrs)?void 0:i.type)&&e.set("options",e.data.options.map((t=>({...t,selected:!1})))),e.set(t,n),e.updatePreview()}}),string:(t,e)=>({input:({target:{value:n}})=>{e.set(t,n)}}),number:(t,e)=>({input:({target:{value:n}})=>{e.set(t,Number(n)),e.updatePreview()}}),array:(t,e)=>({change:({target:{value:n}})=>{e.set(t,n),e.updatePreview()}}),object:()=>({})};class ih{constructor({key:t,data:n,index:o,field:i}){e(this,"generateConditionFields",((t,e)=>{const n={tag:"label",className:`condition-label ${t}-condition-label`,content:oe.get(t)||t};return e.map(((e,o)=>{const i=[],r=Object.entries(e).map((([e,n])=>{const r=this.conditionInput(e,n,t,o);return r&&i.push([r.className,n.trim()].filter(Boolean).join("-")),r})).filter(Boolean),s=ia(r,ze.map((t=>`condition-${t}`)),"className||dom.className");return this.processConditionUIState(s),o||s.unshift(n),this.itemFieldGroups.push(s),{children:s,className:`f-condition-row ${t}-condition-row ${i.join(" ")}`}}))})),e(this,"processConditionUIState",(t=>{const e=e=>(e=e.split("|"),t.filter((t=>e.includes(t.className)))),n=t=>{t=Array.isArray(t)?t:[t];const e=setTimeout((()=>{t.forEach((t=>{t.dom&&(t=t.dom),t.style.display="none"})),clearTimeout(e)}),De)},o=t=>{t=Array.isArray(t)?t:[t];const e=setTimeout((()=>{t.forEach((t=>{t.dom&&(t=t.dom),t.removeAttribute("style")})),clearTimeout(e)}),De)},i=new Map([["condition-source",t=>{const i=e("condition-sourceProperty"),r=i[0],s=gs(t.value)?t.value:"field.property",a=Jd(s,r.value);return Kd(r,a),t.value?o(i):n(i)}],["condition-target",t=>{const i=e("condition-targetProperty");return fs(t.value)&&t.value?o(i):n(i)}],["condition-sourceProperty",t=>{const i=e("condition-comparison|condition-targetProperty|condition-target"),r=t.value;return(t=>/^is|^has/.test(t))(r.substring(r.lastIndexOf(".")+1,r.length))?n(i):o(i)}]]);t.forEach((t=>{const e=i.get(t.className);e&&e(t)}))})),e(this,"conditionInput",((t,e,n,o)=>{const i=this.field,r=`${this.itemKey}.${n}.${o}`,s=`${this.field.id}.${r}`,a=`${i.name}s.${s}.${t}`,l=(t,e,n)=>{const o=Jd(n||t,e),i=eh.array(`condition.${t}`);i.action={change:c,onRender:t=>c({target:t})};const r=Jh.create(i);return Kd(r,o),r},c=({target:t})=>{const e=t.closest(".f-condition-row"),n=new RegExp(`${t.className}(?:\\S?)+`,"gm");e.className=e.className.replace(n,""),e.classList.add([t.className,t.value].filter(Boolean).join("-"));const o={dataPath:a,value:t.value,src:t};fa.formeoUpdated(o),Yh.setAddress(a,t.value);const i=t.closest(".f-condition-row"),r=oa(i);this.processConditionUIState(this.itemFieldGroups[r])},d={comparison:t=>l("comparison",t),logical:t=>l("logical",t),source:(t,e="source")=>{const o=eh.autocomplete(`condition.${e}`,t,n);return Yh.setConditionMap(t,i),o.addEvent("onChange",(t=>{Yh.removeConditionMap(Yh.getAddress(a)),c(t),Yh.setConditionMap(t.target.value,i)})),o},sourceProperty:t=>l("sourceProperty",t,"field.property"),targetProperty:t=>l("targetProperty",t,"field.property"),target:t=>d.source(t,"target"),value:t=>{const e=eh.string("condition.value",t);return e.action={input:c},Jh.create(e)},assignment:t=>l("assignment",t)};if(d[t])return d[t](e)})),this.itemValues=ia(Object.entries(n),nh,"0");const[r,s]=t.split(".");this.field=i,this.itemKey=t,this.itemIndex=o,this.panelName=r,this.isDisabled=i.isDisabledProp(s,r),this.isHidden=this.isDisabled&&i.config.panels[r].hideDisabled,this.isLocked=i.isLockedProp(s,r),this.dom=Jh.create({tag:"li",className:[`field-${t.replace(/\./g,"-")}`,"prop-wrap",this.isHidden&&"hidden-property"],children:{className:"field-prop",children:[this.itemInputs,this.itemControls]}})}get itemInputs(){this.itemFieldGroups=[];return{className:`${this.panelName}-prop-inputs prop-inputs f-input-group`,children:this.itemValues.map((([t,e])=>{let n="conditions"===this.panelName?this.generateConditionFields(t,e):this.itemInput(t,e);return["selected","checked"].includes(t)&&(n={className:"f-addon",children:n}),n}))}}get itemControls(){if(this.isLocked){return{className:`${this.panelName}-prop-controls prop-controls`,content:[]}}const t={tag:"button",attrs:{type:"button",className:"prop-remove prop-control"},action:{click:()=>{ha.slideUp(this.dom,250,(t=>{this.field.remove(this.itemKey),Jh.remove(t),this.field.resizePanelWrap()}))}},content:Jh.icon("remove")};return{className:`${this.panelName}-prop-controls prop-controls`,content:[t]}}itemInput(t,e){const n=Jh.childType(e)||"string",o={config:{},attrs:{},...eh[n](t,e)},i=this.itemKey.replace(/.\d+$/,(e=>`${e}.${t}`)),r=i.split(".").filter(Number.isNaN).join("."),[s,a]=[[...this.itemKey.split("."),t],[t]].map((t=>[this.field.id,...t].filter(Boolean).join("-")));return o.config={...o.config,label:"options"!==this.panelName&&th(r),labelAfter:!1},o.attrs={...o.attrs,name:"checkbox"===o.attrs.type?`${a}[]`:a,id:s,disabled:this.isDisabled,locked:this.isLocked},o.action={...oh[n](i,this.field)},o}}class rh{constructor(t,n,o){e(this,"addAttribute",((t,e)=>{const n=ea(t),o=`attrs.${n}`;oe.current[o]||oe.put(o,la(t)),"string"==typeof e&&["true","false"].includes(e)&&(e=JSON.parse(e)),this.field.set(`attrs.${t}`,e);const i=this.props.querySelector(`.field-attrs-${n}`),r=new ih({key:o,data:{[n]:e},field:this.field});i?this.props.replaceChild(r.dom,i):this.props.appendChild(r.dom),this.field.resizePanelWrap()})),e(this,"addOption",(()=>{const t=this.field.data.meta.id,e=this.field.get("options"),n="select"===t?"option":t,o=oe.get("newOptionLabel",{type:n})||"New Option",i=`options.${this.data.length}`,r={...e.length?Zs(e[e.length-1]):{},label:o,value:ea(o)},s=new ih({key:i,data:r,field:this.field,index:this.props.children.length});this.editPanelItems.push(s),this.props.appendChild(s.dom),this.field.set(i,r),this.field.resizePanelWrap()})),e(this,"addCondition",(t=>{const e=`conditions.${this.field.get("conditions").length}`,n=this.props.querySelector(`.field-${e.replace(".","-")}`),o=new ih({key:e,data:t.template,field:this.field});n?this.props.replaceChild(o.dom,n):this.props.appendChild(o.dom),this.field.set(e,t.template),this.field.resizePanelWrap()})),this.type=Jh.childType(t),this.data="object"===this.type?Object.entries(t):t,this.name=n,this.field=o,this.panelConfig=this.getPanelConfig(this.data)}getPanelConfig(t){return this.props=this.createProps(t),this.editButtons=this.createEditButtons(),{id:`${this.field.id}-${this.name}-panel`,config:{label:oe.get(`panel.label.${this.name}`)},attrs:{className:`f-panel ${this.name}-panel`},children:[this.props,this.editButtons]}}createProps(t){this.editPanelItems=Array.from(t).map(((t,e)=>{const n="array"===this.type,o=[this.name,n?String(e):t[0]].join("."),i=n?t:{[t[0]]:t[1]};return new ih({key:o,data:i,field:this.field})}));const e={tag:"ul",attrs:{className:["field-edit-group",`field-edit-${this.name}`]},editGroup:this.name,isSortable:"options"===this.name,content:this.editPanelItems};return Jh.create(e)}createEditButtons(){const t=this,e=this.name,n=oe.get(`panelEditButtons.${e}`),o={attrs:t.addAttribute,options:t.addOption,conditions:t.addCondition};return{className:"panel-action-buttons",content:[{...Jh.btnTemplate({content:n,title:n}),className:`add-${e}`,action:{click:n=>{const i={btnCoords:Jh.coords(n.target),addAction:o[e]};"attrs"===e&&(i.isDisabled=t.field.isDisabledProp,i.isLocked=t.field.isLockedProp,i.message={attr:oe.get(`action.add.${e}.attr`),value:oe.get(`action.add.${e}.value`)});const r=ta(e),s=new window.CustomEvent(`onAdd${r}`,{detail:i});Rd.add[e](i),document.dispatchEvent(s)}}}]}}}class sh extends zl{constructor(t,n={},o){super(t,{...n,id:n.id||cs()}),e(this,"mutationHandler",(t=>t.map((t=>{})))),e(this,"remove",(t=>{if(t){const e=t.split("."),n=e.pop(),o=this.get(e);return Array.isArray(o)?na(n)?o.splice(Number(n),1):this.set(e,o.filter((t=>t!==n))):delete o[n],o}if("stage"===this.name)return null;const e=this.parent,n=this.children;return ra(n,(t=>t.remove())),this.dom.parentElement.removeChild(this.dom),((t,e)=>{const n=t.indexOf(e);-1!==n&&t.splice(n,1)})(Yh.getAddress(`${e.name}s.${e.id}.children`),this.id),e.children.length||e.emptyClass(),"row"===e.name&&e.autoColumnWidths(),Yh[`${this.name}s`].delete(this.id)})),e(this,"emptyClass",(()=>this.dom.classList.toggle("empty",!this.children.length))),e(this,"getComponentTag",(()=>Jh.create({tag:"span",className:["component-tag",`${this.name}-tag`],children:[(this.isColumn||this.isField)&&Jh.icon("component-corner",["bottom-left"]),Jh.icon(`handle-${this.name}`),ta(this.name),(this.isColumn||this.isRow)&&Jh.icon("component-corner",["bottom-right"])].filter(Boolean)}))),e(this,"removeClasses",(t=>{const e={string:()=>this.dom.classList.remove(t),array:()=>t.map((t=>this.dom.classList.remove(t)))};return e.object=e.string,e[Jh.childType(t)](this.dom)})),e(this,"loadChildren",((t=this.data.children)=>t.map((t=>this.addChild({id:t}))))),e(this,"saveChildOrder",(()=>{if(this.render)return;const t=this.children.map((({id:t})=>t));return this.set("children",t),t})),e(this,"onSort",(()=>this.saveChildOrder())),e(this,"onEnd",(({to:{parentElement:t},from:{parentElement:e}})=>{null==t||t.classList.remove(`hovering-${as(t)}`),null==e||e.classList.remove(`hovering-${as(e)}`)})),e(this,"runConditions",(()=>{const t=this.get("conditions");if(!(null==t?void 0:t.length))return null;return t.map((t=>{const e=this.processConditions(t.if),n=this.processResults(t.then);return e.map((t=>this.evaluateConditions(t)&&this.execResults(n)))}))})),e(this,"value",((t,e)=>{const n=t.split("."),o=this.getComponent(t),i=o&&n.slice(2,n.length).join(".");return[!o,!i,!$e[i]].some(Boolean)?t:e?o.set($e[i],e):o.get($e[i])})),e(this,"getResult",(t=>({"=":(t,e,n)=>t.set(e,n)}[t]))),e(this,"processResults",(t=>t.map((({operator:t,target:e,value:n})=>{const o=this.getComponent(e);return{target:o,propertyPath:o&&e.split(".").slice(2,e.length).join("."),action:this.getResult(t),value:this.value(n)}})))),e(this,"execResults",(t=>{const e=t.map((t=>this.execResult(t)));return Promise.all(e)})),e(this,"execResult",(({target:t,action:e,value:n,propertyPath:o})=>new Promise(((o,i)=>{try{return o(e(t,n))}catch(r){return i(r)}})))),e(this,"cloneData",(()=>{const t={...hs(this.data),id:cs()};return"field"!==this.name&&(t.children=[]),t})),e(this,"clone",((t=this.parent)=>{const e=t.addChild(this.cloneData(),this.index+1);return"field"!==this.name&&this.cloneChildren(e),e})),e(this,"createChildWrap",(t=>Jh.create({tag:"ul",attrs:{className:"children"},children:t}))),this.id=this.data.id,this.name=t,this.config=Yh[`${this.name}s`].config,ds(this.config,n.config),this.dataPath=`${this.name}s.${this.id}.`,this.observer=new MutationObserver(this.mutationHandler),this.render=o}observe(t){this.observer.disconnect(),this.observer.observe(t,{childList:!0})}get js(){return this.data}get json(){return this.data}empty(){const t=this.children.map((t=>t.remove()));return this.data.children=this.data.children.filter((e=>-1===t.indexOf(e))),this.dom.classList.add("empty"),t}getActionButtons(){const t=[`hovering-${this.name}`,"hovering"];return{className:[`${this.name}-actions`,"group-actions"],action:{mouseenter:({target:e})=>{Yh.stages.active.dom.classList.add(`active-hover-${this.name}`),this.dom.classList.add(...t)},mouseleave:({target:e})=>{this.dom.classList.remove(...t),Yh.stages.active.dom.classList.remove(`active-hover-${this.name}`),e.removeAttribute("style")}},children:[{...Jh.btnTemplate({content:Jh.icon(`handle-${this.name}`)}),className:["component-handle",`${this.name}-handle`]},{className:["action-btn-wrap",`${this.name}-action-btn-wrap`],children:this.buttons}]}}toggleEdit(t=!this.isEditing){this.isEditing=t;const e=this.dom,n="editing",o=`${n}-${this.name}`,i=this.dom.querySelector(`.${this.name}-edit`);ha.slideToggle(i,De,t),"field"===this.name&&(ha.slideToggle(this.preview,De,!t),e.parentElement.classList.toggle(`column-${o}`,t)),e.classList.toggle(n,t),e.classList.toggle(o,t)}get buttons(){if(this.actionButtons)return this.actionButtons;const t={handle:(t=`handle-${this.name}`)=>({...Jh.btnTemplate({content:Jh.icon(t)}),className:["component-handle"]}),move:(t="move")=>({...Jh.btnTemplate({content:Jh.icon(t)}),className:["item-move"],meta:{id:"move"}}),edit:(t="edit")=>({...Jh.btnTemplate({content:Jh.icon(t)}),className:["item-edit-toggle"],meta:{id:"edit"},action:{click:t=>{this.toggleEdit()}}}),remove:(t="remove")=>({...Jh.btnTemplate({content:Jh.icon(t)}),className:["item-remove"],meta:{id:"remove"},action:{click:(t,e)=>{ha.slideUp(this.dom,De,(()=>{if("column"===this.name){this.parent.autoColumnWidths(),this.remove()}else this.remove()}))}}}),clone:(t="copy")=>({...Jh.btnTemplate({content:Jh.icon(t)}),className:["item-clone"],meta:{id:"clone"},action:{click:()=>{this.clone(this.parent),"column"===this.name&&this.parent.autoColumnWidths()}}})},{buttons:e,disabled:n}=this.config.actionButtons,o=e.filter((t=>!n.includes(t))).map((e=>{var n;return(null==(n=t[e])?void 0:n.call(t))||e}));return this.actionButtons=o,this.actionButtons}get index(){return oa(this.dom)}get parentType(){return Oe.get(this.name)}get parent(){const t=this.parentType;if(!this.dom||!t)return null;const e=this.dom.closest(`.${be[t]}`);return e&&Jh.asComponent(e)}get children(){if(!this.dom)return[];const t=this.domChildren,e=Ee.get(this.name);return sa(t,(t=>Yh.getAddress(`${e}s.${t.id}`))).filter(Boolean)}get domChildren(){const t=this.dom.querySelector(".children");return t?t.children:[]}addChild(t={},e=this.domChildren.length){var n,o;let i=t;"object"!=typeof t&&(i={id:i});const r=this.dom.querySelector(".children"),{id:s=cs()}=i,a=Ee.get(this.name);if(!a)return null;const l=`${a}s`,c=Yh.getAddress(`${l}.${s}`)||Yh[l].add(s,i);r.insertBefore(c.dom,r.children[e]),null==(o=null==(n=this.config.events)?void 0:n.onAddChild)||o.call(n,{parent:this,child:c});const d=c.get("children");return(null==d?void 0:d.length)&&c.loadChildren(d),this.removeClasses("empty"),this.saveChildOrder(),c}onAdd({from:t,to:e,item:n,newIndex:o}){var i;t.classList.contains(se)||(t=t.parentElement);const r=as(t),s=as(e.parentElement),a=new Map([[-2,()=>{const t=this.addChild({},o).addChild();return t.addChild.bind(t)}],[-1,()=>{const t=this.addChild({},o);return t.addChild.bind(t)}],[0,()=>this.addChild.bind(this)],[1,t=>{const e=oa(this.dom);return()=>this.parent.addChild(t,e+1)}],[2,t=>()=>this.parent.parent.addChild(t)]]),l={controls:()=>{const{controlData:t}=Nh.get(n.id),{meta:{id:e}}=t,i=e.startsWith("layout-")?e.replace(/^layout-/,""):"field",r=Xs({stage:{row:0,column:-1,field:-2},row:{row:1,column:0,field:-1},column:{row:2,column:1,field:0},field:1},`${this.name}.${i}`),s=a.get(r)();Jh.remove(n);return s(t,o)},row:()=>{const t=(a.get({stage:-1,row:0,column:1}[s])||bs)();return null==t?void 0:t({id:n.id},o)},column:()=>{const t=(a.get({stage:-2,row:-1}[s])||bs)();return null==t?void 0:t(n.id)}},c=null==(i=l[r])?void 0:i.call(l,n,o);return(()=>{this.saveChildOrder(),this.removeClasses("empty")})(),c}onRemove({from:{parentElement:t}}){return t.classList.contains(ce)&&t.classList.remove("column-editing-field"),"stage"===this.name||this.children.length?(this.emptyClass(),this.saveChildOrder()):this.remove()}onRender(){const{events:t}=this.config;if(!t)return null;t.onRender&&Jh.onRender(this.dom,t.onRender)}set config(t){const e=Xs(this.data,"meta.id"),n=[Xs(t,"all"),e&&Xs(t,e),Xs(t,this.id)].reduce(((t,e)=>e?ds(t,e):t),this.configVal);this.configVal=n}get config(){return this.configVal}getComponent(t){const[e,n]=t.split("."),o=Yh[e];return n===this.id?this:null==o?void 0:o.get(n)}cloneChildren(t){for(const e of this.children)null==e||e.clone(t)}get isRow(){return this.name===ge.row}get isColumn(){return this.name===ge.column}get isField(){return this.name===ge.field}}class ah extends sh{constructor(t=Object.create(null)){super("field",{conditions:[{if:[{source:"",sourceProperty:"",comparison:"",target:"",targetProperty:""}],then:[{target:"",targetProperty:"",assignment:"",value:""}]}],...t}),e(this,"updateConditionsPanel",(()=>{const t=setTimeout((()=>{const e=this.editPanels.find((({name:t})=>"conditions"===t));if(!e)return null;const n=e.createProps(),o=this.dom.querySelector(".field-edit-conditions");o.parentElement.replaceChild(n,o),clearTimeout(t)}),De)})),e(this,"updatePreview",vs((()=>{if(!this.preview.parentElement)return null;this.updateLabel();const t=Jh.create(this.fieldPreview(),!0);this.preview.parentElement.replaceChild(t,this.preview),this.preview=t}),De)),e(this,"isDisabledProp",((t,e="attrs")=>{const n=this.config.panels[e];if(!n)return!1;return n.disabled.concat(this.get(`config.disabled${ta(e)}`)).includes(t)})),e(this,"isLockedProp",((t,e="attrs")=>{const n=this.config.panels[e];if(!n)return!1;return n.locked.concat(this.get(`config.locked${ta(e)}`)).includes(t)})),this.label=Jh.create(this.labelConfig),this.preview=Jh.create({}),this.editPanels=[];const n=this.getActionButtons(),o=this.actionButtons.some((t=>{var e;return"edit"===(null==(e=t.meta)?void 0:e.id)}));let i={tag:"li",attrs:{className:de},id:this.id,children:[this.label,this.getComponentTag(),n,o&&this.fieldEdit,this.preview].filter(Boolean),panelNav:this.panelNav,dataset:{hoverTag:oe.get("field")}};i=Jh.create(i),this.observe(i),this.dom=i,this.isEditing=!1,this.onRender(i)}get labelConfig(){if(!!this.get("config.hideLabel"))return;const t=this.get("config.editorLabel")||this.get("config.label"),e=this.get("attrs.required"),n=this.config.label.disableHTML;return{className:"prev-label",children:[{...(()=>{const e={tag:"label",attrs:{}};return n?(e.tag="input",e.attrs.value=t,e):(e.attrs.contenteditable=!0,e.children=t,e)})(),action:{input:({target:{innerHTML:t,innerText:e,value:o}})=>{super.set("config.label",n?o:t);const i=Yh.getConditionMap(`fields.${this.id}`);if(i)return i.updateConditionSourceLabel(`${this.name}s.${this.id}`,n?o:e)}}},e&&Jh.requiredMark()]}}updateConditionSourceLabel(t,e){const n=this.editPanels.find((({name:t})=>"conditions"===t));if(!n)return null;for(const{itemFieldGroups:o}of n.editPanelItems)for(const n of o){const o=n.find((e=>e.value===t));o&&(o.displayField.value=e)}}set(...t){const[e,n]=t,o=super.set(e,n);return this.updatePreview(),o}updateLabel(){if(!this.label)return null;const t=Jh.create(this.labelConfig);this.label.parentElement.replaceChild(t,this.label),this.label=t}get fieldEdit(){this.editPanels=[];const t=["object","array"],e=["config","meta","action","events",...this.config.panels.disabled],n=ls([...this.config.panels.order,...Object.keys(this.data)]).filter((t=>!e.includes(t))),o={className:["field-edit","slide-toggle","formeo-panels-wrap"]};for(const s of n){const e=this.get(s),n=Jh.childType(e);if(t.includes(n)){const t=new rh(e,s,this);this.editPanels.push(t)}}const i={panels:this.editPanels.map((({panelConfig:t})=>t)),id:this.id,displayType:"auto"},r=this.editPanels.length;return r&&(this.panels=new Wd(i),o.className.push(`panel-count-${r}`),o.content=[this.panels.panelNav,this.panels.panelsWrap],this.panelNav=this.panels.nav,this.resizePanelWrap=this.panels.nav.refresh,o.action={onRender:()=>{if(this.resizePanelWrap(),!r){const t=this.dom,e=t.querySelector(".item-edit-toggle"),n=t.querySelector(".field-actions"),o=n.getElementsByTagName("button");n.style.maxWidth=o.length*o[0].clientWidth+"px",Jh.remove(e)}}}),o}get defaultPreviewActions(){return{change:t=>{const{target:e}=t,{checked:n,type:o}=e;if(["checkbox","radio"].includes(o)){const t=+e.id.split("-").pop();"radio"===o&&this.set("options",this.get("options").map((t=>({...t,selected:!1}))));const i="checkbox"===o?"checked":"selected";this.set(`options.${t}.${i}`,n)}},click:t=>{"true"===t.target.contentEditable&&t.preventDefault()},input:t=>{["input","meter","progress","button"].includes(this.data.tag)&&super.set("attrs.value",t.target.value),t.target.contentEditable&&super.set("content",t.target.innerHTML)}}}fieldPreview(){var t;const e=hs(this.data),{action:n={}}=Nh.get(e.meta.id);e.id=`prev-${this.id}`,e.action=n,(null==(t=this.data)?void 0:t.config.editableContent)&&(e.attrs={...e.attrs,contenteditable:!0});return{attrs:{className:"field-preview",style:this.isEditing&&"display: none;"},content:Jh.create(e,!0),action:this.defaultPreviewActions}}}const lh={js:new Set,css:new Set},ch=(t,e)=>{t.removeEventListener("load",ch),t.rel="stylesheet",e(t.src)},dh=(t,e)=>{t.removeEventListener("load",dh),e(t.src)},hh=t=>new Promise(((e,n)=>{if(lh.js.has(t))return e(t);lh.js.add(t);const o=Jh.create({tag:"script",attrs:{type:"text/javascript",async:!0,src:`//${t.replace(/^https?:\/\//,"")}`},action:{load:()=>dh(o,e),error:()=>n(new Error(`${t} failed to load.`))}});document.head.appendChild(o)})),uh=t=>{const e=(t=Array.isArray(t)?t:[t]).map((t=>new Promise(((e,n)=>{if(lh.css.has(t))return e(t);lh.css.add(t);const o=Jh.create({tag:"link",attrs:{rel:"preload",href:t,as:"style"},action:{load:()=>ch(o,e),error:()=>n(new Error(`${(void 0).src} failed to load.`))}});document.head.appendChild(o)}))));return Promise.all(e)},ph=t=>("string"==typeof t?Promise.resolve(t):t.text()).then((t=>{const e="formeo-sprite";let n=document.getElementById(e);return n||(n=Jh.create({id:e,children:t,attrs:{hidden:!0,style:"display: none;"}}),document.body.insertBefore(n,document.body.childNodes[0])),n})),mh=(t,e,n=ys)=>new Promise(((o,i)=>fetch(t).then((t=>o(e?e(t):t))).catch((t=>i(new Error(n(t))))))),fh={js:t=>{const e=(t=Array.isArray(t)?t:[t]).map((t=>hh(t)));return Promise.all(e)},css:t=>{const e=(t=Array.isArray(t)?t:[t]).map((t=>uh(t)));return Promise.all(e)}},gh=t=>{const e=Object.entries(t).map((([t,e])=>fh[t](e)));return Promise.all(e)};class vh{constructor({events:t={},dependencies:n={},controlAction:o,...i}){e(this,"controlCache",new Set),this.events=t,this.controlData=i,this.controlAction=o,this.dependencies=n,this.id=i.id||cs()}get controlId(){var t;return null==(t=this.controlData.meta)?void 0:t.id}get dom(){const{meta:t,config:e}=this.controlData,n=this.i18n(e.label)||e.label,o={tag:"button",attrs:{type:"button"},content:[{tag:"span",className:"control-icon",children:Jh.icon(t.icon)},n],action:{focus:({target:t})=>{const e=t.closest(`.${se}`);return e&&Nh.panels.nav.refresh(oa(e))},click:({target:t})=>{Nh.addElement(t.parentElement.id)}}};return Jh.create({tag:"li",id:this.id,className:["field-control",`${t.group}-control`,`${t.id}-control`],content:o,meta:t,action:this.controlAction})}promise(){return gh(this.dependencies)}i18n(t,e){var n,o;const i=oe.locale,r=null==(n=this.definition)?void 0:n.i18n,s=(null==r?void 0:r[i])||{};return((null==(o=s[t])?void 0:o.call(s))??s[t])||oe.get(t,e)}}const bh=[{config:{label:"row"},meta:{group:"layout",icon:"rows",id:"layout-row"}},{config:{label:"column"},meta:{group:"layout",icon:"columns",id:"layout-column"}}];const yh=(t,e=3)=>Array.from({length:e},((t,e)=>e+1)).map((e=>{const n="checkbox"===t?"checked":"selected";return{label:oe.get("labelCount",{label:ta(t),count:e}),value:`${t}-${e}`,[n]:!e}}));const wh=[class extends vh{constructor(){super({tag:"button",attrs:{className:[{label:"grouped",value:"f-btn-group"},{label:"ungrouped",value:"f-field-group"}]},config:{label:oe.get("controls.form.button"),hideLabel:!0},meta:{group:"common",icon:"button",id:"button"},options:[{label:oe.get("button"),type:["button","submit","reset"].map(((t,e)=>({label:t,type:t}))),className:[{label:"default",value:"",selected:!0},{label:"primary",value:"primary"},{label:"danger",value:"error"},{label:"success",value:"success"},{label:"warning",value:"warning"}]}]})}},class extends vh{constructor(){super({tag:"input",attrs:{type:"date",required:!1,className:""},config:{label:oe.get("controls.form.input.date")},meta:{group:"common",icon:"calendar",id:"date-input"}})}},class extends vh{constructor(){super({tag:"input",attrs:{type:"hidden",value:""},config:{label:oe.get("hidden"),hideLabel:!0},meta:{group:"common",icon:"hidden",id:"hidden"}})}},class extends vh{constructor(){super({tag:"input",attrs:{type:"number",required:!1,className:""},config:{label:oe.get("number")},meta:{group:"common",icon:"hash",id:"number"}})}},class extends vh{constructor(){super({tag:"textarea",config:{label:oe.get("controls.form.textarea")},meta:{group:"common",icon:"textarea",id:"textarea"},attrs:{required:!1}})}},class extends vh{constructor(){super({tag:"input",attrs:{required:!1,type:"text",className:""},config:{label:oe.get("controls.form.input.text")},meta:{group:"common",icon:"text-input",id:"text-input"}})}},class extends vh{constructor(){super({tag:"input",attrs:{type:"file",required:!1},config:{label:oe.get("fileUpload")},meta:{group:"common",icon:"upload",id:"upload"}})}},class extends vh{constructor(){super({tag:"select",config:{label:oe.get("controls.form.select")},attrs:{required:!1,className:""},meta:{group:"common",icon:"select",id:"select"},options:yh("option")})}},class extends vh{constructor(){super({tag:"input",attrs:{type:"checkbox",required:!1},config:{label:oe.get("controls.form.checkbox-group"),disabledAttrs:["type"]},meta:{group:"common",icon:"checkbox",id:"checkbox"},options:yh("checkbox",1)})}},class extends vh{constructor(){super({tag:"input",attrs:{type:"radio",required:!1},config:{label:oe.get("controls.form.radio-group"),disabledAttrs:["type"]},meta:{group:"common",icon:"radio-group",id:"radio"},options:yh("radio")})}}],xh=Array.from(Array(5).keys()).slice(1).map((t=>`h${t}`)),Ch="controls.html.header";const Sh=[class extends vh{constructor(){super({tag:xh[0],attrs:{tag:xh.map(((t,e)=>({label:t.toUpperCase(),value:t,selected:!e}))),className:""},config:{label:oe.get(Ch),hideLabel:!0,editableContent:!0},meta:{group:"html",icon:"header",id:"html.header"},content:oe.get(Ch),action:{onRender:t=>{},click:t=>{}}})}static get definition(){return{i18n:{"en-US":{header:"Custom English Header"}}}}get content(){return super.i18n(Ch)}},class extends vh{constructor(){super({tag:"p",attrs:{className:""},config:{label:oe.get("controls.html.paragraph"),hideLabel:!0,editableContent:!0},meta:{group:"html",icon:"paragraph",id:"paragraph"},content:"Leverage agile frameworks to provide a robust synopsis for high level overviews. Iterative approaches to corporate strategy foster collaborative thinking to further the overall value proposition. Organically grow the holistic world view of disruptive innovation via workplace diversity and empowerment."})}},class extends vh{constructor(){super({tag:"hr",config:{label:oe.get("controls.html.divider"),hideLabel:!0},meta:{group:"html",icon:"divider",id:"divider"}})}},class extends vh{constructor(t){super(ds({tag:"textarea",config:{label:"WYSIWYG",editableContent:!0},meta:{group:"html",icon:"rich-text",id:"tinymce"},attrs:{required:!1},dependencies:{js:"cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.11/tinymce.min.js"},action:{onRender:t=>{const e=`#${t.id}`;window.tinymce.remove(e),window.tinymce.init({selector:e})}},controlAction:{click:()=>{},onRender:()=>{}}},t))}}],Eh=Object.freeze({sortable:!0,elementOrder:{},groupOrder:[],groups:[{id:"layout",label:"controls.groups.layout",elementOrder:["row","column"]},{id:"common",label:"controls.groups.form",elementOrder:["button","checkbox"]},{id:"html",label:"controls.groups.html",elementOrder:["header","block-text"]}],disable:{groups:[],elements:[],formActions:[]},elements:[],container:null,panels:{displayType:"slider"}}),Oh=[...wh,...Sh,...bh];const Nh=new class{constructor(){e(this,"groupLabel",(t=>oe.get(t)||t||"")),e(this,"addElement",(t=>{const e=Xs(this.get(t),"controlData"),{meta:{group:n,id:o}}=e,i={row:()=>Bh.active.addChild(),column:()=>i.row().addChild(),field:t=>i.column().addChild(t)};return"layout"!==n?i.field(e):i[o.replace("layout-","")]()})),e(this,"applyOptions",(async(t={})=>{const{container:e,elements:n,groupOrder:o,...i}=ds(Eh,t);return this.container=e,this.groupOrder=ls(o.concat(["common","html","layout"])),this.options=i,Promise.all(this.registerControls([...Oh,...n]))})),this.data=new Map,this.buttonActions={focus:({target:t})=>{const e=t.closest(`.${se}`);return e&&this.panels.nav.refresh(oa(e))},click:({target:t})=>{this.addElement(t.parentElement.id)}}}async init(t,e=!1){return await this.applyOptions(t),this.buildDOM(e),this}registerControls(t){return this.controls=[],t.map((async t=>{let e;return e="function"==typeof t?new t:new vh(t),this.add(e),this.controls.push(e.dom),e.promise()}))}groupElements(){let t=this.options.groups.slice(),e=this.controls.slice(),n=[];const o=[];return t=ia(t,this.groupOrder,"id"),t=t.filter((t=>ss(t.id,this.options.disable.groups))),n=t.map((t=>{const n={tag:"ul",attrs:{className:se,id:`${t.id}-${se}`},config:{label:this.groupLabel(t.label)}};if(this.options.elementOrder[t.id]){const e=this.options.elementOrder[t.id],n=ls(e.concat(t.elementOrder));t.elementOrder=n}return e=ia(e,t.elementOrder,"meta.id"),n.content=e.filter((e=>{const{controlData:n}=this.get(e.id),i=n.meta.id||"";let r=!0;return r=[ss(i,this.options.disable.elements),n.meta.group===t.id,!o.includes(n.meta.id)].every((t=>!0===t)),r&&o.push(i),r})),n})),n}add(t=Object.create(null)){const e=hs(t);return this.data.set(e.id,e),e.controlData.meta.id&&this.data.set(e.controlData.meta.id,e.controlData),e}get(t){return this.data.get(t)}formActions(){if(!0===this.options.disable.formActions)return null;const t={...Jh.btnTemplate({content:[Jh.icon("bin"),oe.get("clear")],title:oe.get("clearAll")}),className:["clear-form"],action:{click:t=>{Fh.size?(fa.confirmClearAll=new window.CustomEvent("confirmClearAll",{detail:{confirmationMessage:oe.get("confirmClearAll"),clearAllAction:()=>{Bh.clearAll().then((()=>{const e={src:t.target};fa.formeoCleared(e)}))},btnCoords:Jh.coords(t.target)}}),document.dispatchEvent(fa.confirmClearAll)):window.alert(oe.get("cannotClearFields"))}}},e={...Jh.btnTemplate({content:[Jh.icon("floppy-disk"),oe.get("save")],title:oe.get("save")}),className:["save-form"],action:{click:({target:t})=>{const{formData:e}=Yh,n={action:()=>{},coords:Jh.coords(t),message:"",button:t};return Rd.click.btn(n),Rd.save.form(e)}}};return{className:"form-actions f-btn-group",content:Object.entries({clearBtn:t,saveBtn:e}).reduce(((t,[e,n])=>(this.options.disable.formActions.includes(e)||t.push(n),t)),[])}}buildDOM(t){const e=this.groupElements(),n=this.formActions(),{displayType:o}=this.options.panels;this.panels=new Wd({panels:e,type:"controls",displayType:o});const i=["control-groups","formeo-panels-wrap",`panel-count-${e.length}`],r=Jh.create({className:i,content:[this.panels.panelNav,this.panels.panelsWrap]}),s=["formeo-controls"];t&&s.push("formeo-sticky");const a=Jh.create({className:s,content:[r,n]}),l=a.getElementsByClassName("control-group");this.dom=a,this.groups=l;const[c]=l;this.currentGroup=c,this.actions={filter:t=>{const e=""!==t,n=this.controls;let o=r.querySelector(".filtered-term");if(Jh.toggleElementsByStr(n,t),e){const e=oe.get("controls.filteringTerm",t);a.classList.add("filtered"),o?o.textContent=e:(o=Jh.create({tag:"h5",className:"filtered-term",content:e}),r.insertBefore(o,r.firstChild))}else o&&(a.classList.remove("filtered"),o.remove())},addElement:this.addElement,addGroup:t=>{}};for(let d=l.length-1;d>=0;d--){const t=`formeo-controls-${l[d]}`;this.options.sortable||window.localStorage.removeItem(t),yd.create(l[d],{animation:150,forceFallback:!0,fallbackClass:"control-moving",fallbackOnBody:!0,group:{name:"controls",pull:"clone",put:!1},onStart:({item:t})=>{const{controlData:e}=this.get(t.id);this.options.ghostPreview&&(t.innerHTML="",t.appendChild(new ah(e).preview))},onEnd:({from:t,item:e,clone:n})=>{t.contains(n)&&t.replaceChild(e,n)},sort:this.options.sortable,store:{get:()=>{const e=window.localStorage.getItem(t);return e?e.split("|"):[]},set:e=>{const n=e.toArray();window.localStorage.setItem(t,n.join("|"))}}})}return a}};class Ah extends zl{constructor(){super(...arguments),e(this,"load",((t=Object.create(null))=>(this.empty(),"string"==typeof t&&(t=JSON.parse(t)),Object.entries(t).forEach((([t,e])=>this.add(t,e))),this.data))),e(this,"get",(t=>t?Xs(this.data,t):this.add())),e(this,"add",((t,e=Object.create(null))=>{const n=t||cs(),o=this.Component({...e,id:n});return this.set(n,o),this.active=o,o})),e(this,"remove",(t=>(Array.isArray(t)?t.forEach((t=>{this.get(t).remove()})):this.get(t).remove(),this.data))),e(this,"delete",(t=>(delete this.data[t],t))),e(this,"clearAll",((t=!0)=>{const e=Object.values(this.data).map((e=>e.empty(t)));return Promise.all(e)})),e(this,"conditionMap",new Map)}set config(t){this.configVal=ds(this.configVal,hs(t))}get config(){return this.configVal}}class Mh extends sh{constructor(t,e){super("stage",{...Object.freeze({children:[]}),...t},e);const n=this.createChildWrap();this.dom=Jh.create({attrs:{className:[ae,"empty"],id:this.id},children:n}),yd.create(n,{animation:150,fallbackClass:"row-moving",forceFallback:!0,group:{name:"stage",pull:!0,put:["row","column","controls"]},sort:!0,disabled:!1,onAdd:this.onAdd.bind(this),onRemove:this.onRemove.bind(this),onStart:()=>{_h.active=this},onSort:this.onSort.bind(this),draggable:`.${le}`,handle:".item-move"})}empty(t=!0){return new Promise((e=>{t?(this.dom.classList.add("removing-all-fields"),ha.slideUp(this.dom,De,(()=>{e(super.empty(t)),this.dom.classList.remove("removing-all-fields"),ha.slideDown(this.dom,De)}))):e(super.empty())}))}onAdd(...t){const e=super.onAdd(...t);e&&"column"===e.name&&e.parent.autoColumnWidths()}}const _h=new class extends Ah{constructor(t){super("stages",t)}Component(t){return new Mh(t)}};class Dh extends sh{constructor(t){super("row",{...Object.freeze({config:{fieldset:!1,legend:"",inputGroup:!1},children:[],className:[le]}),...t}),e(this,"autoColumnWidths",(()=>{const t=this.children;if(!t.length)return;const e=Number.parseFloat((100/t.length).toFixed(1))/1;for(const n of t){n.removeClasses(Ve);const t=n.dom,o=ps(e);n.set("config.width",o),t.style.width=o,t.dataset.colWidth=o;const i=setTimeout((()=>{clearTimeout(i),n.refreshFieldPanels()}),je);document.dispatchEvent(fa.columnResized)}this.updateColumnPreset()})),e(this,"updateColumnPreset",(()=>{this.columnPresetControl.innerHTML="";const t=this.getColumnPresetOptions.map((({label:t,...e})=>Jh.create({tag:"option",content:t,attrs:e})));this.columnPresetControl.append(...t)})),e(this,"setColumnWidths",(t=>{"string"==typeof t&&(t=t.split(",")),this.children.forEach(((e,n)=>{e.setWidth(`${t[n]}%`),e.refreshFieldPanels()}))}));const n=this.createChildWrap();this.dom=Jh.create({tag:"li",className:[le,"empty"],dataset:{hoverTag:oe.get("row"),editingHoverTag:oe.get("editing.row")},id:this.id,content:[this.getComponentTag(),this.getActionButtons(),this.editWindow,n]}),yd.create(n,{animation:150,fallbackClass:"column-moving",forceFallback:!0,group:{name:"row",pull:!0,put:["row","column","controls"]},sort:!0,disabled:!1,onRemove:this.onRemove.bind(this),onEnd:this.onEnd.bind(this),onAdd:this.onAdd.bind(this),onSort:this.onSort.bind(this),draggable:`.${ce}`,handle:".item-move"})}get editWindow(){const t={tag:"input",id:`${this.id}-fieldset`,attrs:{type:"checkbox",checked:this.get("config.fieldset"),ariaLabel:oe.get("row.settings.fieldsetWrap.aria")},action:{click:({target:{checked:t}})=>{this.set("config.fieldset",Boolean(t))}},config:{label:oe.get("row.settings.fieldsetWrap")}},e={tag:"input",id:`${this.id}-inputGroup`,attrs:{type:"checkbox",checked:this.get("config.inputGroup"),ariaLabel:oe.get("row.settings.inputGroup.aria")},action:{click:({target:{checked:t}})=>this.set("config.inputGroup",t)},config:{label:oe.get("row.makeInputGroup"),description:oe.get("row.makeInputGroupDesc")}},n={className:"input-group",content:{tag:"input",attrs:{type:"text",ariaLabel:"Legend for fieldset",value:this.get("config.legend"),placeholder:"Legend"},action:{input:({target:{value:t}})=>this.set("config.legend",t)},className:""}},o=Jh.formGroup([t,n]),i={tag:"label",content:oe.get("defineColumnWidths"),className:"col-sm-4 form-control-label"};this.columnPresetControl=Jh.create(this.columnPresetControlConfig);const r={className:"col-sm-8",content:this.columnPresetControl,action:{onRender:()=>{this.updateColumnPreset()}}},s=[e,"hr",o,"hr",Jh.formGroup([i,r],"row")];return Jh.create({className:`${this.name}-edit group-config`,action:{onRender:t=>{const e=s.map((t=>Jh.create(t)));t.append(...e)}}})}onAdd(...t){super.onAdd(...t),this.autoColumnWidths()}onRemove(...t){super.onRemove(...t),this.autoColumnWidths()}get getColumnPresetOptions(){const t=this.children,e=Ne.get(t.length-1)||[],n=t.map((t=>{const e=t.get("config.width")||"";return Number(e.replace("%","")).toFixed(1)})).join(",");if(e.length){const t=e.slice();return!t.find((t=>t.value===n))&&t.push({value:n,label:n.replace(/,/g," | "),className:he}),t.map((t=>{const e={...t};return e.selected=t.value===n,e}))}return[]}get columnPresetControlConfig(){return{tag:"select",attrs:{ariaLabel:oe.get("defineColumnLayout"),className:ue},action:{change:({target:t})=>{const{value:e}=t;this.setColumnWidths(e)}},options:this.getColumnPresetOptions}}}const jh={actionButtons:{buttons:["move","edit","clone","remove"],disabled:[]}};const kh=new class extends Ah{constructor(t){super("rows",t),this.config={all:jh}}Component(t){return new Dh(t)}};class Th{constructor(){this.onMove=this.onMove.bind(this),this.onStop=this.onStop.bind(this),this.cleanup=this.cleanup.bind(this)}getRowWidth(t){const e=t.querySelector(".children");if(!e)return 0;const n=e.children.length,o=Jh.getStyle(e,"gap")||"0px",i=parseFloat(o,10)||0;return this.totalGapWidth=i*(n-1),e.offsetWidth-this.totalGapWidth}validateResizeTarget(t,e){return t&&e&&t.offsetWidth&&e.offsetWidth}onStart(t){if(t.preventDefault(),this.resized=!1,0!==t.button)return;const e=t.target.parentElement,n=e.nextSibling||e.previousSibling,o=e.closest(`.${le}`);if(this.validateResizeTarget(e,n))if(this.startX="touchstart"===t.type?t.touches[0].clientX:t.clientX,o.classList.add(pe),this.columnPreset=o.querySelector(`.${ue}`),this.originalColumnClass=e.className,this.originalSiblingClass=n.className,e.className=e.className.replace(Ve,""),n.className=n.className.replace(Ve,""),this.colStartWidth=e.offsetWidth,this.sibStartWidth=n.offsetWidth,this.rowWidth=this.getRowWidth(o),this.rowWidth<=0)this.cleanup();else{this.column=e,this.sibling=n,this.row=o;try{window.addEventListener("pointermove",this.onMove,!1),window.addEventListener("pointerup",this.onStop,!1)}catch(i){this.cleanup()}}else this.cleanup()}calculateNewWidths(t){const e=this.colStartWidth+t-this.startX,n=this.sibStartWidth-t+this.startX,o=parseFloat(us(e,this.rowWidth)),i=parseFloat(us(n,this.rowWidth));return o<10||i<10?null:{colWidth:ps(o.toFixed(1)),siblingColWidth:ps(i.toFixed(1))}}onMove(t){t.preventDefault();const{column:e,sibling:n}=this,o="touchmove"===t.type?t.touches[0].clientX:t.clientX,i=this.calculateNewWidths(o);if(!i)return;const{colWidth:r,siblingColWidth:s}=i;e.dataset.colWidth=r,n.dataset.colWidth=s,e.style.width=r,n.style.width=s,this.resized=!0}onStop(){const{column:t,sibling:e}=this;window.removeEventListener("pointermove",this.onMove),window.removeEventListener("pointerup",this.onStop),this.resized&&(this.setCustomWidthValue(),Yh.setAddress(`columns.${t.id}.config.width`,t.dataset.colWidth),Yh.setAddress(`columns.${e.id}.config.width`,e.dataset.colWidth),this.row.classList.remove(pe),this.resized=!1,this.cleanup())}cleanup(){this.column&&this.originalColumnClass&&(this.column.className=this.originalColumnClass),this.sibling&&this.originalSiblingClass&&(this.sibling.className=this.originalSiblingClass),this.row&&this.row.classList.remove(pe),window.removeEventListener("pointermove",this.onMove),window.removeEventListener("pointerup",this.onStop)}setCustomWidthValue(){const t=this.columnPreset;let e=t.querySelector(`.${he}`);const n=this.row.querySelector(".children").children,o=sa(n,(t=>us(t.clientWidth,this.rowWidth).toFixed(1))),i=o.join(","),r=o.join(" | ");return e||(e=Jh.create({tag:"option",attrs:{className:he,value:i,selected:!0},content:r}),t.append(e)),e.value=i,e.textContent=r,i}}const Lh=t=>({className:"resize-x-handle",action:{pointerdown:t.onStart.bind(t)},content:[Jh.icon("triangle-down"),Jh.icon("triangle-up")]}),Ph=()=>({className:"column-edit group-config"});class zh extends sh{constructor(t){super("column",{...Object.freeze({config:{width:"100%"},children:[],className:[ce]}),...t}),e(this,"refreshFieldPanels",(()=>{this.children.forEach((t=>t.panels.nav.refresh()))})),e(this,"setWidth",(t=>(this.dom.dataset.colWidth=t,this.dom.style.width=t,this.set("config.width",t))));const n=this.createChildWrap();this.dom=Jh.create({tag:"li",className:[ce,"empty"],dataset:{hoverTag:oe.get("column")},id:this.id,content:[this.getComponentTag(),this.getActionButtons(),Ph(),Lh(new Th),n]}),this.processConfig(this.dom),fa.columnResized=new window.CustomEvent("columnResized",{detail:{column:this.dom,instance:this}}),yd.create(n,{animation:150,fallbackClass:"field-moving",forceFallback:!0,group:{name:"column",pull:!0,put:["column","controls"]},sort:!0,disabled:!1,onEnd:this.onEnd.bind(this),onAdd:this.onAdd.bind(this),onSort:this.onSort.bind(this),onRemove:this.onRemove.bind(this),onMove:t=>{t.from!==t.to&&t.from.classList.remove("hovering-column")},draggable:`.${de}`,handle:".item-move"})}processConfig(t){const e=da.get(this.data,"config.width");e&&(t.dataset.colWidth=e,t.style.width=e)}}const $h={actionButtons:{buttons:["clone","move","remove"],disabled:[]}};const Ih=new class extends Ah{constructor(t){super("columns",t),this.config={all:$h}}Component(t){return new zh(t)}},Hh={actionButtons:{buttons:["move","edit","clone","remove"],disabled:[]},panels:{disabled:[],attrs:{disabled:["type"],hideDisabled:!0,locked:[]},order:["attrs","options","conditions"]},label:{disableHTML:!1}};const Vh=new class extends Ah{constructor(t){super("fields",t),e(this,"get",(t=>{let e=t&&Xs(this.data,t);if(!e){const n=Nh.get(t);n&&(e=this.add(null,n.controlData))}return e})),this.config={all:Hh}}Component(t){return new ah(t)}};const Rh=new class extends Ah{constructor(t){super("externals",t)}Component(t){return new sh("external",t)}},Bh=_h,Fh=kh,Wh=Ih,qh=Vh,Uh=Nh,Gh=Rh,Xh={id:cs()};const Yh=new class extends zl{constructor(t){super("components"),e(this,"sessionFormData",(()=>{var t;if(null==(t=this.opts)?void 0:t.sessionStorage)return ms.get(Me)})),e(this,"load",((t,e=this.opts||Object.create(null))=>{let n=t;this.empty(),"string"==typeof t&&(n=JSON.parse(t)),this.opts=e;const{stages:o={[cs()]:{}},rows:i,columns:r,fields:s,id:a=cs()}={...this.sessionFormData(),...n};this.set("id",a),this.add("stages",Bh.load(o)),this.add("rows",Fh.load(i)),this.add("columns",Wh.load(r)),this.add("fields",qh.load(s)),this.add("externals",Gh.load(e.external));for(const l of Object.values(this.get("stages")))l.loadChildren();return this.data})),this.opts=t,this.data=Xh,this.disableEvents=!0,this.stages=Bh,this.rows=Fh,this.columns=Wh,this.fields=qh,this.controls=Uh,this.externals=Gh}flatList(t=this.data,e=Object.create(null)){return Object.entries(t).reduce(((t,[e,n])=>{if("object"==typeof n)for(const[o,i]of Object.entries(n))t[`${e}.${o}`]=i;return t}),e)}get json(){return window.JSON.stringify(this.formData)}get formData(){return{id:this.get("id"),stages:_h.getData(),rows:kh.getData(),columns:Ih.getData(),fields:Vh.getData()}}set config(t){const{stages:e,rows:n,columns:o,fields:i}=t;Bh.config=e,Fh.config=n,Wh.config=o,qh.config=i}setAddress(t,e){const[n,o,...i]=Array.isArray(t)?t:t.split("."),r=this[n.replace(/s?$/,"s")].get(o);return null==r||r.set(i,e),r}getAddress(t){if(!fs(t))return;const[e,n,...o]=Array.isArray(t)?t:t.split("."),i=this[e.replace(/s?$/,"s")].get(n);return o.length?i.get(o):i}getConditionMap(t){if(fs(t)){const e=t.split(".");return e.every((t=>Boolean(t)))&&this[e[0]].conditionMap.get(e[1])}}setConditionMap(t,e){if(fs(t)){const n=t.split(".");return n.every((t=>Boolean(t)))&&this[n[0]].conditionMap.set(n[1],e)}}removeConditionMap(t){if(fs(t)){const e=t.split(".");return e.every((t=>Boolean(t)))&&this[e[0]].conditionMap.delete(e[1])}}},Zh={glyphicons:t=>`<span class="glyphicon glyphicon-${t}" aria-hidden="true"></span>`,"font-awesome":t=>{const[e,n]=t.split(" ");return`<i class="${e} fa-${n}"></i>`},fontello:t=>`<i class="${Re}${t}">${t}</i>`};const Jh=new class{constructor(){e(this,"render",(t=>(t.id=`f-${t.id||cs()}`,this.create(t)))),e(this,"create",((t,e=!1)=>{let n=t;if(!n)return;n=this.processTagName(n);const o=this;let i;const{tag:r}=n,s=["children","content"];let a;const l={attrs:{},className:[da.get(n,"config.inputWrap")||"f-field-group"],children:[],config:{}};let c=document.createElement(r);const d={string:t=>{c.innerHTML+=t},object:t=>t&&c.appendChild(o.create(t,e)),node:t=>c.appendChild(t),component:t=>c.appendChild(t.dom),array:t=>{for(const e of t)i=o.childType(e),d[i](e)},function:t=>{t=t(),i=o.childType(t),d[i](t)},undefined:()=>null,boolean:()=>null};if(s.push("tag"),n.className){const{className:t}=n;n.attrs=Object.assign({},n.attrs,{className:t}),delete n.className}if(n.options){let{options:t}=n;if(t=this.processOptions(t,n,e),!this.holdsContent(c)||"button"===r)return da.forEach(t,(t=>{l.children.push(o.create(t,e))})),n.attrs.className&&(l.className=n.attrs.className),l.config=Object.assign({},n.config),this.create(l,e);d.array.call(this,t),delete n.content,s.push("options")}if("OPTION"===c.tagName){const t=setTimeout((()=>{c.selected=!1,clearTimeout(t)}),0)}if(n.attrs&&(o.processAttrs(n,c,e),s.push("attrs")),n.config){if(n.config.label&&(n.config.label&&"button"!==r||["radio","checkbox"].includes(da.get(n,"attrs.type")))&&!e){const t=o.label(n);if(!n.config.hideLabel){const e=[...o.labelAfter(n)?[c,t]:[t,c]];l.children.push(e)}}s.push("config")}if(n.content||n.children){const t=n.content||n.children;i=o.childType(t),d[i],d[i].call(this,t)}if(n.dataset){for(const t in n.dataset)Object.hasOwn(n.dataset,t)&&(c.dataset[t]="function"==typeof n.dataset[t]?n.dataset[t]():n.dataset[t]);s.push("dataset")}n.action&&(this.actionHandler(c,n.action),s.push("action"));const h=da.subtract(s,Object.keys(n));for(a=h.length-1;a>=0;a--)c[h[a]]=n[h[a]];return l.children.length&&(c=this.create(l)),c})),e(this,"onRender",((t,e)=>{t.parentElement?e(t):window.requestAnimationFrame((()=>this.onRender(t,e)))})),e(this,"toggleElementsByStr",((t,e)=>{const n=[];return Jh.elementsContainText(t,e,((t,e)=>{e?(t.style.display="block",n.push(t)):t.style.display="none"})),n})),e(this,"elementsContainText",((t,e,n)=>{const o=[];return ra(t,(t=>{const i=-1!==t.textContent.toLowerCase().indexOf(e.toLowerCase());null==n||n(t,i),i&&o.push(t)})),o})),e(this,"generateOption",(({type:t="option",label:e,value:n,i:o=0,selected:i})=>({tag:"option"===t?"option":"input",attrs:{type:t,value:n||`${t}-${o}`,["option"===t?"selected":"checked"]:i||!o},config:{label:e||oe.get("labelCount",{label:oe.get("option"),count:o})}}))),e(this,"makeOption",(([t,e],n,o)=>{const i={value:t,label:oe.get(`${o}.${e}`)||e};return t===n&&(i.selected=!0),i})),e(this,"requiredMark",(()=>({tag:"span",className:"text-error",children:"*"}))),e(this,"removeEmpty",(t=>{const e=t.parentElement,n=as(t),o=e.getElementsByClassName(`formeo-${n}`);if(this.remove(t),!o.length){if(!this.isStage(e))return this.removeEmpty(e);this.emptyClass(e)}})),e(this,"btnTemplate",(({title:t="",...e})=>({tag:"button",attrs:{type:"button",title:t},...e}))),e(this,"isControls",(t=>as(t)===se)),e(this,"isStage",(t=>as(t)===ae)),e(this,"isRow",(t=>as(t)===le)),e(this,"isColumn",(t=>as(t)===ce)),e(this,"isField",(t=>as(t)===de)),e(this,"asComponent",(t=>Yh[`${as(t)}s`].get(t.id))),this.options=Object.create(null),this.styleSheet=(()=>{const t=document.createElement("style");return t.setAttribute("media","screen"),t.setAttribute("type","text/css"),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet})()}set setOptions(t){this.options=ds(Object.assign({},this.options,t))}processTagName(t){let e;if("string"==typeof t&&(e=t,t={tag:e}),t.attrs){const{tag:n,...o}=t.attrs;if(n)if("string"==typeof n)e=n;else{e=(n.find((t=>!0===t.selected))||n[0]).value}t.attrs=o}return t.tag=e||t.tag||"div",t}actionHandler(t,e){const n={onRender:Jh.onRender,render:Jh.onRender},o=["focus","blur"];return Object.entries(e).map((([e,i])=>(Array.isArray(i)?i:[i]).map((i=>{const r=n[e]||(t=>(e,n)=>e.addEventListener(t,n,o.includes(t)))(e);return r(t,i)}))))}get icons(){if(this.iconSymbols)return this.iconSymbols;const t=document.querySelectorAll("#formeo-sprite svg symbol");return this.iconSymbols=Array.from(t).reduce(((t,e)=>{var n;return t[e.id.replace(Re,"")]=Jh.create({tag:"svg",attrs:{className:`svg-icon ${n=e.id}`},children:[{tag:"use",attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":`#${n}`}}]}),t}),{}),this.iconSymbols}icon(t=null,e=[]){var n;if(!t)return;const o=this.icons[t];if(o){const t=o.cloneNode(!0);return t.classList.add(...e),t.outerHTML}return(null==(n=Zh[Jh.options.iconFont])?void 0:n.call(Zh,t))||t}processAttrs(t,e,n){const{attrs:o={}}=t;n||!o.name&&this.isInput(t.tag)&&e.setAttribute("name",cs(t));for(const i of Object.keys(o)){const t=da.safeAttrName(i);let n=o[i]||"";if(Array.isArray(n))if("object"==typeof n[0]){const t=n.filter((t=>!0===t.selected));n=t.length?t[0].value:n[0].value}else n=n.join(" ");if(n)if("OPTION"===e.tagName&&"selected"===t){const o=setTimeout((()=>{e.setAttribute(t,n),clearTimeout(o)}),0)}else e.setAttribute(t,n)}}processOptions(t,e,n){const{action:o,attrs:i}=e,r=i.type||e.tag,s=i.id||e.id;return t.map(((t,i)=>{var a;const{label:l,...c}=t,d=()=>{const a={tag:"input",attrs:{name:s,type:r,value:t.value||"",id:`${s}-${i}`,...c},action:o},l={tag:"label",attrs:{for:`${s}-${i}`},config:{inputWrap:"form-check"},children:t.label},d={children:[a,l],className:[`f-${r}`]};return e.attrs.className&&(e.config.inputWrap=e.attrs.className),e.config.inline&&d.className.push(`f-${r}-inline`),t.selected&&(a.attrs.checked=!0),n&&(l.attrs.contenteditable=!0),d},h={select:()=>({tag:"option",attrs:t,children:t.label}),button:t=>{const{type:n,label:o,className:i,id:r}=t;return{...e,attrs:{type:n},className:i,id:r||cs(),options:void 0,children:o,action:e.action}},checkbox:d,radio:d};return null==(a=h[r])?void 0:a.call(h,t)}))}holdsContent(t){return-1!==t.outerHTML.indexOf("/")}isBlockInput(t){return!this.isInput(t)&&this.holdsContent(t)}isInput(t){return"string"!=typeof t&&(t=t.tagName),-1!==["input","textarea","select"].indexOf(t)}parsedHtml(t){const e=document.createElement("textarea");return e.innerHTML=t,e.textContent}labelAfter(t){const e=da.get(t,"attrs.type"),n=da.get(t,"config.labelAfter");return void 0!==n?n:"checkbox"===e||"radio"===e}label(t,e){const n=da.get(t,"attrs.required");let{config:{label:o=""}}=t;const{id:i,attrs:r}=t;"function"==typeof o&&(o=o());const s={tag:"label",attrs:{for:i||(null==r?void 0:r.id)},className:[],children:[o,n&&this.requiredMark()],action:{}};return e&&(delete s.attrs.for,s.attrs.contenteditable=!0,s.fMap=e),s}childType(t){return void 0===t?t:[["array",t=>Array.isArray(t)],["node",t=>t instanceof window.Node||t instanceof window.HTMLElement],["component",()=>null==t?void 0:t.dom],[typeof t,()=>!0]].find((e=>e[1](t)))[0]}getStyle(t,e=!1){let n;return window.getComputedStyle?n=window.getComputedStyle(t,null):t.currentStyle&&(n=t.currentStyle),e?n[e]:n}getElement(t){return{node:()=>t,object:()=>document.getElementById(t.id),string:()=>document.getElementById(t)}[this.childType(t)]()}empty(t){for(;t.firstChild;)this.remove(t.firstChild);return t}remove(t){const e=as(t);return e?Yh.remove(`${e}s.${t.id}`):t.parentElement.removeChild(t)}removeClasses(t,e){const n={string:t=>t.classList.remove(e),array:t=>{for(const n of e)t.classList.remove(n)}};n.object=n.string,da.forEach(t,n[this.childType(e)])}addClasses(t,e){const n={string:t=>t.classList.add(e),array:t=>{for(const n of e)t.classList.add(n)}};da.forEach(t,n[this.childType(e)])}formGroup(t,e=""){return{className:["f-field-group",e],children:t}}coords(t){const e=t.getBoundingClientRect(),n=document.body.getBoundingClientRect();return{pageX:e.left+e.width/2,pageY:e.top-n.top-e.height/2}}clearStage(t){t.classList.add("removing-all-fields");ha.slideUp(t,600,(()=>{Jh.empty(t),t.classList.remove("removing-all-fields"),Jh.emptyClass(t),ha.slideDown(t,300)}))}toggleSortable(t,e){const n=as(t);if(!n)return;const o=as(t.parentElement),i=Jh[n].get(t.id).sortable;e||(e=!i.option("disabled")),i.option("disabled",e),o&&["rows","columns","stages"].includes(o)&&this.toggleSortable(t.parentElement,e)}emptyClass(t){const e=t.getElementsByClassName(me.get(t.classList.item(0)));t.classList.toggle("empty",!e.length)}};const Kh={"en-US":"English",dir:"ltr","action.add.attrs.attr":"What attribute would you like to add?","action.add.attrs.value":"Default Value",addOption:"Add Option",allFieldsRemoved:"All fields were removed.",allowSelect:"Allow Select",attribute:"Attribute",attributes:"Attributes","attrs.class":"Class","attrs.className":"Class","attrs.dir":"Direction","attrs.id":"Id","attrs.required":"Required","attrs.style":"Style","attrs.title":"Title","attrs.type":"Type","attrs.value":"Value",autocomplete:"Autocomplete",button:"Button",cannotBeEmpty:"This field cannot be empty",checkbox:"Checkbox",checkboxes:"Checkboxes",class:"Class",clear:"Clear",clearAllMessage:"Are you sure you want to clear all fields?",close:"Close",column:"Column",confirmClearAll:"Are you sure you want to remove all fields?",content:"Content",control:"Control","controlGroups.nextGroup":"Next Group","controlGroups.prevGroup":"Previous Group","controls.form.button":"Button","controls.form.checkbox-group":"Checkbox Group","controls.form.input.date":"Date","controls.form.input.email":"Email","controls.form.input.file":"File Upload","controls.form.input.hidden":"Hidden Input","controls.form.input.number":"Number","controls.form.input.text":"Text Input","controls.form.radio-group":"Radio Group","controls.form.select":"Select","controls.form.textarea":"TextArea","controls.groups.form":"Form Fields","controls.groups.html":"HTML Elements","controls.groups.layout":"Layout","controls.html.divider":"Divider","controls.html.header":"Header","controls.html.paragraph":"Paragraph","controls.layout.column":"Column","controls.layout.row":"Row","controls.filteringTerm":'Filtering "{term}"',copy:"Copy To Clipboard",danger:"Danger",description:"Help Text",descriptionField:"Description",defineColumnLayout:"Define a column layout",defineColumnWidths:"Define column widths","editing.row":"Editing Row",editorTitle:"Form Elements",field:"Field",fieldNonEditable:"This field cannot be edited.",fieldRemoveWarning:"Are you sure you want to remove this field?",fileUpload:"File Upload",formUpdated:"Form Updated",getStarted:"Drag a field from the right to get started.",group:"Group",grouped:"Grouped",hidden:"Hidden Input",hide:"Edit",htmlElements:"HTML Elements",if:"If",info:"Info","input.date":"Date","input.text":"Text",label:"Label",labelCount:"{label} {count}",labelEmpty:"Field Label cannot be empty",layout:"Layout",limitRole:"Limit access to one or more of the following roles:",mandatory:"Mandatory",maxlength:"Max Length","meta.group":"Group","meta.icon":"Ico","meta.label":"Label",minOptionMessage:"This field requires a minimum of 2 options",name:"Name",no:"No",number:"Number",off:"Off",on:"On",option:"Option",optional:"optional",optionEmpty:"Option value required",optionLabel:"Option {count}",options:"Options",order:"Order","panel.label.attrs":"Attributes","panel.label.conditions":"Conditions","panel.label.config":"Configuration","panel.label.meta":"Meta","panel.label.options":"Options","panelEditButtons.attrs":"+ Attribute","panelEditButtons.options":"+ Option","panelEditButtons.conditions":"+ Condition",placeholder:"Placeholder","placeholder.className":"space separated classes","placeholder.email":"Enter you email","placeholder.label":"Label","placeholder.password":"Enter your password","placeholder.placeholder":"Placeholder","placeholder.text":"Enter some Text","placeholder.textarea":"Enter a lot of text","placeholder.value":"Value",preview:"Preview",primary:"Primary",remove:"Remove",removeType:"Remove {type}",removeMessage:"Remove Element",required:"Required",reset:"Reset",richText:"Rich Text Editor",roles:"Access",row:"Row","row.makeInputGroup":"Make this row an input group.","row.makeInputGroupDesc":"Input Groups enable users to add sets of inputs at a time.","row.settings.fieldsetWrap":"Wrap row in a &lt;fieldset&gt; tag","row.settings.fieldsetWrap.aria":"Wrap Row in Fieldset",cannotClearFields:"There are no fields to clear",save:"Save",secondary:"Secondary",select:"Select",selectColor:"Select Color",selectionsMessage:"Allow Multiple Selections",selectOptions:"Options",separator:"Separator",settings:"Settings",size:"Size",sizes:"Sizes","sizes.lg":"Large","sizes.m":"Default","sizes.sm":"Small","sizes.xs":"Extra Small",style:"Style",styles:"Styles","styles.btn":"Button Style","styles.btn.danger":"Danger","styles.btn.default":"Default","styles.btn.info":"Info","styles.btn.primary":"Primary","styles.btn.success":"Success","styles.btn.warning":"Warning",subtype:"Type",success:"Success",text:"Text Field",then:"Then",toggle:"Toggle",ungrouped:"Un-Grouped",warning:"Warning",yes:"Yes",and:"and",or:"or","field.property.value":"value","field.property.label":"label","field.property.valid":"valid","field.property.invalid":"not valid","field.property.isVisible":"is visible","field.property.isNotVisible":"is not visible",newOptionLabel:"New {type}","operator.visible":"visible","operator.notVisible":"not visible","operator.equals":"equals","operator.notEquals":"not equal","operator.contains":"contains","operator.notContains":"not contains","condition.target.placeholder":"target","if.condition.target.placeholder":"target / value","if.condition.source.placeholder":"source","then.condition.target.placeholder":"target","condition.value.placeholder":"value",attributeNotPermitted:'Attribute "{attribute}" is not permitted, please choose another.'};oe.addLanguage("en-US",Kh);const Qh={get editor(){return{stickyControls:!1,allowEdit:!0,dataType:"json",debug:!1,sessionStorage:!1,editorContainer:null,external:{},svgSprite:null,iconFont:null,config:{},events:{},actions:{},controls:{},polyfills:ca(),i18n:{location:"https://draggable.github.io/formeo/assets/lang/"}}}};let tu=class{constructor({formData:t,...e},n){const o=ds(Qh.editor,e),{actions:i,events:r,debug:s,config:a,editorContainer:l,...c}=o;l&&(this.editorContainer="string"==typeof l?document.querySelector(l):l),this.opts=c,Jh.setOptions=c,Yh.config=a,this.userFormData=n||t,this.Components=Yh,this.dom=Jh,fa.init({debug:s,...r}),Rd.init({debug:s,sessionStorage:c.sessionStorage,...i}),this.loadResources().then((()=>{c.allowEdit&&this.init()}))}get formData(){return this.Components.formData}set formData(t={}){this.load({...this.userFormData,...t},this.opts)}get json(){return this.Components.json}loadResources(){var t;const e=[];return this.opts.polyfills&&(t=>{const e=Array.isArray(t)?re.filter((({name:e})=>-1!==t.indexOf(e))):re;Promise.all(e.map((({src:t})=>hh(t))))})(this.opts.polyfills),this.opts.style&&e.push(uh(this.opts.style)),this.opts.svgSprite?e.push(mh(this.opts.svgSprite,ph,(()=>mh("https://draggable.github.io/formeo/assets/img/formeo-sprite.svg",ph)))):e.push(ph('<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol id="f-i-autocomplete" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M6,5h1v1H6V5z M4,4H3v1h1V4z M6,4H5v1h1V4z M2,5v1h1V5H2z M3,7h1V6H3V7z M5,7h1V6H5V7z M4,5v1h1V5H4z M2,14h1v-1H2V14z M4,14h1v-1H4V14z M6,14h1v-1H6V14z M9,13H8v1h1V13z M16,3.5v4C16,8.3,15.3,9,14.5,9H14v3v3c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.4-1-1V3.5 C0,2.7,0.7,2,1.5,2h3H8V1.5V1H7H6V0.5V0h2.5H11v0.5V1h-1H9v0.5V2h3h2.5C15.3,2,16,2.7,16,3.5z M13,12H7H1v3h12V12z M3,11v-1H2v1H3z M5,11v-1H4v1H5z M15,3.5C15,3.2,14.8,3,14.5,3H9v2.5V8H8.5H8V7.5V7H7V6h1V5.5V5H7V4h1V3.5V3H1.5C1.2,3,1,3.2,1,3.5v4 C1,7.8,1.2,8,1.5,8H8v1H6v0.5V10h2.5H11V9.5V9H9V8h5.5C14.8,8,15,7.8,15,7.5V3.5z"/></symbol><symbol viewBox="0 0 32 32" id="f-i-bin" xmlns="http://www.w3.org/2000/svg"><path d="M4 10v20c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-20h-22zM10 28h-2v-14h2v14zM14 28h-2v-14h2v14zM18 28h-2v-14h2v14zM22 28h-2v-14h2v14zM26.5 4h-6.5v-2.5c0-.825-.675-1.5-1.5-1.5h-7c-.825 0-1.5.675-1.5 1.5v2.5h-6.5c-.825 0-1.5.675-1.5 1.5v2.5h26v-2.5c0-.825-.675-1.5-1.5-1.5zM18 4h-6v-1.975h6v1.975z"/></symbol><symbol id="f-i-button" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><metadata id="acmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><path id="acrect4140" d="M 0.4765625,4 A 0.47706934,0.47706934 0 0 0 0,4.4765625 L 0,11.523438 A 0.47706934,0.47706934 0 0 0 0.4765625,12 L 15.523438,12 A 0.47706934,0.47706934 0 0 0 16,11.523438 L 16,4.4765625 A 0.47706934,0.47706934 0 0 0 15.523438,4 L 0.4765625,4 Z m 0.4765625,0.953125 14.09375,0 0,6.09375 -14.09375,0 0,-6.09375 z"/><g id="aclayer1"><g id="actext4203"><g id="acg4212" transform="translate(0.10112835,0.1001358)"><path id="acpath4208" d="m 6.0690374,6.4093857 q -0.5371093,0 -0.8544922,0.4003906 -0.3149414,0.4003906 -0.3149414,1.0913086 0,0.6884766 0.3149414,1.0888672 0.3173829,0.4003906 0.8544922,0.4003906 0.5371094,0 0.8496094,-0.4003906 0.3149414,-0.4003906 0.3149414,-1.0888672 0,-0.690918 -0.3149414,-1.0913086 -0.3125,-0.4003906 -0.8496094,-0.4003906 z m 0,-0.4003906 q 0.7666016,0 1.225586,0.5151367 0.4589843,0.5126953 0.4589843,1.3769531 0,0.8618164 -0.4589843,1.3769531 -0.4589844,0.5126953 -1.225586,0.5126953 -0.7690429,0 -1.2304687,-0.5126953 -0.4589844,-0.5126953 -0.4589844,-1.3769531 0,-0.8642578 0.4589844,-1.3769531 0.4614258,-0.5151367 1.2304687,-0.5151367 z"/><path id="acpath4210" d="m 8.5250921,6.074913 0.4931641,0 0,1.5405274 1.6357418,-1.5405274 0.634766,0 -1.809082,1.6992188 1.938477,1.9458008 -0.649415,0 -1.7504878,-1.7553711 0,1.7553711 -0.4931641,0 0,-3.6450196 z"/></g></g></g></symbol><symbol viewBox="0 0 32 32" id="f-i-calendar" xmlns="http://www.w3.org/2000/svg"><path d="M12.048 16.961c-0.178 0.257-0.395 0.901-0.652 1.059-0.257 0.157-0.547 0.267-0.869 0.328-0.323 0.062-0.657 0.089-1.002 0.079v1.527h2.467v6.046h1.991v-9.996h-1.584c-0.056 0.381-0.173 0.7-0.351 0.957zM23 8h2c0.553 0 1-0.448 1-1v-6c0-0.552-0.447-1-1-1h-2c-0.553 0-1 0.448-1 1v6c0 0.552 0.447 1 1 1zM7 8h2c0.552 0 1-0.448 1-1v-6c0-0.552-0.448-1-1-1h-2c-0.552 0-1 0.448-1 1v6c0 0.552 0.448 1 1 1zM30 4h-2v5c0 0.552-0.447 1-1 1h-6c-0.553 0-1-0.448-1-1v-5h-8v5c0 0.552-0.448 1-1 1h-6c-0.552 0-1-0.448-1-1v-5h-2c-1.104 0-2 0.896-2 2v24c0 1.104 0.896 2 2 2h28c1.104 0 2-0.896 2-2v-24c0-1.104-0.896-2-2-2zM30 29c0 0.553-0.447 1-1 1h-26c-0.552 0-1-0.447-1-1v-16c0-0.552 0.448-1 1-1h26c0.553 0 1 0.448 1 1v16zM15.985 17.982h4.968c-0.936 1.152-1.689 2.325-2.265 3.705-0.575 1.381-0.638 2.818-0.749 4.312h2.131c0.009-0.666-0.195-1.385-0.051-2.156 0.146-0.771 0.352-1.532 0.617-2.285 0.267-0.752 0.598-1.461 0.996-2.127 0.396-0.667 0.853-1.229 1.367-1.686v-1.742h-7.015v1.979z"/></symbol><symbol id="f-i-checkbox" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M13.5,5v8c0,0.8-0.7,1.5-1.5,1.5H3c-0.8,0-1.5-0.7-1.5-1.5V4c0-0.8,0.7-1.5,1.5-1.5h9c0.7,0,1.3,0.5,1.5,1.2l2.4-1.4L13.5,5 z M12.5,6.2L7.7,12L2.8,5.5l4.9,1.6l4.8-2.9V4c0-0.3-0.2-0.5-0.5-0.5H3C2.7,3.5,2.5,3.7,2.5,4v9c0,0.3,0.2,0.5,0.5,0.5h9 c0.3,0,0.5-0.2,0.5-0.5V6.2z"/></symbol><symbol id="f-i-checkbox-group" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M0,1h16V0H0V1z M0,3h16V2H0V3z M6,5v1h9V5H6z M15,14v-1H6v1H15z M6,10h9V9H6V10z M4,12l-2.5,1.5L0,13l1.5,2L4,12z M4,8 L1.5,9.5L0,9l1.5,2L4,8z M4,4L1.5,5.5L0,5l1.5,2L4,4z"/></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-columns" xmlns="http://www.w3.org/2000/svg"><metadata id="agmetadata4318"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><path id="agrect4860-3-5" d="M 16,0.5 A 0.50004997,0.50004997 0 0 0 15.5,0 l -5,0 -5,0 -5,0 A 0.50004997,0.50004997 0 0 0 0,0.5 l 0,15 A 0.50004997,0.50004997 0 0 0 0.5,16 l 5,0 5,0 5,0 A 0.50004997,0.50004997 0 0 0 16,15.5 l 0,-15 z M 15,1 15,15 11,15 11,1 15,1 Z M 10,1 10,15 6,15 6,1 10,1 Z M 5,1 5,15 1,15 1,1 5,1 Z"/></symbol><symbol viewBox="0 0 2.1166668 2.1167197" id="f-i-component-corner" xmlns="http://www.w3.org/2000/svg"><g id="ahg2" transform="translate(-0.52916668)"><path class="ahcorner-fill" stroke="none" fill="inherit" d="M 0.52916668,5.3011818e-5 V 2.1167198 H 2.6458337 V 1.9849449 C 1.5496647,1.9849298 0.66092868,1.0962219 0.66094168,5.3011818e-5 Z m 0.131775,0 L 2.6458337,1.9849449 Z"/><path class="ahcorner-stroke" stroke-width="0.250546px" fill="none" stroke="inherit" d="m 2.645783,1.9848683 v 0 C 1.5496137,1.9848532 0.66100516,1.0962232 0.66101817,5.4327518e-5 v 0"/></g></symbol><symbol viewBox="0 0 32 32" id="f-i-copy" xmlns="http://www.w3.org/2000/svg"><path d="M20 8v-8h-14l-6 6v18h12v8h20v-24h-12zM6 2.828v3.172h-3.172l3.172-3.172zM2 22v-14h6v-6h10v6l-6 6v8h-10zM18 10.828v3.172h-3.172l3.172-3.172zM30 30h-16v-14h6v-6h10v20z"/></symbol><symbol id="f-i-divider" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><metadata id="ajmetadata10"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><rect y="7" x="0" height="1" width="15" id="ajrect4182"/></symbol><symbol viewBox="0 0 28 32" id="f-i-edit" xmlns="http://www.w3.org/2000/svg"><path d="M22 2l-4 4 6 6 4-4-6-6zM0 24l0.021 6.018 5.979-0.018 16-16-6-6-16 16zM6 28h-4v-4h2v2h2v2z"/></symbol><symbol fill="#000000" viewBox="0 0 24 24" id="f-i-email" xmlns="http://www.w3.org/2000/svg"><path d="M12,2 C17.4292399,2 21.8479317,6.32667079 21.9961582,11.7200952 L22,12 L22,13 C22,15.1729208 20.477434,17 18.5,17 C17.3269391,17 16.3139529,16.3570244 15.6839382,15.3803024 C14.770593,16.3757823 13.4581934,17 12,17 C9.23857625,17 7,14.7614237 7,12 C7,9.23857625 9.23857625,7 12,7 C14.6887547,7 16.8818181,9.12230671 16.9953805,11.7831104 L17,12 L17,13 C17,14.1407877 17.7160103,15 18.5,15 C19.2447902,15 19.928229,14.2245609 19.9947109,13.1689341 L20,13 L20,12 C20,7.581722 16.418278,4 12,4 C7.581722,4 4,7.581722 4,12 C4,16.418278 7.581722,20 12,20 C13.1630948,20 14.2892822,19.7522618 15.3225159,19.2798331 C15.8247876,19.0501777 16.4181317,19.271177 16.647787,19.7734487 C16.8774423,20.2757205 16.656443,20.8690646 16.1541713,21.0987199 C14.861218,21.689901 13.4515463,22 12,22 C6.4771525,22 2,17.5228475 2,12 C2,6.4771525 6.4771525,2 12,2 Z M12,9 C10.3431458,9 9,10.3431458 9,12 C9,13.6568542 10.3431458,15 12,15 C13.6568542,15 15,13.6568542 15,12 C15,10.3431458 13.6568542,9 12,9 Z"/></symbol><symbol viewBox="0 0 32 32" id="f-i-floppy-disk" xmlns="http://www.w3.org/2000/svg"><path d="M28 0h-28v32h32v-28l-4-4zM16 4h4v8h-4v-8zM28 28h-24v-24h2v10h18v-10h2.343l1.657 1.657v22.343z"/></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-handle" xmlns="http://www.w3.org/2000/svg"><metadata id="aqmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g transform="translate(0,-2)" id="aqg4220"><rect id="aqrect4191" width="2" height="2" x="2" y="7"/><rect id="aqrect4191-2" width="2" height="2" x="7" y="7"/><rect id="aqrect4191-4" width="2" height="2" x="12" y="7"/></g><g transform="translate(0,2)" id="aqg4220-6"><rect id="aqrect4191-40" width="2" height="2" x="2" y="7"/><rect id="aqrect4191-2-3" width="2" height="2" x="7" y="7"/><rect id="aqrect4191-4-9" width="2" height="2" x="12" y="7"/></g></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-handle-column" xmlns="http://www.w3.org/2000/svg"><metadata id="anmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g id="ang1" transform="rotate(90,9.25,9.25)"><rect id="anrect4191-27" width="2" height="2" x="2" y="7"/><rect id="anrect4191-2-0" width="2" height="2" x="7" y="7"/><rect id="anrect4191-2-9-9" width="2" height="2" x="12" y="7"/><rect id="anrect4191-27-6" width="2" height="2" x="2" y="12"/><rect id="anrect4191-2-0-0" width="2" height="2" x="7" y="12"/><rect id="anrect4191-2-9-9-6" width="2" height="2" x="12" y="12"/></g></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-handle-field" xmlns="http://www.w3.org/2000/svg"><metadata id="aometadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g id="aog1" transform="translate(0,-2.5)"><rect id="aorect4191-2-0" width="2" height="2" x="7" y="-11.5" transform="rotate(90)"/><rect id="aorect4191-2-9-9" width="2" height="2" x="12" y="-11.5" transform="rotate(90)"/><rect id="aorect4191-2-0-0" width="2" height="2" x="7" y="-6.5" transform="rotate(90)"/><rect id="aorect4191-2-9-9-6" width="2" height="2" x="12" y="-6.5" transform="rotate(90)"/></g></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-handle-row" xmlns="http://www.w3.org/2000/svg"><metadata id="apmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g id="apg1" transform="translate(0,-2.5)"><rect id="aprect4191-27" width="2" height="2" x="2" y="7"/><rect id="aprect4191-2-0" width="2" height="2" x="7" y="7"/><rect id="aprect4191-2-9-9" width="2" height="2" x="12" y="7"/><rect id="aprect4191-27-6" width="2" height="2" x="2" y="12"/><rect id="aprect4191-2-0-0" width="2" height="2" x="7" y="12"/><rect id="aprect4191-2-9-9-6" width="2" height="2" x="12" y="12"/></g></symbol><symbol viewBox="0 0 448 512" id="f-i-hash" xmlns="http://www.w3.org/2000/svg"><g id="aricomoon-ignore"/><path fill="#000" d="M448 192v-64h-80.064l16-128h-64l-16 128h-127.968l16-128h-64l-16 128h-111.968v64h103.968l-15.968 128h-88v64h80l-16 128h64l16-128h127.968l-16 128h64.032l16-128h112v-64h-104l15.936-128h88.064zM279.968 320h-127.968l15.968-128h127.968l-15.968 128z"/></symbol><symbol viewBox="0 0 28 28" id="f-i-header" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M26.281 26q-0.688 0-2.070-0.055t-2.086-0.055q-0.688 0-2.063 0.055t-2.063 0.055q-0.375 0-0.578-0.32t-0.203-0.711q0-0.484 0.266-0.719t0.609-0.266 0.797-0.109 0.703-0.234q0.516-0.328 0.516-2.188l-0.016-6.109q0-0.328-0.016-0.484-0.203-0.063-0.781-0.063h-10.547q-0.594 0-0.797 0.063-0.016 0.156-0.016 0.484l-0.016 5.797q0 2.219 0.578 2.562 0.25 0.156 0.75 0.203t0.891 0.055 0.703 0.234 0.313 0.711q0 0.406-0.195 0.75t-0.57 0.344q-0.734 0-2.18-0.055t-2.164-0.055q-0.672 0-2 0.055t-1.984 0.055q-0.359 0-0.555-0.328t-0.195-0.703q0-0.469 0.242-0.703t0.562-0.273 0.742-0.117 0.656-0.234q0.516-0.359 0.516-2.234l-0.016-0.891v-12.703q0-0.047 0.008-0.406t0-0.57-0.023-0.602-0.055-0.656-0.102-0.57-0.172-0.492-0.25-0.281q-0.234-0.156-0.703-0.187t-0.828-0.031-0.641-0.219-0.281-0.703q0-0.406 0.187-0.75t0.562-0.344q0.719 0 2.164 0.055t2.164 0.055q0.656 0 1.977-0.055t1.977-0.055q0.391 0 0.586 0.344t0.195 0.75q0 0.469-0.266 0.68t-0.602 0.227-0.773 0.063-0.672 0.203q-0.547 0.328-0.547 2.5l0.016 5q0 0.328 0.016 0.5 0.203 0.047 0.609 0.047h10.922q0.391 0 0.594-0.047 0.016-0.172 0.016-0.5l0.016-5q0-2.172-0.547-2.5-0.281-0.172-0.914-0.195t-1.031-0.203-0.398-0.773q0-0.406 0.195-0.75t0.586-0.344q0.688 0 2.063 0.055t2.063 0.055q0.672 0 2.016-0.055t2.016-0.055q0.391 0 0.586 0.344t0.195 0.75q0 0.469-0.273 0.688t-0.625 0.227-0.805 0.047-0.688 0.195q-0.547 0.359-0.547 2.516l0.016 14.734q0 1.859 0.531 2.188 0.25 0.156 0.719 0.211t0.836 0.070 0.648 0.242 0.281 0.695q0 0.406-0.187 0.75t-0.562 0.344z"/></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-hidden" xmlns="http://www.w3.org/2000/svg"><metadata id="atmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><path id="atpath5816" d="M 1,5 2,5 2,4 1,4 Z"/><path id="atpath5814" d="M 3,5 4,5 4,4 3,4 Z"/><path id="atpath5812" d="M 5,5 6,5 6,4 5,4 Z"/><path id="atpath5810" d="M 7,5 8,5 8,4 7,4 Z"/><path id="atpath5808" d="M 9,5 10,5 10,4 9,4 Z"/><path id="atpath5806" d="m 11,5 1,0 0,-1 -1,0 z"/><path id="atpath5804" d="m 13,5 1,0 0,-1 -1,0 z"/><path id="atpath5800" d="M 0,6 1,6 1,5 0,5 Z"/><path id="atpath5798" d="m 15,6.9997352 1,0 0,-1 -1,0 z"/><path id="atpath5796" d="M 0,8 1,8 1,7 0,7 Z"/><path id="atpath5794" d="m 15,8.9997352 1,0 0,-1 -1,0 z"/><path id="atpath5792" d="m 0,10 1,0 0,-1.0000001 -1,0 z"/><path id="atpath5790" d="m 15,10.999735 1,0 0,-0.9999998 -1,0 z"/><path id="atpath5786" d="m 2,12 1,0 0,-1 -1,0 z"/><path id="atpath5784" d="m 4,12 1,0 0,-1 -1,0 z"/><path id="atpath5782" d="m 6,12 1,0 0,-1 -1,0 z"/><path id="atpath5780" d="m 8,12 1,0 0,-1 -1,0 z"/><path id="atpath5778" d="m 10,12 1,0 0,-1 -1,0 z"/><path id="atpath5776" d="m 12,12 1,0 0,-1 -1,0 z"/><path id="atrect5768" d="m 14,12 1,0 0,-1 -1,0 z"/><path d="m 15,5 1,0 0,-1 -1,0 z" id="atpath5827"/><path d="m 0,12 1,0 0,-1 -1,0 z" id="atpath5829"/></symbol><symbol viewBox="0 0 384 512" id="f-i-menu" xmlns="http://www.w3.org/2000/svg"><g id="auicomoon-ignore"/><path d="M0 96v64h384v-64h-384zM0 288h384v-64h-384v64zM0 416h384v-64h-384v64z"/></symbol><symbol viewBox="0 0 16 32" id="f-i-minus" xmlns="http://www.w3.org/2000/svg"><path d="M0 14v4h16v-4h-16z"/></symbol><symbol viewBox="0 0 512 512" id="f-i-move" xmlns="http://www.w3.org/2000/svg"><path d="M287.744 94.736v129.008h128v-64l96.256 96.256-96.256 96.24v-65.488h-128v129.008h64.496l-96.24 96.24-96.256-96.24h64v-129.008h-128v64.992l-95.744-95.744 95.744-95.744v63.488h128v-129.008h-62.496l94.752-94.736 94.752 94.736h-63.008z"/></symbol><symbol viewBox="0 0 512 512" id="f-i-move-vertical" xmlns="http://www.w3.org/2000/svg"><metadata id="awmetadata10"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="3440" inkscape:window-height="1416" id="awnamedview6" showgrid="false" inkscape:zoom="1.84375" inkscape:cx="421.4312" inkscape:cy="218.56484" inkscape:window-x="0" inkscape:window-y="24" inkscape:window-maximized="1" inkscape:current-layer="svg2" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"/><path d="m 287.744,94.736 0,321.024 64.496,0 L 256,512 l -96.256,-96.24 64,0 0,-321.024 -62.496,0 L 256,0 350.752,94.736 Z" id="awpath4" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" inkscape:connector-curvature="0" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccccccc"/></symbol><symbol viewBox="0 0 20 28" id="f-i-paragraph" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M19.969 2.953v1.141q0 0.453-0.289 0.953t-0.664 0.5q-0.781 0-0.844 0.016-0.406 0.094-0.5 0.484-0.047 0.172-0.047 1v18q0 0.391-0.281 0.672t-0.672 0.281h-1.687q-0.391 0-0.672-0.281t-0.281-0.672v-19.031h-2.234v19.031q0 0.391-0.273 0.672t-0.68 0.281h-1.687q-0.406 0-0.68-0.281t-0.273-0.672v-7.75q-2.297-0.187-3.828-0.922-1.969-0.906-3-2.797-1-1.828-1-4.047 0-2.594 1.375-4.469 1.375-1.844 3.266-2.484 1.734-0.578 6.516-0.578h7.484q0.391 0 0.672 0.281t0.281 0.672z"/></symbol><symbol id="f-i-phone-receiver" viewBox="0 0 578.106 578.106" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><g><g><path d="M577.83,456.128c1.225,9.385-1.635,17.545-8.568,24.48l-81.396,80.781 c-3.672,4.08-8.465,7.551-14.381,10.404c-5.916,2.857-11.729,4.693-17.439,5.508c-0.408,0-1.635,0.105-3.676,0.309 c-2.037,0.203-4.689,0.307-7.953,0.307c-7.754,0-20.301-1.326-37.641-3.979s-38.555-9.182-63.645-19.584 c-25.096-10.404-53.553-26.012-85.376-46.818c-31.823-20.805-65.688-49.367-101.592-85.68 c-28.56-28.152-52.224-55.08-70.992-80.783c-18.768-25.705-33.864-49.471-45.288-71.299 c-11.425-21.828-19.993-41.616-25.705-59.364S4.59,177.362,2.55,164.51s-2.856-22.95-2.448-30.294 c0.408-7.344,0.612-11.424,0.612-12.24c0.816-5.712,2.652-11.526,5.508-17.442s6.324-10.71,10.404-14.382L98.022,8.756 c5.712-5.712,12.24-8.568,19.584-8.568c5.304,0,9.996,1.53,14.076,4.59s7.548,6.834,10.404,11.322l65.484,124.236 c3.672,6.528,4.692,13.668,3.06,21.42c-1.632,7.752-5.1,14.28-10.404,19.584l-29.988,29.988c-0.816,0.816-1.53,2.142-2.142,3.978 s-0.918,3.366-0.918,4.59c1.632,8.568,5.304,18.36,11.016,29.376c4.896,9.792,12.444,21.726,22.644,35.802 s24.684,30.293,43.452,48.653c18.36,18.77,34.68,33.354,48.96,43.76c14.277,10.4,26.215,18.053,35.803,22.949 c9.588,4.896,16.932,7.854,22.031,8.871l7.648,1.531c0.816,0,2.145-0.307,3.979-0.918c1.836-0.613,3.162-1.326,3.979-2.143 l34.883-35.496c7.348-6.527,15.912-9.791,25.705-9.791c6.938,0,12.443,1.223,16.523,3.672h0.611l118.115,69.768 C571.098,441.238,576.197,447.968,577.83,456.128z"/></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></symbol><symbol id="f-i-radio-group" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M0,1h16V0H0V1z M0,3h16V2H0V3z M5,6h10V5H5V6z M15,9H5v1h10V9z M15,14v-1H5v1H15z M1.5,7C0.7,7,0,6.3,0,5.5S0.7,4,1.5,4 S3,4.7,3,5.5S2.3,7,1.5,7z M1.5,5C1.2,5,1,5.2,1,5.5S1.2,6,1.5,6S2,5.8,2,5.5S1.8,5,1.5,5z M1.5,11.1C0.7,11.1,0,10.4,0,9.6 s0.7-1.5,1.5-1.5S3,8.7,3,9.6S2.3,11.1,1.5,11.1z M1.5,9.1C1.2,9.1,1,9.3,1,9.6s0.2,0.5,0.5,0.5S2,9.8,2,9.6S1.8,9.1,1.5,9.1z M1.5,15C0.7,15,0,14.3,0,13.5S0.7,12,1.5,12S3,12.7,3,13.5S2.3,15,1.5,15z M1.5,13C1.2,13,1,13.2,1,13.5S1.2,14,1.5,14 S2,13.8,2,13.5S1.8,13,1.5,13z"/></symbol><symbol viewBox="0 0 512 512" id="f-i-remove" xmlns="http://www.w3.org/2000/svg"><metadata id="bbmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g id="bblayer1"><g transform="translate(170.37199,5.9577983)" id="bbg4172"><path id="bbrect4155" d="m -159.9194,-18.102955 87.322034,0 0,510.915285 -87.322034,0 z" transform="matrix(0.70710678,-0.70710678,0.70710678,0.70710678,0,0)"/><path id="bbrect4155-5" d="m 193.69366,-139.19925 87.32204,0 0,510.91528 -87.32204,0 z" transform="matrix(0.70710678,0.70710678,-0.70710678,0.70710678,0,0)"/></g></g></symbol><symbol id="f-i-rich-text" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M15,1H1C0.4,1,0,1.4,0,2v12c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1V2C16,1.4,15.6,1,15,1z M1,3.1h0.8v0.3H1V3.1z M1,3.6h0.8 v0.3H1V3.6z M15,14H1V5.1h14V14z M15,4.9H1V4.6h14V4.9z M15,4.4H1V4.1h0.8v0.2h1.5V4.1h1.3v0.2H6V4.1h1.3v0.2h1.5V4.1H10v0.2h1.5 V4.1h1.3v0.2h1.5V4.1H15V4.4z M4.5,3.6v0.3H3.3V3.6H4.5z M3.3,3.4V3.1h1.3v0.3H3.3z M7.3,3.6v0.3H6V3.6H7.3z M6,3.4V3.1h1.3v0.3H6z M10,3.6v0.3H8.8V3.6H10z M8.8,3.4V3.1H10v0.3H8.8z M12.8,3.6v0.3h-1.3V3.6H12.8z M11.5,3.4V3.1h1.3v0.3H11.5z M15,3.9h-0.8V3.6H15 V3.9z M15,3.4h-0.8V3.1H15V3.4z M15,2.9h-0.8V2.8h-1.5v0.2h-1.3V2.8H10v0.2H8.8V2.8H7.3v0.2H6V2.8H4.5v0.2H3.3V2.8H1.8v0.2H1V2.6h14 V2.9z M15,2.4H1V2.1h14V2.4z M3,12v-1h10v1H3z M13,10H3V9h10V10z M11,8H3V7h8V8z"/></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-rows" xmlns="http://www.w3.org/2000/svg"><metadata id="bdmetadata4318"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g transform="matrix(0,1,-1,0,3.0984025,11.835155)" id="bdg7209"><path id="bdrect4860-3-5" d="m 4.1640625,-12.402344 a 0.50004997,0.50004997 0 0 0 -0.5,-0.5 l -5,0 -5,0 -5.0000005,0 a 0.50004997,0.50004997 0 0 0 -0.5,0.5 l 0,15.0000002 a 0.50004997,0.50004997 0 0 0 0.5,0.5 l 4.9648442,0 a 0.50004997,0.50004997 0 0 0 0.035156,0 l 4.9648437,0 a 0.50004997,0.50004997 0 0 0 0.035156,0 l 5,0 a 0.50004997,0.50004997 0 0 0 0.5,-0.5 l 0,-15.0000002 z m -1,0.5 0,14.0000002 -4,0 0,-14.0000002 4,0 z m -5,0 0,14.0000002 -4,0 0,-14.0000002 4,0 z m -5,0 0,14.0000002 -4.0000005,0 0,-14.0000002 4.0000005,0 z"/></g></symbol><symbol id="f-i-select" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path id="beXMLID_1_" d="M0,0v14h0c0,0.6,0.4,1,1,1h10c0.6,0,1-0.4,1-1h0V5h4V0H0z M1,1h10v3H1V1z M1,7h10v3H1V7z M1,14v-3h10v3H1z M15,4h-3V1h3V4z M2,2h1v1H2V2z M2,12h1v1H2V12z M4,12h1v1H4V12z M6,12h1v1H6V12z M9,12v1H8v-1H9z M2,8h1v1H2V8z M4,8h1v1H4V8z M6,8 h1v1H6V8z M13.5,3.1l-1-1.1h1.9L13.5,3.1z M2,6V5h1v1H2L2,6z M4,6V5h1v1H4L4,6z"/></symbol><symbol viewBox="0 0 448 512" id="f-i-settings" xmlns="http://www.w3.org/2000/svg"><g id="bficomoon-ignore"/><path d="M223.969 175c-44.703 0-80.969 36.266-80.969 81 0 44.688 36.266 81.031 80.969 81.031 44.719 0 80.719-36.344 80.719-81.031-0-44.734-36-81-80.719-81zM386.313 302.531l-14.594 35.156 29.469 57.875-36.094 36.094-59.218-27.969-35.156 14.438-17.844 54.625-2.281 7.25h-51.016l-22.078-61.656-35.156-14.5-57.952 29.344-36.078-36.063 27.938-59.25-14.484-35.125-61.767-20.156v-50.984l61.703-22.109 14.485-35.094-25.953-51.234-3.422-6.719 36.031-36.031 59.297 27.922 35.109-14.516 17.828-54.594 2.297-7.234h51l22.094 61.734 35.063 14.516 58.031-29.406 36.063 36.031-27.938 59.203 14.438 35.172 61.875 20.125v50.969l-61.688 22.187z"/></symbol><symbol id="f-i-text-input" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path id="bgXMLID_10_" d="M15,4H4.5V3H6V2H4.5h-1H2v1h1.5v1H1C0.4,4,0,4.5,0,5v6c0,0.6,0.4,1,1,1h2.5v1H2v1h4v-1H4.5v-1H15 c0.6,0,1-0.4,1-1V5C16,4.5,15.6,4,15,4z M1,11V5h2.5v6H1z M15,11H4.5V5H15V11z"/></symbol><symbol id="f-i-textarea" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path id="bhXMLID_1_" d="M3,11v-1h8v1H3L3,11z M3,7h10V6H3V7L3,7z M3,8v1h10V8H3L3,8z M13,4H3v1h10V4L13,4z M16,14V2c0-0.6-0.4-1-1-1 H1C0.4,1,0,1.4,0,2v12c0,0.6,0.4,1,1,1h14C15.6,15,16,14.6,16,14z M15,2v12H1V2H15z"/></symbol><symbol viewBox="0 0 24 32" id="f-i-triangle-down" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M0 12l11.992 11.992 11.992-11.992h-23.984z"/></symbol><symbol viewBox="0 0 12 32" id="f-i-triangle-left" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M0 15.996l11.992 11.992v-23.984l-11.992 11.992z"/></symbol><symbol viewBox="0 0 12 32" id="f-i-triangle-right" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M0.002 4.008l11.992 11.992-11.992 11.992v-23.984z"/></symbol><symbol viewBox="0 0 24 32" id="f-i-triangle-up" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M11.992 8l-11.992 11.992h23.984l-11.992-11.992z"/></symbol><symbol viewBox="0 0 512 512" id="f-i-upload" xmlns="http://www.w3.org/2000/svg"><g id="bmicomoon-ignore"/><path d="M240 352h-240v128h480v-128h-240zM448 416h-64v-32h64v32zM112 160l128-128 128 128h-80v160h-96v-160z"/></symbol></svg>')),e.push(oe.init({...this.opts.i18n,locale:null==(t=window.sessionStorage)?void 0:t.getItem(_e)})),Promise.all(e)}init(){Nh.init(this.opts.controls,this.opts.stickyControls).then((t=>{this.controls=t,this.load(this.userFormData,this.opts),this.formId=Yh.get("id"),this.i18n={setLang:t=>{var e;null==(e=window.sessionStorage)||e.setItem(_e,t);oe.setCurrent(t).then((()=>{this.init()}),console.error)}},this.render()}))}load(t=this.userFormData,e=this.opts){return this.Components.load(t,e)}render(){if(!this.controls)return window.requestAnimationFrame((()=>this.render()));if(this.stages=Object.values(Yh.get("stages")),this.opts.controlOnLeft)for(const e of this.stages)e.dom.style.order=1;const t={attrs:{className:"formeo formeo-editor",id:this.formId},content:[this.stages.map((({dom:t})=>t))]};oe.current.dir&&(t.attrs.dir=oe.current.dir,Jh.dir=oe.current.dir),this.editor=Jh.create(t);(this.controls.container||this.editor).appendChild(this.controls.dom),this.editorContainer&&(Jh.empty(this.editorContainer),this.editorContainer.appendChild(this.editor)),fa.formeoLoaded=new window.CustomEvent("formeoLoaded",{detail:{formeo:this}}),document.dispatchEvent(fa.formeoLoaded)}};const eu=t=>{const e=t.match(He);return(null==e?void 0:e[0])||t},nu=t=>t.replace(He,cs());let ou=class{constructor(t,n={}){e(this,"render",((t=this.form)=>{this.form=t;const e=document.getElementsByClassName("formeo-render").length,n={id:this.form.id,className:`formeo-render formeo formeo-rendered-${e}`,children:this.processedData};this.renderedForm=Jh.render(n),this.applyConditions();const o=this.container.querySelector(".formeo-render");o?o.replaceWith(this.renderedForm):this.container.appendChild(this.renderedForm)})),e(this,"orderChildren",((t,e)=>e.reduce(((e,n)=>(e.push(this.form[t][n]),e)),[]))),e(this,"prefixId",(t=>"f-"+t)),e(this,"processColumn",(({id:t,...e})=>({...e,id:this.prefixId(t),children:this.processFields(e.children),style:`width: ${e.config.width||"100%"}`}))),e(this,"processRows",(t=>this.orderChildren("rows",this.form.stages[t].children).reduce(((t,e)=>(e&&t.push(this.processRow(e)),t)),[]))),e(this,"cacheComponent",(t=>(this.components[eu(t.id)]=t,t))),e(this,"processRow",((t,e="row")=>{const{config:n,id:o}=t,i=[`formeo-${e}-wrap`],r={...t,children:this.processColumns(t.id),id:this.prefixId(o)};this.cacheComponent(r);const s=[{condition:n.legend,result:()=>({tag:n.fieldset?"legend":"h3",children:n.legend})},{condition:!0,result:()=>r},{condition:n.inputGroup,result:()=>this.addButton(o)}].reduce(((t,{condition:e,result:n})=>(e&&t.push(n()),t)),[]);return n.inputGroup&&i.push("f-input-group-wrap"),{tag:n.fieldset?"fieldset":"div",id:cs(),className:i,children:s}})),e(this,"cloneComponentData",(t=>{const{children:e=[],id:n,...o}=this.components[t];return Object.assign({},o,{id:nu(n),children:e.length&&e.map((({id:t})=>this.cloneComponentData(eu(t))))})})),e(this,"addButton",(t=>Jh.render({tag:"button",attrs:{className:"add-input-group btn pull-right",type:"button"},children:"Add +",action:{click:e=>{const n=e.target.parentElement,o=Jh.render(this.cloneComponentData(t));n.insertBefore(o,n.lastChild),o.appendChild(Jh.render(Jh.btnTemplate({className:"remove-input-group",children:Jh.icon("remove"),action:{mouseover:({target:t})=>t.parentElement.classList.add("will-remove"),mouseleave:({target:t})=>t.parentElement.classList.remove("will-remove"),click:({target:t})=>t.parentElement.remove()}})))}}}))),e(this,"processColumns",(t=>this.orderChildren("columns",this.form.rows[t].children).map((t=>this.cacheComponent(this.processColumn(t)))))),e(this,"processFieldsOrig",(t=>this.orderChildren("fields",t).map((({id:t,...e})=>this.cacheComponent(Object.assign({},e,{id:this.prefixId(t)})))))),e(this,"processFields",(t=>this.orderChildren("fields",t).map((({id:t,...e})=>{const{action:n={},dependencies:o={}}=this.elements[e.meta.id]||{};o&&gh(o);const i=ds({action:n},e);return this.cacheComponent({...i,id:this.prefixId(t)})})))),e(this,"applyConditions",(()=>{Object.values(this.components).forEach((({conditions:t})=>{t&&t.forEach(((t,e)=>{const{if:n,then:o}=t;n.forEach((t=>{const{source:e,...n}=t;if(fs(e)){this.getComponents(e).forEach((t=>{const e=iu(t);e&&t.addEventListener(e,(t=>this.evaluateCondition(n,t)&&o.forEach((e=>this.execResult(e,t)))),!1);const i={target:t};this.evaluateCondition(n,i)&&o.forEach((t=>this.execResult(t,i)))}))}}))}))}))})),e(this,"evaluateCondition",(({sourceProperty:t,targetProperty:e,comparison:n,target:o},i)=>{var r;const s={equals:Pl,notEquals:(t,e)=>!Pl(t,e),contains:(t,e)=>t.includes(e),notContains:(t,e)=>!t.includes(e)},a=String(i.target[t]),l=String(fs(o)?this.getComponent(o)[e]:o);return null==(r=s[n])?void 0:r.call(s,a,l)})),e(this,"execResult",(({assignment:t,target:e,targetProperty:n,value:o})=>{var i;const r={equals:t=>{var e;const i={value:()=>{t[n]=o},isNotVisible:()=>{t.parentElement.setAttribute("hidden",!0),t.required=!1},isVisible:()=>{t.parentElement.removeAttribute("hidden"),t.required=t._required}};null==(e=i[n])||e.call(i)}};if(fs(e)){const n=this.getComponent(e);n&&void 0===n._required&&(n._required=n.required),null==(i=r[t])||i.call(r,n)}})),e(this,"getComponent",(t=>{const e=t.slice(t.indexOf(".")+1);return gs(t)?this.external[e]:this.renderedForm.querySelector(`#f-${e}`)})),e(this,"getComponents",(t=>{const e=[],n=t.slice(t.indexOf(".")+1);return gs(t)?e.push(this.external[n]):e.push(...this.renderedForm.querySelectorAll(`[name=f-${n}]`)),e}));const{renderContainer:o,external:i,elements:r}=(({editorContainer:t,renderContainer:e,...n})=>{const o=t=>"string"==typeof t?document.querySelector(t):t;return{...n,renderContainer:o(e),editorContainer:o(t)}})(t);this.container=o,this.form=n,this.external=i,this.dom=Jh,this.components=Object.create(null),this.elements=r}get processedData(){return Object.values(this.form.stages).map((t=>(t.children=this.processRows(t.id),t.className=ae,Jh.render(t))))}};const iu=t=>{const[e]=[["input",t=>["textarea","text"].includes(t.type)],["change",t=>["select"].includes(t.tagName.toLowerCase())||["checkbox","radio"].includes(t.type)]].find((e=>e[1](t)))||[!1];return e};void 0!==window&&(window.FormeoEditor=tu,window.FormeoRenderer=ou);const ru=ou,su=new tu(r);((t,e)=>{const n=((t,e)=>({renderForm:()=>{te.style.display="block",e.render(t.formData)},logJSON:()=>{},viewData:()=>{Object.entries(t.formData).forEach((([t,e])=>{}))},resetEditor:()=>{window.sessionStorage.removeItem("formeo-formData"),window.location.reload()}}))(t,e);Object.entries(n).map((([t,e])=>{const n={id:t,type:"button"},o=Object.assign(document.createElement("button"),n),i=document.createTextNode(Kt(t));return o.appendChild(i),o.addEventListener("click",e,!1),Qt.appendChild(o),o}))})(su,new ru(s)),(t=>{const e=document.getElementById("control-filter"),n=document.getElementById("locale"),o=window.sessionStorage.getItem("formeo-locale");e.addEventListener("input",(({target:{value:e}})=>t.controls.actions.filter(e))),n.value=o||"en-US",n.addEventListener("change",(({target:{value:e}})=>{window.sessionStorage.setItem("formeo-locale",e),t.i18n.setLang(e)}),!1)})(su);
