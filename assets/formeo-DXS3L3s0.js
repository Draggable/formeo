var Vi=Object.defineProperty;var qi=(n,t,e)=>t in n?Vi(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var g=(n,t,e)=>qi(n,typeof t!="symbol"?t+"":t,e);var xe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tn(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gi=typeof xe=="object"&&xe&&xe.Object===Object&&xe,Pr=Gi,Ui=Pr,Ki=typeof self=="object"&&self&&self.Object===Object&&self,Yi=Ui||Ki||Function("return this")(),at=Yi,Xi=at,Zi=Xi.Symbol,en=Zi;function Ji(n,t){for(var e=-1,o=n==null?0:n.length,r=Array(o);++e<o;)r[e]=t(n[e],e,n);return r}var Qi=Ji,ts=Array.isArray,Nt=ts,go=en,Nr=Object.prototype,es=Nr.hasOwnProperty,ns=Nr.toString,ee=go?go.toStringTag:void 0;function os(n){var t=es.call(n,ee),e=n[ee];try{n[ee]=void 0;var o=!0}catch{}var r=ns.call(n);return o&&(t?n[ee]=e:delete n[ee]),r}var rs=os,is=Object.prototype,ss=is.toString;function as(n){return ss.call(n)}var ls=as,vo=en,cs=rs,ds=ls,us="[object Null]",hs="[object Undefined]",bo=vo?vo.toStringTag:void 0;function ps(n){return n==null?n===void 0?hs:us:bo&&bo in Object(n)?cs(n):ds(n)}var kt=ps;function fs(n){return n!=null&&typeof n=="object"}var Mt=fs,ms=kt,gs=Mt,vs="[object Symbol]";function bs(n){return typeof n=="symbol"||gs(n)&&ms(n)==vs}var Yn=bs,yo=en,ys=Qi,ws=Nt,Cs=Yn,Es=1/0,wo=yo?yo.prototype:void 0,Co=wo?wo.toString:void 0;function Mr(n){if(typeof n=="string")return n;if(ws(n))return ys(n,Mr)+"";if(Cs(n))return Co?Co.call(n):"";var t=n+"";return t=="0"&&1/n==-Es?"-0":t}var _s=Mr,xs=_s;function Ss(n){return n==null?"":xs(n)}var Os=Ss;const Eo={},Ts=Object.freeze({method:"GET",body:""});function $s(n,t={}){const e={...Ts,...t},o=(n.startsWith("https"),Eo);return new Promise((r,i)=>{const s=o.request(n,e,a=>{As(a,r)});s.on("error",a=>i(new Error(a.message))),e!=null&&e.body&&s.write(e.body),s.end()})}const As=(n,t)=>{const e=[];n.on("data",o=>e.push(o)),n.on("end",()=>{const o=Buffer.concat(e),r={ok:n.statusCode>=200&&n.statusCode<300,status:n.statusCode,statusText:n.statusMessage,headers:new Map(Object.entries(n.headers)),body:o,arrayBuffer:()=>Promise.resolve(o),json:()=>Promise.resolve(JSON.parse(o.toString()))};t(r)})},_o={extension:".lang",location:"assets/lang/",langs:["en-US"],locale:"en-US",override:{}};class Be{constructor(t=_o){this.langs=Object.create(null),this.loaded=[],this.processConfig(t)}processConfig(t){const{location:e,...o}={..._o,...t},r=e.replace(/\/?$/,"/");this.config={location:r,...o};const{override:i,preloaded:s={}}=this.config,a=Object.entries(this.langs).concat(Object.entries(i||s));this.langs=a.reduce((l,[c,d])=>(l[c]=this.applyLanguage(c,d),l),{}),this.locale=this.config.locale||this.config.langs[0]}init(t){return this.processConfig({...this.config,...t}),this.setCurrent(this.locale)}addLanguage(t,e={}){e=typeof e=="string"?Be.processFile(e):e,this.applyLanguage(t,e),this.config.langs.push("locale")}getValue(t,e=this.locale){var o;return((o=this.langs[e])==null?void 0:o[t])||this.getFallbackValue(t)}getFallbackValue(t){const e=Object.values(this.langs).find(o=>o[t]);return e==null?void 0:e[t]}makeSafe(t){const e={"{":"\\{","}":"\\}","|":"\\|"};return t=t.replace(/[{}|]/g,o=>e[o]),new RegExp(t,"g")}put(t,e){return this.current[t]=e,e}get(t,e){const o=this;let r=this.getValue(t);if(!r)return;const i=r.match(/\{[^}]+?\}/g);if(e&&i)if(typeof e=="object")for(const s of i){const a=s.substring(1,s.length-1);r=r.replace(o.makeSafe(s),e[a]||"")}else r=r.replace(/\{[^}]+?\}/g,e);return r}static processFile(t){return Be.fromFile(t.replace(/\n\n/g,`
`))}static fromFile(t){const e=t.split(`
`),o={};for(let r,i=0;i<e.length;i++)r=/^(.+?) *?= *?([^\n]+)/.exec(e[i]),r&&(o[r[1]]=r[2].replace(/(^\s+|\s+$)/g,""));return o}loadLang(t,e=!0){const o=this;return new Promise(function(r,i){if(o.loaded.indexOf(t)!==-1&&e)return o.applyLanguage(o.langs[t]),r(o.langs[t]);{const s=[o.config.location,t,o.config.extension].join("");return $s(s).then(({data:a})=>{const l=o.processFile(a);return o.applyLanguage(t,l),o.loaded.push(t),r(o.langs[t])}).catch(()=>{const a=o.applyLanguage(t);r(a)})}})}applyLanguage(t,e={}){const o=this.config.override[t]||{},r=this.langs[t]||{};return this.langs[t]={...r,...e,...o},this.langs[t]}get getLangs(){return this.config.langs}async setCurrent(t="en-US"){return await this.loadLang(t),this.locale=t,this.current=this.langs[t],this.current}}const y=new Be,Ps="formeo",Ns="2.1.1",Ms="module",Ds="dist/formeo.min.js",Ls=["dist/*","demo/**/*"],Is="https://formeo.io",Fs={url:"https://github.com/Draggable/formeo",type:"git"},Rs="Draggable https://draggable.io",zs=[{name:"Kevin Chappell",email:"kevin.b.chappell@gmail.com",url:"https://kevin-chappell.com"}],js={url:"https://github.com/draggable/formeo/issues"},Hs="A zero dependency JavaScript module for drag and drop form creation.",Bs=["drag and drop","form builder","form maker","forms"],ks="MIT",Ws=["**/*","node_modules","test"],Vs={files:{test:["test/**/*.spec.js"],"formeo-editor":{js:"src/js/editor.js"},"formeo-renderer":{js:"src/js/renderer.js"},site:["demo/assets/sass/site.scss"]}},qs={dev:"vite",preview:"vite preview",analyze:"webpack --mode production -p --progress --config tools/webpack.config --analyze",build:"npm-run-all -p build:icons build:formeo build:demo","build:formeo":"vite build --mode lib","build:formeo:watch":"npm run build:formeo -- --watch","build:demo":"vite build --mode demo","build:demo:watch":"vite build --mode demo --watch","build:icons":"node ./tools/generate-sprite",lint:"eslint ./src --ext .js || true",test:"node --experimental-test-snapshots --require ./tools/test-setup.cjs --test --no-warnings src/**/*.test.js","test:updateSnapshots":"node --experimental-test-snapshots --test-update-snapshots --require ./tools/test-setup.cjs --test --no-warnings src/**/*.test.js","test:ci":"yarn test --coverage",start:"npm-run-all build:icons dev","semantic-release":"semantic-release --ci --debug","travis-deploy-once":"travis-deploy-once --pro",prepush:"yarn test",defaults:"webpack-defaults"},Gs={"@biomejs/biome":"^1.9.3","@commitlint/cli":"^19.5.0","@commitlint/config-conventional":"^19.5.0","@semantic-release/changelog":"^6.0.3","@semantic-release/git":"^10.0.1","@semantic-release/npm":"^12.0.1",jsdom:"^25.0.1",lefthook:"^1.7.18","npm-run-all":"^4.1.5","sass-embedded":"^1.80.1","semantic-release":"^24.1.2","svg-sprite":"^2.0.4",vite:"^5.4.8","vite-plugin-banner":"^0.8.0","vite-plugin-compression":"^0.5.1","vite-plugin-html":"^3.2.2"},Us={"formeo-i18n":"^2.1.3",lodash:"^4.17.21",mi18n:"^1.0.2",sortablejs:"^1.15.3"},Ks={branch:"master",verifyConditions:["@semantic-release/changelog","@semantic-release/npm","@semantic-release/git"],prepare:["@semantic-release/changelog","@semantic-release/npm","@semantic-release/git"]},Ys={extends:["@commitlint/config-conventional"],rules:{"type-enum":[2,"always",["build","chore","ci","docs","feat","fix","perf","refactor","revert","style","test"]]}},Xs={name:Ps,version:Ns,type:Ms,main:Ds,files:Ls,homepage:Is,repository:Fs,author:Rs,contributors:zs,bugs:js,description:Hs,keywords:Bs,license:ks,ignore:Ws,config:Vs,scripts:qs,devDependencies:Gs,dependencies:Us,release:Ks,commitlint:Ys},Xn=Xs.name,nn=Xn,xo=[{name:"cssPreload",src:"//cdnjs.cloudflare.com/ajax/libs/loadCSS/2.0.1/cssrelpreload.min.js"},{name:"mutationObserver",src:"//cdn.jsdelivr.net/npm/mutationobserver-shim/dist/mutationobserver.min.js"},{name:"fetch",src:"https://unpkg.com/unfetch/polyfill"}],Zs="https://draggable.github.io/formeo/assets/img/formeo-sprite.svg",$t="control-group",Wt=`${nn}-stage`,dt=`${nn}-row`,ut=`${nn}-column`,Vt=`${nn}-field`,In="custom-column-widths",Dr="column-preset",hn="resizing-columns",Js=new Map([[Wt,dt],[dt,ut],[ut,Vt]]),Qs=["external","stages","rows","columns","fields"],pn=["stage","row","column","field"].reduce((n,t)=>({...n,[t]:t}),{}),ta=[{name:"controls",className:$t},{name:"stage",className:Wt},{name:"row",className:dt},{name:"column",className:ut},{name:"field",className:Vt}],Zn={controls:$t,stage:Wt,row:dt,column:ut,field:Vt},ea=Object.entries(Zn).reduce((n,[t,e])=>({...n,[e]:t}),{}),na=Object.values(Zn),oa=new RegExp(`${na.join("|")}`,"g"),Lr=ta.map(({name:n},t,e)=>{const{name:o}=e[t+1]||{};return o&&[n,o]}).filter(Boolean),ra=Lr.slice().map(n=>n.slice().reverse()).reverse(),So=new Map(Lr),ia=new Map(ra.slice()),sa=[[{value:"100.0",label:"100%"}],[{value:"50.0,50.0",label:"50 | 50"},{value:"33.3,66.6",label:"33 | 66"},{value:"66.6,33.3",label:"66 | 33"}],[{value:"33.3,33.3,33.3",label:"33 | 33 | 33"},{value:"25.0,25.0,50.0",label:"25 | 25 | 50"},{value:"50.0,25.0,25.0",label:"50 | 25 | 25"},{value:"25.0,50.0,25.0",label:"25 | 50 | 25"}],[{value:"25.0,25.0,25.0,25.0",label:"25 | 25 | 25 | 25"}],[{value:"20.0,20.0,20.0,20.0,20.0",label:"20 | 20 | 20 | 20 | 20"}],[{value:"16.66,16.66,16.66,16.66,16.66,16.66",label:"16.66 | 16.66 | 16.66 | 16.66 | 16.66 | 16.66"}]],aa=new Map(sa.reduce((n,t,e)=>(n.push([e,t]),n))),la=[{type:"added",condition:(n,t)=>!!(n===void 0&&t)}],Ir=`${Xn}-formData`,Oo=`${Xn}-locale`,ot=333,fe=Math.round(ot/2),Fr=Math.round(ot*2),Rr="formeoSaved",on="formeoUpdated",ca="formeoUpdatedStage",da="formeoUpdatedRow",ua="formeoUpdatedColumn",ha="formeoUpdatedField",pa="formeoCleared",zr="formeoOnRender",fa="formeoConditionUpdated",ma={equals:"==",notEquals:"!=",contains:"⊃",notContains:"!⊃"},ga={and:"&&",or:"||"},va={isVisible:"config.isVisible",isNotVisible:"config.isNotVisible"},ba={equals:"="},ya=["label","logical","source","thenTarget","sourceProperty","comparison","target","targetProperty","assignment","value"],ae={value:"attrs.value",checked:"attrs.checked",...va},wa={comparison:ma,assignment:ba,logical:ga,property:ae},jr=()=>({if:[{source:"",sourceProperty:"",comparison:"",target:"",targetProperty:""}],then:[{target:"",targetProperty:"",assignment:"",value:""}]}),Hr=/(\b[0-9a-f]{8}\b-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-\b[0-9a-f]{12}\b)/gi,Fn=/\bcol-\w+-\d+/g,Br="f-i-";function Ca(){this.__data__=[],this.size=0}var Ea=Ca;function _a(n,t){return n===t||n!==n&&t!==t}var be=_a,xa=be;function Sa(n,t){for(var e=n.length;e--;)if(xa(n[e][0],t))return e;return-1}var rn=Sa,Oa=rn,Ta=Array.prototype,$a=Ta.splice;function Aa(n){var t=this.__data__,e=Oa(t,n);if(e<0)return!1;var o=t.length-1;return e==o?t.pop():$a.call(t,e,1),--this.size,!0}var Pa=Aa,Na=rn;function Ma(n){var t=this.__data__,e=Na(t,n);return e<0?void 0:t[e][1]}var Da=Ma,La=rn;function Ia(n){return La(this.__data__,n)>-1}var Fa=Ia,Ra=rn;function za(n,t){var e=this.__data__,o=Ra(e,n);return o<0?(++this.size,e.push([n,t])):e[o][1]=t,this}var ja=za,Ha=Ea,Ba=Pa,ka=Da,Wa=Fa,Va=ja;function qt(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var o=n[t];this.set(o[0],o[1])}}qt.prototype.clear=Ha;qt.prototype.delete=Ba;qt.prototype.get=ka;qt.prototype.has=Wa;qt.prototype.set=Va;var sn=qt,qa=sn;function Ga(){this.__data__=new qa,this.size=0}var Ua=Ga;function Ka(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}var Ya=Ka;function Xa(n){return this.__data__.get(n)}var Za=Xa;function Ja(n){return this.__data__.has(n)}var Qa=Ja;function tl(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var Ct=tl,el=kt,nl=Ct,ol="[object AsyncFunction]",rl="[object Function]",il="[object GeneratorFunction]",sl="[object Proxy]";function al(n){if(!nl(n))return!1;var t=el(n);return t==rl||t==il||t==ol||t==sl}var Jn=al,ll=at,cl=ll["__core-js_shared__"],dl=cl,fn=dl,To=function(){var n=/[^.]+$/.exec(fn&&fn.keys&&fn.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function ul(n){return!!To&&To in n}var hl=ul,pl=Function.prototype,fl=pl.toString;function ml(n){if(n!=null){try{return fl.call(n)}catch{}try{return n+""}catch{}}return""}var kr=ml,gl=Jn,vl=hl,bl=Ct,yl=kr,wl=/[\\^$.*+?()[\]{}|]/g,Cl=/^\[object .+?Constructor\]$/,El=Function.prototype,_l=Object.prototype,xl=El.toString,Sl=_l.hasOwnProperty,Ol=RegExp("^"+xl.call(Sl).replace(wl,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Tl(n){if(!bl(n)||vl(n))return!1;var t=gl(n)?Ol:Cl;return t.test(yl(n))}var $l=Tl;function Al(n,t){return n==null?void 0:n[t]}var Pl=Al,Nl=$l,Ml=Pl;function Dl(n,t){var e=Ml(n,t);return Nl(e)?e:void 0}var Dt=Dl,Ll=Dt,Il=at,Fl=Ll(Il,"Map"),Qn=Fl,Rl=Dt,zl=Rl(Object,"create"),an=zl,$o=an;function jl(){this.__data__=$o?$o(null):{},this.size=0}var Hl=jl;function Bl(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var kl=Bl,Wl=an,Vl="__lodash_hash_undefined__",ql=Object.prototype,Gl=ql.hasOwnProperty;function Ul(n){var t=this.__data__;if(Wl){var e=t[n];return e===Vl?void 0:e}return Gl.call(t,n)?t[n]:void 0}var Kl=Ul,Yl=an,Xl=Object.prototype,Zl=Xl.hasOwnProperty;function Jl(n){var t=this.__data__;return Yl?t[n]!==void 0:Zl.call(t,n)}var Ql=Jl,tc=an,ec="__lodash_hash_undefined__";function nc(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=tc&&t===void 0?ec:t,this}var oc=nc,rc=Hl,ic=kl,sc=Kl,ac=Ql,lc=oc;function Gt(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var o=n[t];this.set(o[0],o[1])}}Gt.prototype.clear=rc;Gt.prototype.delete=ic;Gt.prototype.get=sc;Gt.prototype.has=ac;Gt.prototype.set=lc;var cc=Gt,Ao=cc,dc=sn,uc=Qn;function hc(){this.size=0,this.__data__={hash:new Ao,map:new(uc||dc),string:new Ao}}var pc=hc;function fc(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}var mc=fc,gc=mc;function vc(n,t){var e=n.__data__;return gc(t)?e[typeof t=="string"?"string":"hash"]:e.map}var ln=vc,bc=ln;function yc(n){var t=bc(this,n).delete(n);return this.size-=t?1:0,t}var wc=yc,Cc=ln;function Ec(n){return Cc(this,n).get(n)}var _c=Ec,xc=ln;function Sc(n){return xc(this,n).has(n)}var Oc=Sc,Tc=ln;function $c(n,t){var e=Tc(this,n),o=e.size;return e.set(n,t),this.size+=e.size==o?0:1,this}var Ac=$c,Pc=pc,Nc=wc,Mc=_c,Dc=Oc,Lc=Ac;function Ut(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var o=n[t];this.set(o[0],o[1])}}Ut.prototype.clear=Pc;Ut.prototype.delete=Nc;Ut.prototype.get=Mc;Ut.prototype.has=Dc;Ut.prototype.set=Lc;var to=Ut,Ic=sn,Fc=Qn,Rc=to,zc=200;function jc(n,t){var e=this.__data__;if(e instanceof Ic){var o=e.__data__;if(!Fc||o.length<zc-1)return o.push([n,t]),this.size=++e.size,this;e=this.__data__=new Rc(o)}return e.set(n,t),this.size=e.size,this}var Hc=jc,Bc=sn,kc=Ua,Wc=Ya,Vc=Za,qc=Qa,Gc=Hc;function Kt(n){var t=this.__data__=new Bc(n);this.size=t.size}Kt.prototype.clear=kc;Kt.prototype.delete=Wc;Kt.prototype.get=Vc;Kt.prototype.has=qc;Kt.prototype.set=Gc;var Wr=Kt,Uc=Dt,Kc=function(){try{var n=Uc(Object,"defineProperty");return n({},"",{}),n}catch{}}(),Vr=Kc,Po=Vr;function Yc(n,t,e){t=="__proto__"&&Po?Po(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}var eo=Yc,Xc=eo,Zc=be;function Jc(n,t,e){(e!==void 0&&!Zc(n[t],e)||e===void 0&&!(t in n))&&Xc(n,t,e)}var qr=Jc;function Qc(n){return function(t,e,o){for(var r=-1,i=Object(t),s=o(t),a=s.length;a--;){var l=s[n?a:++r];if(e(i[l],l,i)===!1)break}return t}}var td=Qc,ed=td,nd=ed(),od=nd,ke={exports:{}};ke.exports;(function(n,t){var e=at,o=t&&!t.nodeType&&t,r=o&&!0&&n&&!n.nodeType&&n,i=r&&r.exports===o,s=i?e.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,d){if(d)return c.slice();var u=c.length,h=a?a(u):new c.constructor(u);return c.copy(h),h}n.exports=l})(ke,ke.exports);var rd=ke.exports,id=at,sd=id.Uint8Array,Gr=sd,No=Gr;function ad(n){var t=new n.constructor(n.byteLength);return new No(t).set(new No(n)),t}var ld=ad,cd=ld;function dd(n,t){var e=t?cd(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var ud=dd;function hd(n,t){var e=-1,o=n.length;for(t||(t=Array(o));++e<o;)t[e]=n[e];return t}var pd=hd,fd=Ct,Mo=Object.create,md=function(){function n(){}return function(t){if(!fd(t))return{};if(Mo)return Mo(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}(),gd=md;function vd(n,t){return function(e){return n(t(e))}}var Ur=vd,bd=Ur,yd=bd(Object.getPrototypeOf,Object),Kr=yd,wd=Object.prototype;function Cd(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||wd;return n===e}var no=Cd,Ed=gd,_d=Kr,xd=no;function Sd(n){return typeof n.constructor=="function"&&!xd(n)?Ed(_d(n)):{}}var Od=Sd,Td=kt,$d=Mt,Ad="[object Arguments]";function Pd(n){return $d(n)&&Td(n)==Ad}var Nd=Pd,Do=Nd,Md=Mt,Yr=Object.prototype,Dd=Yr.hasOwnProperty,Ld=Yr.propertyIsEnumerable,Id=Do(function(){return arguments}())?Do:function(n){return Md(n)&&Dd.call(n,"callee")&&!Ld.call(n,"callee")},Xr=Id,Fd=9007199254740991;function Rd(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=Fd}var Zr=Rd,zd=Jn,jd=Zr;function Hd(n){return n!=null&&jd(n.length)&&!zd(n)}var cn=Hd,Bd=cn,kd=Mt;function Wd(n){return kd(n)&&Bd(n)}var Vd=Wd,We={exports:{}};function qd(){return!1}var Gd=qd;We.exports;(function(n,t){var e=at,o=Gd,r=t&&!t.nodeType&&t,i=r&&!0&&n&&!n.nodeType&&n,s=i&&i.exports===r,a=s?e.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||o;n.exports=c})(We,We.exports);var oo=We.exports,Ud=kt,Kd=Kr,Yd=Mt,Xd="[object Object]",Zd=Function.prototype,Jd=Object.prototype,Jr=Zd.toString,Qd=Jd.hasOwnProperty,tu=Jr.call(Object);function eu(n){if(!Yd(n)||Ud(n)!=Xd)return!1;var t=Kd(n);if(t===null)return!0;var e=Qd.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Jr.call(e)==tu}var nu=eu,ou=kt,ru=Zr,iu=Mt,su="[object Arguments]",au="[object Array]",lu="[object Boolean]",cu="[object Date]",du="[object Error]",uu="[object Function]",hu="[object Map]",pu="[object Number]",fu="[object Object]",mu="[object RegExp]",gu="[object Set]",vu="[object String]",bu="[object WeakMap]",yu="[object ArrayBuffer]",wu="[object DataView]",Cu="[object Float32Array]",Eu="[object Float64Array]",_u="[object Int8Array]",xu="[object Int16Array]",Su="[object Int32Array]",Ou="[object Uint8Array]",Tu="[object Uint8ClampedArray]",$u="[object Uint16Array]",Au="[object Uint32Array]",N={};N[Cu]=N[Eu]=N[_u]=N[xu]=N[Su]=N[Ou]=N[Tu]=N[$u]=N[Au]=!0;N[su]=N[au]=N[yu]=N[lu]=N[wu]=N[cu]=N[du]=N[uu]=N[hu]=N[pu]=N[fu]=N[mu]=N[gu]=N[vu]=N[bu]=!1;function Pu(n){return iu(n)&&ru(n.length)&&!!N[ou(n)]}var Nu=Pu;function Mu(n){return function(t){return n(t)}}var Du=Mu,Ve={exports:{}};Ve.exports;(function(n,t){var e=Pr,o=t&&!t.nodeType&&t,r=o&&!0&&n&&!n.nodeType&&n,i=r&&r.exports===o,s=i&&e.process,a=function(){try{var l=r&&r.require&&r.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();n.exports=a})(Ve,Ve.exports);var Lu=Ve.exports,Iu=Nu,Fu=Du,Lo=Lu,Io=Lo&&Lo.isTypedArray,Ru=Io?Fu(Io):Iu,ro=Ru;function zu(n,t){if(!(t==="constructor"&&typeof n[t]=="function")&&t!="__proto__")return n[t]}var Qr=zu,ju=eo,Hu=be,Bu=Object.prototype,ku=Bu.hasOwnProperty;function Wu(n,t,e){var o=n[t];(!(ku.call(n,t)&&Hu(o,e))||e===void 0&&!(t in n))&&ju(n,t,e)}var ti=Wu,Vu=ti,qu=eo;function Gu(n,t,e,o){var r=!e;e||(e={});for(var i=-1,s=t.length;++i<s;){var a=t[i],l=o?o(e[a],n[a],a,e,n):void 0;l===void 0&&(l=n[a]),r?qu(e,a,l):Vu(e,a,l)}return e}var Uu=Gu;function Ku(n,t){for(var e=-1,o=Array(n);++e<n;)o[e]=t(e);return o}var Yu=Ku,Xu=9007199254740991,Zu=/^(?:0|[1-9]\d*)$/;function Ju(n,t){var e=typeof n;return t=t??Xu,!!t&&(e=="number"||e!="symbol"&&Zu.test(n))&&n>-1&&n%1==0&&n<t}var io=Ju,Qu=Yu,th=Xr,eh=Nt,nh=oo,oh=io,rh=ro,ih=Object.prototype,sh=ih.hasOwnProperty;function ah(n,t){var e=eh(n),o=!e&&th(n),r=!e&&!o&&nh(n),i=!e&&!o&&!r&&rh(n),s=e||o||r||i,a=s?Qu(n.length,String):[],l=a.length;for(var c in n)(t||sh.call(n,c))&&!(s&&(c=="length"||r&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||oh(c,l)))&&a.push(c);return a}var ei=ah;function lh(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var ch=lh,dh=Ct,uh=no,hh=ch,ph=Object.prototype,fh=ph.hasOwnProperty;function mh(n){if(!dh(n))return hh(n);var t=uh(n),e=[];for(var o in n)o=="constructor"&&(t||!fh.call(n,o))||e.push(o);return e}var gh=mh,vh=ei,bh=gh,yh=cn;function wh(n){return yh(n)?vh(n,!0):bh(n)}var ni=wh,Ch=Uu,Eh=ni;function _h(n){return Ch(n,Eh(n))}var xh=_h,Fo=qr,Sh=rd,Oh=ud,Th=pd,$h=Od,Ro=Xr,zo=Nt,Ah=Vd,Ph=oo,Nh=Jn,Mh=Ct,Dh=nu,Lh=ro,jo=Qr,Ih=xh;function Fh(n,t,e,o,r,i,s){var a=jo(n,e),l=jo(t,e),c=s.get(l);if(c){Fo(n,e,c);return}var d=i?i(a,l,e+"",n,t,s):void 0,u=d===void 0;if(u){var h=zo(l),f=!h&&Ph(l),m=!h&&!f&&Lh(l);d=l,h||f||m?zo(a)?d=a:Ah(a)?d=Th(a):f?(u=!1,d=Sh(l,!0)):m?(u=!1,d=Oh(l,!0)):d=[]:Dh(l)||Ro(l)?(d=a,Ro(a)?d=Ih(a):(!Mh(a)||Nh(a))&&(d=$h(l))):u=!1}u&&(s.set(l,d),r(d,l,o,i,s),s.delete(l)),Fo(n,e,d)}var Rh=Fh,zh=Wr,jh=qr,Hh=od,Bh=Rh,kh=Ct,Wh=ni,Vh=Qr;function oi(n,t,e,o,r){n!==t&&Hh(t,function(i,s){if(r||(r=new zh),kh(i))Bh(n,t,s,e,oi,o,r);else{var a=o?o(Vh(n,s),i,s+"",n,t,r):void 0;a===void 0&&(a=i),jh(n,s,a)}},Wh)}var qh=oi;function Gh(n){return n}var ri=Gh;function Uh(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}var Kh=Uh,Yh=Kh,Ho=Math.max;function Xh(n,t,e){return t=Ho(t===void 0?n.length-1:t,0),function(){for(var o=arguments,r=-1,i=Ho(o.length-t,0),s=Array(i);++r<i;)s[r]=o[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=o[r];return a[t]=e(s),Yh(n,this,a)}}var Zh=Xh;function Jh(n){return function(){return n}}var Qh=Jh,tp=Qh,Bo=Vr,ep=ri,np=Bo?function(n,t){return Bo(n,"toString",{configurable:!0,enumerable:!1,value:tp(t),writable:!0})}:ep,op=np,rp=800,ip=16,sp=Date.now;function ap(n){var t=0,e=0;return function(){var o=sp(),r=ip-(o-e);if(e=o,r>0){if(++t>=rp)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}var lp=ap,cp=op,dp=lp,up=dp(cp),hp=up,pp=ri,fp=Zh,mp=hp;function gp(n,t){return mp(fp(n,t,pp),n+"")}var vp=gp,bp=be,yp=cn,wp=io,Cp=Ct;function Ep(n,t,e){if(!Cp(e))return!1;var o=typeof t;return(o=="number"?yp(e)&&wp(t,e.length):o=="string"&&t in e)?bp(e[t],n):!1}var _p=Ep,xp=vp,Sp=_p;function Op(n){return xp(function(t,e){var o=-1,r=e.length,i=r>1?e[r-1]:void 0,s=r>2?e[2]:void 0;for(i=n.length>3&&typeof i=="function"?(r--,i):void 0,s&&Sp(e[0],e[1],s)&&(i=r<3?void 0:i,r=1),t=Object(t);++o<r;){var a=e[o];a&&n(t,a,o,i)}return t})}var Tp=Op,$p=qh,Ap=Tp,Pp=Ap(function(n,t,e,o){$p(n,t,e,o)}),Np=Pp;const Mp=tn(Np),ko=()=>crypto.randomUUID(),Wo=(n="",t)=>{if(!t)return console.warn("utils.match missing argument 2."),!1;const e=/[|\\{}()[\]^*$+?.]/g;let o=typeof t=="string"?[t]:t;o=o.map(i=>i==="*"?"":i.replace(e,"\\$&"));let r=!0;return o.length&&(r=!new RegExp(o.join("|"),"i").exec(n)),r},Dp=(n,t)=>{const e=n.indexOf(t);e!==-1&&n.splice(e,1)},q=n=>{var e;const t=(e=n.className)==null?void 0:e.match(oa);return t&&ea[t[0]]},jt=n=>Array.from(new Set(n)),U=n=>{let t;if(n){const{attrs:e={}}=n;t=e.id||n.id||ko(),n.id=t}else t=ko();return t},At=(n,t,e=Object.create(null))=>Mp({},n,t,(r,i)=>{if(Array.isArray(r))return Array.isArray(i)?jt(e.mergeArray?r.concat(i):i):i}),Ht=n=>{let t;const e=n instanceof Promise;if(n===null||!(typeof n=="object")||e)return n;if(n instanceof Date)return t=new Date,t.setTime(n.getTime()),t;if(n instanceof Array){t=[];for(let r=0,i=n.length;r<i;r++)t[r]=Ht(n[r]);return t}if(n instanceof Object){t={};for(const r in n)n.hasOwnProperty(r)&&(t[r]=Ht(n[r]));return t}throw new Error("Unable to copy Object, type not supported.")},mn=(n,t)=>n/t*100,Rn=n=>n.toString()+"%",qe=Object.create(null,{get:{value:n=>{const t=window.sessionStorage&&window.sessionStorage.getItem(n);try{return JSON.parse(t)}catch(e){console.error(e)}}},set:{value:(n,t)=>{try{return window.sessionStorage&&window.sessionStorage.setItem(n,JSON.stringify(t))}catch(e){console.error(e)}}}}),bt=n=>Qs.some(t=>new RegExp(`^${t}.`).test(n)),Ge=n=>n.startsWith("external"),Lp=n=>/^is|^has/.test(n);function ii(n,t){let e=!1;return function(){if(!e){n(...arguments),e=!0;const o=setTimeout(()=>{e=!1,clearTimeout(o)},t)}}}function me(n){return n}function Ip(){}var Fp=Nt,Rp=Yn,zp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,jp=/^\w*$/;function Hp(n,t){if(Fp(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||Rp(n)?!0:jp.test(n)||!zp.test(n)||t!=null&&n in Object(t)}var Bp=Hp,si=to,kp="Expected a function";function so(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(kp);var e=function(){var o=arguments,r=t?t.apply(this,o):o[0],i=e.cache;if(i.has(r))return i.get(r);var s=n.apply(this,o);return e.cache=i.set(r,s)||i,s};return e.cache=new(so.Cache||si),e}so.Cache=si;var Wp=so,Vp=Wp,qp=500;function Gp(n){var t=Vp(n,function(o){return e.size===qp&&e.clear(),o}),e=t.cache;return t}var Up=Gp,Kp=Up,Yp=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xp=/\\(\\)?/g,Zp=Kp(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(Yp,function(e,o,r,i){t.push(r?i.replace(Xp,"$1"):o||e)}),t}),Jp=Zp,Qp=Nt,tf=Bp,ef=Jp,nf=Os;function of(n,t){return Qp(n)?n:tf(n,t)?[n]:ef(nf(n))}var ai=of,rf=Yn,sf=1/0;function af(n){if(typeof n=="string"||rf(n))return n;var t=n+"";return t=="0"&&1/n==-sf?"-0":t}var li=af,lf=ti,cf=ai,df=io,Vo=Ct,uf=li;function hf(n,t,e,o){if(!Vo(n))return n;t=cf(t,n);for(var r=-1,i=t.length,s=i-1,a=n;a!=null&&++r<i;){var l=uf(t[r]),c=e;if(l==="__proto__"||l==="constructor"||l==="prototype")return n;if(r!=s){var d=a[l];c=o?o(d,l,a):void 0,c===void 0&&(c=Vo(d)?d:df(t[r+1])?[]:{})}lf(a,l,c),a=a[l]}return n}var pf=hf,ff=pf;function mf(n,t,e){return n==null?n:ff(n,t,e)}var gf=mf;const vf=tn(gf);var bf=ai,yf=li;function wf(n,t){t=bf(t,n);for(var e=0,o=t.length;n!=null&&e<o;)n=n[yf(t[e++])];return e&&e==o?n:void 0}var Cf=wf,Ef=Cf;function _f(n,t,e){var o=n==null?void 0:Ef(n,t);return o===void 0?e:o}var xf=_f;const Sf=tn(xf),Z=Sf,Of=vf,ci=n=>{const t={...n},e={string:()=>"",boolean:()=>!1,object:o=>ci(o)};return Object.keys(n).forEach(o=>{const r=typeof n[o];e[r]&&(t[o]=e[r](n[o]))}),t},Tf="a an and as at but by for for from in into near nor of on onto or the to with".split(" ").map(n=>`\\s${n}\\s`),$f=new RegExp(`(?!${Tf.join("|")})\\w\\S*`,"g"),Af=/\s+/g;function wt(n){return typeof n!="string"||n.trim().match(Af)?n:n.replace($f,e=>e.charAt(0).toUpperCase()+e.substring(1).replace(/[A-Z]/g,o=>` ${o}`))}const qo=(n,t="-")=>n.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,t),di=n=>Number.isInteger(Number(n)),Pt=(n,t)=>{const e=t||n.parentElement;return Array.prototype.slice.call(e.childNodes).indexOf(n)},ge=(n,t,e)=>{const o=e.split("||"),i=jt(t).map(s=>n.find(a=>{const l=o.find(c=>!!Z(a,c));return l&&Z(a,l)===s})).filter(Boolean).concat(n);return jt(i)},dn=(n,t,e)=>{for(let o=0;o<n.length;o++)t.call(e,n[o],o)},ao=(n,t)=>{const e=[];return dn(n,(o,r)=>e.push(t(o,r))),e},gn={},Pf=n=>{const t={className:"class"};if(gn[n])return gn[n];const o=(t[n]||n).replace(/^\d/,"").replace(/[^a-zA-Z0-9-:]/g,"");return gn[n]=o,o},ui=n=>n.replace(/\b\w/g,t=>t.toUpperCase()),Nf=n=>window.JSON.parse(window.JSON.stringify(n)),Mf=(n,t)=>t.filter(e=>!~n.indexOf(e)),hi=()=>window.navigator.userAgent.indexOf("MSIE ")!==-1,J={capitalize:ui,safeAttrName:Pf,forEach:dn,copyObj:Nf,map:ao,subtract:Mf,indexOfNode:Pt,isInt:di,get:Z,orderObjectsBy:ge,isIE:hi},B={getStyle:(n,t=!1)=>{let e;return window.getComputedStyle?e=window.getComputedStyle(n,null):n.currentStyle&&(e=n.currentStyle),t?e[t]:e},fadeOut:(n,t=250)=>{const e=1/(t/60);n.style.opacity=1,function o(){const r=Number(n.style.opacity)-e;r>0?(n.style.opacity=r,window.requestAnimationFrame(o)):n.remove()}()},slideDown:(n,t=250,e=!1)=>{n.style.display="block";const o=B.getStyle(n),r=parseInt(o.height,10),i=r/(t/60);n.style.height="0px",function s(){const a=parseFloat(n.style.height),l=a+i;a<r?(n.style.height=l+"px",window.requestAnimationFrame(s)):(n.style.height="auto",e&&e(n))}()},slideUp:(n,t=250,e=!1)=>{const o=B.getStyle(n),r=parseInt(o.height),i=o.overflow;n.style.overflow="hidden",n.style.height=r+"px";const s=o.minHeight;n.style.minHeight="auto";const a=parseFloat(r/(t/60)).toFixed(2);(function l(){const d=parseInt(n.style.height,10)-a;d>0?(n.style.height=d+"px",window.requestAnimationFrame(l)):(n.style.overflow=i,n.style.display="none",n.style.minHeight=s,delete n.style.height,e&&e(n))})()},slideToggle:(n,t=250,e=B.getStyle(n,"display")==="none")=>{e?B.slideDown(n,t):B.slideUp(n,t)}},Go="no-transition",Df={debug:!1,bubbles:!0,formeoLoaded:n=>{},onAdd:()=>{},onUpdate:n=>A.opts.debug&&console.log(n),onUpdateStage:n=>A.opts.debug&&console.log(n),onUpdateRow:n=>A.opts.debug&&console.log(n),onUpdateColumn:n=>A.opts.debug&&console.log(n),onUpdateField:n=>A.opts.debug&&console.log(n),onRender:n=>A.opts.debug&&console.log(n),onSave:n=>{},confirmClearAll:n=>{window.confirm(n.confirmationMessage)&&n.clearAllAction(n)}},ne=({src:n,...t},e=on)=>{const o=new window.CustomEvent(e,{detail:t,bubbles:A.opts.debug||A.opts.bubbles});return o.data=(n||document).dispatchEvent(o),o},A={init:function(n){return this.opts={...Df,...n},this},formeoSaved:n=>ne(n,Rr),formeoUpdated:n=>ne(n,on),formeoCleared:n=>ne(n,pa),formeoOnRender:n=>ne(n,zr),formeoConditionUpdated:n=>ne(n,fa)},Lf=ii(()=>{A.opts.onUpdate({timeStamp:window.performance.now(),type:on,detail:$.formData})},fe);document.addEventListener(on,Lf);document.addEventListener(ca,n=>{const{timeStamp:t,type:e,detail:o}=n;A.opts.onUpdate({timeStamp:t,type:e,detail:o})});document.addEventListener(da,n=>{const{timeStamp:t,type:e,detail:o}=n;A.opts.onUpdate({timeStamp:t,type:e,detail:o})});document.addEventListener(ua,n=>{const{timeStamp:t,type:e,detail:o}=n;A.opts.onUpdate({timeStamp:t,type:e,detail:o})});document.addEventListener(ha,n=>{const{timeStamp:t,type:e,detail:o}=n;A.opts.onUpdate({timeStamp:t,type:e,detail:o})});document.addEventListener(zr,n=>{const{timeStamp:t,type:e,detail:o}=n;A.opts.onRender({timeStamp:t,type:e,detail:o})});document.addEventListener("confirmClearAll",n=>{n={timeStamp:n.timeStamp,type:n.type,confirmationMessage:n.detail.confirmationMessage,clearAllAction:n.detail.clearAllAction,btnCoords:n.detail.btnCoords},A.opts.confirmClearAll(n)});document.addEventListener(Rr,({timeStamp:n,type:t,detail:{formData:e}})=>{const o={timeStamp:n,type:t,formData:e};A.opts.onSave(o)});document.addEventListener("formeoLoaded",n=>{A.opts.formeoLoaded(n.detail.formeo)});let vn;function If(){vn=vn||window.requestAnimationFrame(()=>{vn=!1,Object.values(He.data).forEach(n=>{n.dom.classList.add(Go),Kn.dom.classList.add(Go),Kn.panels.nav.refresh(),n.refreshFieldPanels()})})}window.addEventListener("resize",If);var Ff="__lodash_hash_undefined__";function Rf(n){return this.__data__.set(n,Ff),this}var zf=Rf;function jf(n){return this.__data__.has(n)}var Hf=jf,Bf=to,kf=zf,Wf=Hf;function Ue(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new Bf;++t<e;)this.add(n[t])}Ue.prototype.add=Ue.prototype.push=kf;Ue.prototype.has=Wf;var Vf=Ue;function qf(n,t){for(var e=-1,o=n==null?0:n.length;++e<o;)if(t(n[e],e,n))return!0;return!1}var Gf=qf;function Uf(n,t){return n.has(t)}var Kf=Uf,Yf=Vf,Xf=Gf,Zf=Kf,Jf=1,Qf=2;function tm(n,t,e,o,r,i){var s=e&Jf,a=n.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=i.get(n),d=i.get(t);if(c&&d)return c==t&&d==n;var u=-1,h=!0,f=e&Qf?new Yf:void 0;for(i.set(n,t),i.set(t,n);++u<a;){var m=n[u],b=t[u];if(o)var x=s?o(b,m,u,t,n,i):o(m,b,u,n,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(f){if(!Xf(t,function(O,_){if(!Zf(f,_)&&(m===O||r(m,O,e,o,i)))return f.push(_)})){h=!1;break}}else if(!(m===b||r(m,b,e,o,i))){h=!1;break}}return i.delete(n),i.delete(t),h}var pi=tm;function em(n){var t=-1,e=Array(n.size);return n.forEach(function(o,r){e[++t]=[r,o]}),e}var nm=em;function om(n){var t=-1,e=Array(n.size);return n.forEach(function(o){e[++t]=o}),e}var rm=om,Uo=en,Ko=Gr,im=be,sm=pi,am=nm,lm=rm,cm=1,dm=2,um="[object Boolean]",hm="[object Date]",pm="[object Error]",fm="[object Map]",mm="[object Number]",gm="[object RegExp]",vm="[object Set]",bm="[object String]",ym="[object Symbol]",wm="[object ArrayBuffer]",Cm="[object DataView]",Yo=Uo?Uo.prototype:void 0,bn=Yo?Yo.valueOf:void 0;function Em(n,t,e,o,r,i,s){switch(e){case Cm:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case wm:return!(n.byteLength!=t.byteLength||!i(new Ko(n),new Ko(t)));case um:case hm:case mm:return im(+n,+t);case pm:return n.name==t.name&&n.message==t.message;case gm:case bm:return n==t+"";case fm:var a=am;case vm:var l=o&cm;if(a||(a=lm),n.size!=t.size&&!l)return!1;var c=s.get(n);if(c)return c==t;o|=dm,s.set(n,t);var d=sm(a(n),a(t),o,r,i,s);return s.delete(n),d;case ym:if(bn)return bn.call(n)==bn.call(t)}return!1}var _m=Em;function xm(n,t){for(var e=-1,o=t.length,r=n.length;++e<o;)n[r+e]=t[e];return n}var Sm=xm,Om=Sm,Tm=Nt;function $m(n,t,e){var o=t(n);return Tm(n)?o:Om(o,e(n))}var Am=$m;function Pm(n,t){for(var e=-1,o=n==null?0:n.length,r=0,i=[];++e<o;){var s=n[e];t(s,e,n)&&(i[r++]=s)}return i}var Nm=Pm;function Mm(){return[]}var Dm=Mm,Lm=Nm,Im=Dm,Fm=Object.prototype,Rm=Fm.propertyIsEnumerable,Xo=Object.getOwnPropertySymbols,zm=Xo?function(n){return n==null?[]:(n=Object(n),Lm(Xo(n),function(t){return Rm.call(n,t)}))}:Im,jm=zm,Hm=Ur,Bm=Hm(Object.keys,Object),km=Bm,Wm=no,Vm=km,qm=Object.prototype,Gm=qm.hasOwnProperty;function Um(n){if(!Wm(n))return Vm(n);var t=[];for(var e in Object(n))Gm.call(n,e)&&e!="constructor"&&t.push(e);return t}var Km=Um,Ym=ei,Xm=Km,Zm=cn;function Jm(n){return Zm(n)?Ym(n):Xm(n)}var Qm=Jm,tg=Am,eg=jm,ng=Qm;function og(n){return tg(n,ng,eg)}var rg=og,Zo=rg,ig=1,sg=Object.prototype,ag=sg.hasOwnProperty;function lg(n,t,e,o,r,i){var s=e&ig,a=Zo(n),l=a.length,c=Zo(t),d=c.length;if(l!=d&&!s)return!1;for(var u=l;u--;){var h=a[u];if(!(s?h in t:ag.call(t,h)))return!1}var f=i.get(n),m=i.get(t);if(f&&m)return f==t&&m==n;var b=!0;i.set(n,t),i.set(t,n);for(var x=s;++u<l;){h=a[u];var O=n[h],_=t[h];if(o)var P=s?o(_,O,h,t,n,i):o(O,_,h,n,t,i);if(!(P===void 0?O===_||r(O,_,e,o,i):P)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var D=n.constructor,W=t.constructor;D!=W&&"constructor"in n&&"constructor"in t&&!(typeof D=="function"&&D instanceof D&&typeof W=="function"&&W instanceof W)&&(b=!1)}return i.delete(n),i.delete(t),b}var cg=lg,dg=Dt,ug=at,hg=dg(ug,"DataView"),pg=hg,fg=Dt,mg=at,gg=fg(mg,"Promise"),vg=gg,bg=Dt,yg=at,wg=bg(yg,"Set"),Cg=wg,Eg=Dt,_g=at,xg=Eg(_g,"WeakMap"),Sg=xg,zn=pg,jn=Qn,Hn=vg,Bn=Cg,kn=Sg,fi=kt,Yt=kr,Jo="[object Map]",Og="[object Object]",Qo="[object Promise]",tr="[object Set]",er="[object WeakMap]",nr="[object DataView]",Tg=Yt(zn),$g=Yt(jn),Ag=Yt(Hn),Pg=Yt(Bn),Ng=Yt(kn),Ot=fi;(zn&&Ot(new zn(new ArrayBuffer(1)))!=nr||jn&&Ot(new jn)!=Jo||Hn&&Ot(Hn.resolve())!=Qo||Bn&&Ot(new Bn)!=tr||kn&&Ot(new kn)!=er)&&(Ot=function(n){var t=fi(n),e=t==Og?n.constructor:void 0,o=e?Yt(e):"";if(o)switch(o){case Tg:return nr;case $g:return Jo;case Ag:return Qo;case Pg:return tr;case Ng:return er}return t});var Mg=Ot,yn=Wr,Dg=pi,Lg=_m,Ig=cg,or=Mg,rr=Nt,ir=oo,Fg=ro,Rg=1,sr="[object Arguments]",ar="[object Array]",Se="[object Object]",zg=Object.prototype,lr=zg.hasOwnProperty;function jg(n,t,e,o,r,i){var s=rr(n),a=rr(t),l=s?ar:or(n),c=a?ar:or(t);l=l==sr?Se:l,c=c==sr?Se:c;var d=l==Se,u=c==Se,h=l==c;if(h&&ir(n)){if(!ir(t))return!1;s=!0,d=!1}if(h&&!d)return i||(i=new yn),s||Fg(n)?Dg(n,t,e,o,r,i):Lg(n,t,l,e,o,r,i);if(!(e&Rg)){var f=d&&lr.call(n,"__wrapped__"),m=u&&lr.call(t,"__wrapped__");if(f||m){var b=f?n.value():n,x=m?t.value():t;return i||(i=new yn),r(b,x,e,o,i)}}return h?(i||(i=new yn),Ig(n,t,e,o,r,i)):!1}var Hg=jg,Bg=Hg,cr=Mt;function mi(n,t,e,o,r){return n===t?!0:n==null||t==null||!cr(n)&&!cr(t)?n!==n&&t!==t:Bg(n,t,e,o,mi,r)}var kg=mi,Wg=kg;function Vg(n,t){return Wg(n,t)}var qg=Vg;const Wn=tn(qg);class lo{constructor(t,e=Object.create(null)){g(this,"toJSON",(t,e)=>JSON.stringify(t,null,e));g(this,"get",t=>Z(this.data,t));g(this,"getChangeType",(t,e)=>{const o=la.find(({condition:r})=>r(t,e))||{type:"unknown"};return o.desc=o.type==="added"?`${t} to ${e}`:e,o});g(this,"add",(t,e=Object.create(null))=>{const{id:o}=e,r=t||o||U();return this.set(r,e)});g(this,"remove",t=>{const e=t.split("."),o=e.pop(),r=this.get(e);return Array.isArray(r)?r.splice(Number(o),1):delete r[o],r});g(this,"getData",()=>Object.entries(this.data).reduce((t,[e,o])=>(t[e]=o!=null&&o.data?o.getData():o,t),{}));g(this,"setCallbacks",{});g(this,"configVal",Object.create(null));this.name=t,this.data=e,this.dataPath=""}get size(){return Object.keys(this.data).length}get js(){return this.data}get json(){return this.data}set(t,e){const o=Z(this.data,t);if(Wn(o,e))return this.data;const r=Of(this.data,t,e),i=Array.isArray(t)?t.join("."):t,s=Object.keys(this.setCallbacks).filter(l=>new RegExp(l).test(i)),a={newVal:e,oldVal:o,path:t};for(const l of s)for(const c of this.setCallbacks[l])c(a);if(!this.disableEvents){const l=this.getChangeType(o,e),c={entity:this,dataPath:this.dataPath.replace(/\.+$/,""),changePath:this.dataPath+t,value:e,data:r,change:`${l.type}: ${l.desc}`,src:this.dom};o&&(c.previousValue=o),A.formeoUpdated(c)}return r}addSetCallback(t,e){this.setCallbacks[t]?this.setCallbacks[t].push(e):this.setCallbacks[t]=[e]}removeSetCallback(t,e){this.setCallbacks[t]=this.setCallbacks[t].filter(o=>o!==e)}empty(){this.data=Object.create(null)}}/**!
 * Sortable 1.15.3
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function dr(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,o)}return e}function st(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?dr(Object(e),!0).forEach(function(o){Gg(n,o,e[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):dr(Object(e)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(e,o))})}return n}function Le(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Le=function(t){return typeof t}:Le=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Le(n)}function Gg(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function ht(){return ht=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},ht.apply(this,arguments)}function Ug(n,t){if(n==null)return{};var e={},o=Object.keys(n),r,i;for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&(e[r]=n[r]);return e}function Kg(n,t){if(n==null)return{};var e=Ug(n,t),o,r;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)o=i[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(n,o)&&(e[o]=n[o])}return e}var Yg="1.15.3";function ct(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var pt=ct(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ye=ct(/Edge/i),ur=ct(/firefox/i),le=ct(/safari/i)&&!ct(/chrome/i)&&!ct(/android/i),gi=ct(/iP(ad|od|hone)/i),vi=ct(/chrome/i)&&ct(/android/i),bi={capture:!1,passive:!1};function T(n,t,e){n.addEventListener(t,e,!pt&&bi)}function S(n,t,e){n.removeEventListener(t,e,!pt&&bi)}function Ke(n,t){if(t){if(t[0]===">"&&(t=t.substring(1)),n)try{if(n.matches)return n.matches(t);if(n.msMatchesSelector)return n.msMatchesSelector(t);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(t)}catch{return!1}return!1}}function yi(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function et(n,t,e,o){if(n){e=e||document;do{if(t!=null&&(t[0]===">"?n.parentNode===e&&Ke(n,t):Ke(n,t))||o&&n===e)return n;if(n===e)break}while(n=yi(n))}return null}var hr=/\s+/g;function Y(n,t,e){if(n&&t)if(n.classList)n.classList[e?"add":"remove"](t);else{var o=(" "+n.className+" ").replace(hr," ").replace(" "+t+" "," ");n.className=(o+(e?" "+t:"")).replace(hr," ")}}function C(n,t,e){var o=n&&n.style;if(o){if(e===void 0)return document.defaultView&&document.defaultView.getComputedStyle?e=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(e=n.currentStyle),t===void 0?e:e[t];!(t in o)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),o[t]=e+(typeof e=="string"?"":"px")}}function zt(n,t){var e="";if(typeof n=="string")e=n;else do{var o=C(n,"transform");o&&o!=="none"&&(e=o+" "+e)}while(!t&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(e)}function wi(n,t,e){if(n){var o=n.getElementsByTagName(t),r=0,i=o.length;if(e)for(;r<i;r++)e(o[r],r);return o}return[]}function it(){var n=document.scrollingElement;return n||document.documentElement}function R(n,t,e,o,r){if(!(!n.getBoundingClientRect&&n!==window)){var i,s,a,l,c,d,u;if(n!==window&&n.parentNode&&n!==it()?(i=n.getBoundingClientRect(),s=i.top,a=i.left,l=i.bottom,c=i.right,d=i.height,u=i.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,d=window.innerHeight,u=window.innerWidth),(t||e)&&n!==window&&(r=r||n.parentNode,!pt))do if(r&&r.getBoundingClientRect&&(C(r,"transform")!=="none"||e&&C(r,"position")!=="static")){var h=r.getBoundingClientRect();s-=h.top+parseInt(C(r,"border-top-width")),a-=h.left+parseInt(C(r,"border-left-width")),l=s+i.height,c=a+i.width;break}while(r=r.parentNode);if(o&&n!==window){var f=zt(r||n),m=f&&f.a,b=f&&f.d;f&&(s/=b,a/=m,u/=m,d/=b,l=s+d,c=a+u)}return{top:s,left:a,bottom:l,right:c,width:u,height:d}}}function pr(n,t,e){for(var o=yt(n,!0),r=R(n)[t];o;){var i=R(o)[e],s=void 0;if(s=r>=i,!s)return o;if(o===it())break;o=yt(o,!1)}return!1}function Bt(n,t,e,o){for(var r=0,i=0,s=n.children;i<s.length;){if(s[i].style.display!=="none"&&s[i]!==w.ghost&&(o||s[i]!==w.dragged)&&et(s[i],e.draggable,n,!1)){if(r===t)return s[i];r++}i++}return null}function co(n,t){for(var e=n.lastElementChild;e&&(e===w.ghost||C(e,"display")==="none"||t&&!Ke(e,t));)e=e.previousElementSibling;return e||null}function Q(n,t){var e=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==w.clone&&(!t||Ke(n,t))&&e++;return e}function fr(n){var t=0,e=0,o=it();if(n)do{var r=zt(n),i=r.a,s=r.d;t+=n.scrollLeft*i,e+=n.scrollTop*s}while(n!==o&&(n=n.parentNode));return[t,e]}function Xg(n,t){for(var e in n)if(n.hasOwnProperty(e)){for(var o in t)if(t.hasOwnProperty(o)&&t[o]===n[e][o])return Number(e)}return-1}function yt(n,t){if(!n||!n.getBoundingClientRect)return it();var e=n,o=!1;do if(e.clientWidth<e.scrollWidth||e.clientHeight<e.scrollHeight){var r=C(e);if(e.clientWidth<e.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||e.clientHeight<e.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!e.getBoundingClientRect||e===document.body)return it();if(o||t)return e;o=!0}}while(e=e.parentNode);return it()}function Zg(n,t){if(n&&t)for(var e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function wn(n,t){return Math.round(n.top)===Math.round(t.top)&&Math.round(n.left)===Math.round(t.left)&&Math.round(n.height)===Math.round(t.height)&&Math.round(n.width)===Math.round(t.width)}var ce;function Ci(n,t){return function(){if(!ce){var e=arguments,o=this;e.length===1?n.call(o,e[0]):n.apply(o,e),ce=setTimeout(function(){ce=void 0},t)}}}function Jg(){clearTimeout(ce),ce=void 0}function Ei(n,t,e){n.scrollLeft+=t,n.scrollTop+=e}function _i(n){var t=window.Polymer,e=window.jQuery||window.Zepto;return t&&t.dom?t.dom(n).cloneNode(!0):e?e(n).clone(!0)[0]:n.cloneNode(!0)}function xi(n,t,e){var o={};return Array.from(n.children).forEach(function(r){var i,s,a,l;if(!(!et(r,t.draggable,n,!1)||r.animated||r===e)){var c=R(r);o.left=Math.min((i=o.left)!==null&&i!==void 0?i:1/0,c.left),o.top=Math.min((s=o.top)!==null&&s!==void 0?s:1/0,c.top),o.right=Math.max((a=o.right)!==null&&a!==void 0?a:-1/0,c.right),o.bottom=Math.max((l=o.bottom)!==null&&l!==void 0?l:-1/0,c.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var G="Sortable"+new Date().getTime();function Qg(){var n=[],t;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(r){if(!(C(r,"display")==="none"||r===w.ghost)){n.push({target:r,rect:R(r)});var i=st({},n[n.length-1].rect);if(r.thisAnimationDuration){var s=zt(r,!0);s&&(i.top-=s.f,i.left-=s.e)}r.fromRect=i}})}},addAnimationState:function(o){n.push(o)},removeAnimationState:function(o){n.splice(Xg(n,{target:o}),1)},animateAll:function(o){var r=this;if(!this.options.animation){clearTimeout(t),typeof o=="function"&&o();return}var i=!1,s=0;n.forEach(function(a){var l=0,c=a.target,d=c.fromRect,u=R(c),h=c.prevFromRect,f=c.prevToRect,m=a.rect,b=zt(c,!0);b&&(u.top-=b.f,u.left-=b.e),c.toRect=u,c.thisAnimationDuration&&wn(h,u)&&!wn(d,u)&&(m.top-u.top)/(m.left-u.left)===(d.top-u.top)/(d.left-u.left)&&(l=e1(m,h,f,r.options)),wn(u,d)||(c.prevFromRect=d,c.prevToRect=u,l||(l=r.options.animation),r.animate(c,m,u,l)),l&&(i=!0,s=Math.max(s,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),i?t=setTimeout(function(){typeof o=="function"&&o()},s):typeof o=="function"&&o(),n=[]},animate:function(o,r,i,s){if(s){C(o,"transition",""),C(o,"transform","");var a=zt(this.el),l=a&&a.a,c=a&&a.d,d=(r.left-i.left)/(l||1),u=(r.top-i.top)/(c||1);o.animatingX=!!d,o.animatingY=!!u,C(o,"transform","translate3d("+d+"px,"+u+"px,0)"),this.forRepaintDummy=t1(o),C(o,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),C(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){C(o,"transition",""),C(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},s)}}}}function t1(n){return n.offsetWidth}function e1(n,t,e,o){return Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))/Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))*o.animation}var Lt=[],Cn={initializeByDefault:!0},we={mount:function(t){for(var e in Cn)Cn.hasOwnProperty(e)&&!(e in t)&&(t[e]=Cn[e]);Lt.forEach(function(o){if(o.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Lt.push(t)},pluginEvent:function(t,e,o){var r=this;this.eventCanceled=!1,o.cancel=function(){r.eventCanceled=!0};var i=t+"Global";Lt.forEach(function(s){e[s.pluginName]&&(e[s.pluginName][i]&&e[s.pluginName][i](st({sortable:e},o)),e.options[s.pluginName]&&e[s.pluginName][t]&&e[s.pluginName][t](st({sortable:e},o)))})},initializePlugins:function(t,e,o,r){Lt.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,e,t.options);c.sortable=t,c.options=t.options,t[l]=c,ht(o,c.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var s=this.modifyOption(t,i,t.options[i]);typeof s<"u"&&(t.options[i]=s)}},getEventProperties:function(t,e){var o={};return Lt.forEach(function(r){typeof r.eventProperties=="function"&&ht(o,r.eventProperties.call(e[r.pluginName],t))}),o},modifyOption:function(t,e,o){var r;return Lt.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[e]=="function"&&(r=i.optionListeners[e].call(t[i.pluginName],o))}),r}};function n1(n){var t=n.sortable,e=n.rootEl,o=n.name,r=n.targetEl,i=n.cloneEl,s=n.toEl,a=n.fromEl,l=n.oldIndex,c=n.newIndex,d=n.oldDraggableIndex,u=n.newDraggableIndex,h=n.originalEvent,f=n.putSortable,m=n.extraEventProperties;if(t=t||e&&e[G],!!t){var b,x=t.options,O="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!pt&&!ye?b=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(b=document.createEvent("Event"),b.initEvent(o,!0,!0)),b.to=s||e,b.from=a||e,b.item=r||e,b.clone=i,b.oldIndex=l,b.newIndex=c,b.oldDraggableIndex=d,b.newDraggableIndex=u,b.originalEvent=h,b.pullMode=f?f.lastPutMode:void 0;var _=st(st({},m),we.getEventProperties(o,t));for(var P in _)b[P]=_[P];e&&e.dispatchEvent(b),x[O]&&x[O].call(t,b)}}var o1=["evt"],V=function(t,e){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=o.evt,i=Kg(o,o1);we.pluginEvent.bind(w)(t,e,st({dragEl:v,parentEl:I,ghostEl:E,rootEl:M,nextEl:Tt,lastDownEl:Ie,cloneEl:L,cloneHidden:vt,dragStarted:oe,putSortable:z,activeSortable:w.active,originalEvent:r,oldIndex:Rt,oldDraggableIndex:de,newIndex:X,newDraggableIndex:gt,hideGhostForTarget:$i,unhideGhostForTarget:Ai,cloneNowHidden:function(){vt=!0},cloneNowShown:function(){vt=!1},dispatchSortableEvent:function(a){H({sortable:e,name:a,originalEvent:r})}},i))};function H(n){n1(st({putSortable:z,cloneEl:L,targetEl:v,rootEl:M,oldIndex:Rt,oldDraggableIndex:de,newIndex:X,newDraggableIndex:gt},n))}var v,I,E,M,Tt,Ie,L,vt,Rt,X,de,gt,Oe,z,Ft=!1,Ye=!1,Xe=[],xt,tt,En,_n,mr,gr,oe,It,ue,he=!1,Te=!1,Fe,j,xn=[],Vn=!1,Ze=[],un=typeof document<"u",$e=gi,vr=ye||pt?"cssFloat":"float",r1=un&&!vi&&!gi&&"draggable"in document.createElement("div"),Si=function(){if(un){if(pt)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Oi=function(t,e){var o=C(t),r=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),i=Bt(t,0,e),s=Bt(t,1,e),a=i&&C(i),l=s&&C(s),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+R(i).width,d=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+R(s).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&a.float&&a.float!=="none"){var u=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===u)?"vertical":"horizontal"}return i&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=r&&o[vr]==="none"||s&&o[vr]==="none"&&c+d>r)?"vertical":"horizontal"},i1=function(t,e,o){var r=o?t.left:t.top,i=o?t.right:t.bottom,s=o?t.width:t.height,a=o?e.left:e.top,l=o?e.right:e.bottom,c=o?e.width:e.height;return r===a||i===l||r+s/2===a+c/2},s1=function(t,e){var o;return Xe.some(function(r){var i=r[G].options.emptyInsertThreshold;if(!(!i||co(r))){var s=R(r),a=t>=s.left-i&&t<=s.right+i,l=e>=s.top-i&&e<=s.bottom+i;if(a&&l)return o=r}}),o},Ti=function(t){function e(i,s){return function(a,l,c,d){var u=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(i==null&&(s||u))return!0;if(i==null||i===!1)return!1;if(s&&i==="clone")return i;if(typeof i=="function")return e(i(a,l,c,d),s)(a,l,c,d);var h=(s?a:l).options.group.name;return i===!0||typeof i=="string"&&i===h||i.join&&i.indexOf(h)>-1}}var o={},r=t.group;(!r||Le(r)!="object")&&(r={name:r}),o.name=r.name,o.checkPull=e(r.pull,!0),o.checkPut=e(r.put),o.revertClone=r.revertClone,t.group=o},$i=function(){!Si&&E&&C(E,"display","none")},Ai=function(){!Si&&E&&C(E,"display","")};un&&!vi&&document.addEventListener("click",function(n){if(Ye)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Ye=!1,!1},!0);var St=function(t){if(v){t=t.touches?t.touches[0]:t;var e=s1(t.clientX,t.clientY);if(e){var o={};for(var r in t)t.hasOwnProperty(r)&&(o[r]=t[r]);o.target=o.rootEl=e,o.preventDefault=void 0,o.stopPropagation=void 0,e[G]._onDragOver(o)}}},a1=function(t){v&&v.parentNode[G]._isOutsideThisEl(t.target)};function w(n,t){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=t=ht({},t),n[G]=this;var e={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Oi(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:w.supportPointer!==!1&&"PointerEvent"in window&&!le,emptyInsertThreshold:5};we.initializePlugins(this,n,e);for(var o in e)!(o in t)&&(t[o]=e[o]);Ti(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:r1,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?T(n,"pointerdown",this._onTapStart):(T(n,"mousedown",this._onTapStart),T(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(T(n,"dragover",this),T(n,"dragenter",this)),Xe.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ht(this,Qg())}w.prototype={constructor:w,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(It=null)},_getDirection:function(t,e){return typeof this.options.direction=="function"?this.options.direction.call(this,t,e,v):this.options.direction},_onTapStart:function(t){if(t.cancelable){var e=this,o=this.el,r=this.options,i=r.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,d=r.filter;if(m1(o),!v&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&le&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=et(l,r.draggable,o,!1),!(l&&l.animated)&&Ie!==l)){if(Rt=Q(l),de=Q(l,r.draggable),typeof d=="function"){if(d.call(this,t,l,this)){H({sortable:e,rootEl:c,name:"filter",targetEl:l,toEl:o,fromEl:o}),V("filter",e,{evt:t}),i&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(u){if(u=et(c,u.trim(),o,!1),u)return H({sortable:e,rootEl:u,name:"filter",targetEl:l,fromEl:o,toEl:o}),V("filter",e,{evt:t}),!0}),d)){i&&t.cancelable&&t.preventDefault();return}r.handle&&!et(c,r.handle,o,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,e,o){var r=this,i=r.el,s=r.options,a=i.ownerDocument,l;if(o&&!v&&o.parentNode===i){var c=R(o);if(M=i,v=o,I=v.parentNode,Tt=v.nextSibling,Ie=o,Oe=s.group,w.dragged=v,xt={target:v,clientX:(e||t).clientX,clientY:(e||t).clientY},mr=xt.clientX-c.left,gr=xt.clientY-c.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,v.style["will-change"]="all",l=function(){if(V("delayEnded",r,{evt:t}),w.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!ur&&r.nativeDraggable&&(v.draggable=!0),r._triggerDragStart(t,e),H({sortable:r,name:"choose",originalEvent:t}),Y(v,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){wi(v,d.trim(),Sn)}),T(a,"dragover",St),T(a,"mousemove",St),T(a,"touchmove",St),T(a,"mouseup",r._onDrop),T(a,"touchend",r._onDrop),T(a,"touchcancel",r._onDrop),ur&&this.nativeDraggable&&(this.options.touchStartThreshold=4,v.draggable=!0),V("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||e)&&(!this.nativeDraggable||!(ye||pt))){if(w.eventCanceled){this._onDrop();return}T(a,"mouseup",r._disableDelayedDrag),T(a,"touchend",r._disableDelayedDrag),T(a,"touchcancel",r._disableDelayedDrag),T(a,"mousemove",r._delayedDragTouchMoveHandler),T(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&T(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var e=t.touches?t.touches[0]:t;Math.max(Math.abs(e.clientX-this._lastX),Math.abs(e.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){v&&Sn(v),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;S(t,"mouseup",this._disableDelayedDrag),S(t,"touchend",this._disableDelayedDrag),S(t,"touchcancel",this._disableDelayedDrag),S(t,"mousemove",this._delayedDragTouchMoveHandler),S(t,"touchmove",this._delayedDragTouchMoveHandler),S(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||t.pointerType=="touch"&&t,!this.nativeDraggable||e?this.options.supportPointer?T(document,"pointermove",this._onTouchMove):e?T(document,"touchmove",this._onTouchMove):T(document,"mousemove",this._onTouchMove):(T(v,"dragend",this),T(M,"dragstart",this._onDragStart));try{document.selection?Re(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,e){if(Ft=!1,M&&v){V("dragStarted",this,{evt:e}),this.nativeDraggable&&T(document,"dragover",a1);var o=this.options;!t&&Y(v,o.dragClass,!1),Y(v,o.ghostClass,!0),w.active=this,t&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:e})}else this._nulling()},_emulateDragOver:function(){if(tt){this._lastX=tt.clientX,this._lastY=tt.clientY,$i();for(var t=document.elementFromPoint(tt.clientX,tt.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(tt.clientX,tt.clientY),t!==e);)e=t;if(v.parentNode[G]._isOutsideThisEl(t),e)do{if(e[G]){var o=void 0;if(o=e[G]._onDragOver({clientX:tt.clientX,clientY:tt.clientY,target:t,rootEl:e}),o&&!this.options.dragoverBubble)break}t=e}while(e=yi(e));Ai()}},_onTouchMove:function(t){if(xt){var e=this.options,o=e.fallbackTolerance,r=e.fallbackOffset,i=t.touches?t.touches[0]:t,s=E&&zt(E,!0),a=E&&s&&s.a,l=E&&s&&s.d,c=$e&&j&&fr(j),d=(i.clientX-xt.clientX+r.x)/(a||1)+(c?c[0]-xn[0]:0)/(a||1),u=(i.clientY-xt.clientY+r.y)/(l||1)+(c?c[1]-xn[1]:0)/(l||1);if(!w.active&&!Ft){if(o&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<o)return;this._onDragStart(t,!0)}if(E){s?(s.e+=d-(En||0),s.f+=u-(_n||0)):s={a:1,b:0,c:0,d:1,e:d,f:u};var h="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");C(E,"webkitTransform",h),C(E,"mozTransform",h),C(E,"msTransform",h),C(E,"transform",h),En=d,_n=u,tt=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!E){var t=this.options.fallbackOnBody?document.body:M,e=R(v,!0,$e,!0,t),o=this.options;if($e){for(j=t;C(j,"position")==="static"&&C(j,"transform")==="none"&&j!==document;)j=j.parentNode;j!==document.body&&j!==document.documentElement?(j===document&&(j=it()),e.top+=j.scrollTop,e.left+=j.scrollLeft):j=it(),xn=fr(j)}E=v.cloneNode(!0),Y(E,o.ghostClass,!1),Y(E,o.fallbackClass,!0),Y(E,o.dragClass,!0),C(E,"transition",""),C(E,"transform",""),C(E,"box-sizing","border-box"),C(E,"margin",0),C(E,"top",e.top),C(E,"left",e.left),C(E,"width",e.width),C(E,"height",e.height),C(E,"opacity","0.8"),C(E,"position",$e?"absolute":"fixed"),C(E,"zIndex","100000"),C(E,"pointerEvents","none"),w.ghost=E,t.appendChild(E),C(E,"transform-origin",mr/parseInt(E.style.width)*100+"% "+gr/parseInt(E.style.height)*100+"%")}},_onDragStart:function(t,e){var o=this,r=t.dataTransfer,i=o.options;if(V("dragStart",this,{evt:t}),w.eventCanceled){this._onDrop();return}V("setupClone",this),w.eventCanceled||(L=_i(v),L.removeAttribute("id"),L.draggable=!1,L.style["will-change"]="",this._hideClone(),Y(L,this.options.chosenClass,!1),w.clone=L),o.cloneId=Re(function(){V("clone",o),!w.eventCanceled&&(o.options.removeCloneOnHide||M.insertBefore(L,v),o._hideClone(),H({sortable:o,name:"clone"}))}),!e&&Y(v,i.dragClass,!0),e?(Ye=!0,o._loopId=setInterval(o._emulateDragOver,50)):(S(document,"mouseup",o._onDrop),S(document,"touchend",o._onDrop),S(document,"touchcancel",o._onDrop),r&&(r.effectAllowed="move",i.setData&&i.setData.call(o,r,v)),T(document,"drop",o),C(v,"transform","translateZ(0)")),Ft=!0,o._dragStartId=Re(o._dragStarted.bind(o,e,t)),T(document,"selectstart",o),oe=!0,le&&C(document.body,"user-select","none")},_onDragOver:function(t){var e=this.el,o=t.target,r,i,s,a=this.options,l=a.group,c=w.active,d=Oe===l,u=a.sort,h=z||c,f,m=this,b=!1;if(Vn)return;function x(te,ki){V(te,m,st({evt:t,isOwner:d,axis:f?"vertical":"horizontal",revert:s,dragRect:r,targetRect:i,canSort:u,fromSortable:h,target:o,completed:_,onMove:function(mo,Wi){return Ae(M,e,v,r,mo,R(mo),t,Wi)},changed:P},ki))}function O(){x("dragOverAnimationCapture"),m.captureAnimationState(),m!==h&&h.captureAnimationState()}function _(te){return x("dragOverCompleted",{insertion:te}),te&&(d?c._hideClone():c._showClone(m),m!==h&&(Y(v,z?z.options.ghostClass:c.options.ghostClass,!1),Y(v,a.ghostClass,!0)),z!==m&&m!==w.active?z=m:m===w.active&&z&&(z=null),h===m&&(m._ignoreWhileAnimating=o),m.animateAll(function(){x("dragOverAnimationComplete"),m._ignoreWhileAnimating=null}),m!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(o===v&&!v.animated||o===e&&!o.animated)&&(It=null),!a.dragoverBubble&&!t.rootEl&&o!==document&&(v.parentNode[G]._isOutsideThisEl(t.target),!te&&St(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),b=!0}function P(){X=Q(v),gt=Q(v,a.draggable),H({sortable:m,name:"change",toEl:e,newIndex:X,newDraggableIndex:gt,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),o=et(o,a.draggable,e,!0),x("dragOver"),w.eventCanceled)return b;if(v.contains(t.target)||o.animated&&o.animatingX&&o.animatingY||m._ignoreWhileAnimating===o)return _(!1);if(Ye=!1,c&&!a.disabled&&(d?u||(s=I!==M):z===this||(this.lastPutMode=Oe.checkPull(this,c,v,t))&&l.checkPut(this,c,v,t))){if(f=this._getDirection(t,o)==="vertical",r=R(v),x("dragOverValid"),w.eventCanceled)return b;if(s)return I=M,O(),this._hideClone(),x("revert"),w.eventCanceled||(Tt?M.insertBefore(v,Tt):M.appendChild(v)),_(!0);var D=co(e,a.draggable);if(!D||u1(t,f,this)&&!D.animated){if(D===v)return _(!1);if(D&&e===t.target&&(o=D),o&&(i=R(o)),Ae(M,e,v,r,o,i,t,!!o)!==!1)return O(),D&&D.nextSibling?e.insertBefore(v,D.nextSibling):e.appendChild(v),I=e,P(),_(!0)}else if(D&&d1(t,f,this)){var W=Bt(e,0,a,!0);if(W===v)return _(!1);if(o=W,i=R(o),Ae(M,e,v,r,o,i,t,!1)!==!1)return O(),e.insertBefore(v,W),I=e,P(),_(!0)}else if(o.parentNode===e){i=R(o);var rt=0,Et,Xt=v.parentNode!==e,K=!i1(v.animated&&v.toRect||r,o.animated&&o.toRect||i,f),Zt=f?"top":"left",ft=pr(o,"top","top")||pr(v,"top","top"),Jt=ft?ft.scrollTop:void 0;It!==o&&(Et=i[Zt],he=!1,Te=!K&&a.invertSwap||Xt),rt=h1(t,o,i,f,K?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Te,It===o);var lt;if(rt!==0){var _t=Q(v);do _t-=rt,lt=I.children[_t];while(lt&&(C(lt,"display")==="none"||lt===E))}if(rt===0||lt===o)return _(!1);It=o,ue=rt;var Qt=o.nextElementSibling,mt=!1;mt=rt===1;var _e=Ae(M,e,v,r,o,i,t,mt);if(_e!==!1)return(_e===1||_e===-1)&&(mt=_e===1),Vn=!0,setTimeout(c1,30),O(),mt&&!Qt?e.appendChild(v):o.parentNode.insertBefore(v,mt?Qt:o),ft&&Ei(ft,0,Jt-ft.scrollTop),I=v.parentNode,Et!==void 0&&!Te&&(Fe=Math.abs(Et-R(o)[Zt])),P(),_(!0)}if(e.contains(v))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){S(document,"mousemove",this._onTouchMove),S(document,"touchmove",this._onTouchMove),S(document,"pointermove",this._onTouchMove),S(document,"dragover",St),S(document,"mousemove",St),S(document,"touchmove",St)},_offUpEvents:function(){var t=this.el.ownerDocument;S(t,"mouseup",this._onDrop),S(t,"touchend",this._onDrop),S(t,"pointerup",this._onDrop),S(t,"touchcancel",this._onDrop),S(document,"selectstart",this)},_onDrop:function(t){var e=this.el,o=this.options;if(X=Q(v),gt=Q(v,o.draggable),V("drop",this,{evt:t}),I=v&&v.parentNode,X=Q(v),gt=Q(v,o.draggable),w.eventCanceled){this._nulling();return}Ft=!1,Te=!1,he=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qn(this.cloneId),qn(this._dragStartId),this.nativeDraggable&&(S(document,"drop",this),S(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),le&&C(document.body,"user-select",""),C(v,"transform",""),t&&(oe&&(t.cancelable&&t.preventDefault(),!o.dropBubble&&t.stopPropagation()),E&&E.parentNode&&E.parentNode.removeChild(E),(M===I||z&&z.lastPutMode!=="clone")&&L&&L.parentNode&&L.parentNode.removeChild(L),v&&(this.nativeDraggable&&S(v,"dragend",this),Sn(v),v.style["will-change"]="",oe&&!Ft&&Y(v,z?z.options.ghostClass:this.options.ghostClass,!1),Y(v,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:I,newIndex:null,newDraggableIndex:null,originalEvent:t}),M!==I?(X>=0&&(H({rootEl:I,name:"add",toEl:I,fromEl:M,originalEvent:t}),H({sortable:this,name:"remove",toEl:I,originalEvent:t}),H({rootEl:I,name:"sort",toEl:I,fromEl:M,originalEvent:t}),H({sortable:this,name:"sort",toEl:I,originalEvent:t})),z&&z.save()):X!==Rt&&X>=0&&(H({sortable:this,name:"update",toEl:I,originalEvent:t}),H({sortable:this,name:"sort",toEl:I,originalEvent:t})),w.active&&((X==null||X===-1)&&(X=Rt,gt=de),H({sortable:this,name:"end",toEl:I,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){V("nulling",this),M=v=I=E=Tt=L=Ie=vt=xt=tt=oe=X=gt=Rt=de=It=ue=z=Oe=w.dragged=w.ghost=w.clone=w.active=null,Ze.forEach(function(t){t.checked=!0}),Ze.length=En=_n=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":v&&(this._onDragOver(t),l1(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],e,o=this.el.children,r=0,i=o.length,s=this.options;r<i;r++)e=o[r],et(e,s.draggable,this.el,!1)&&t.push(e.getAttribute(s.dataIdAttr)||f1(e));return t},sort:function(t,e){var o={},r=this.el;this.toArray().forEach(function(i,s){var a=r.children[s];et(a,this.options.draggable,r,!1)&&(o[i]=a)},this),e&&this.captureAnimationState(),t.forEach(function(i){o[i]&&(r.removeChild(o[i]),r.appendChild(o[i]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return et(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var o=this.options;if(e===void 0)return o[t];var r=we.modifyOption(this,t,e);typeof r<"u"?o[t]=r:o[t]=e,t==="group"&&Ti(o)},destroy:function(){V("destroy",this);var t=this.el;t[G]=null,S(t,"mousedown",this._onTapStart),S(t,"touchstart",this._onTapStart),S(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(S(t,"dragover",this),S(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Xe.splice(Xe.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!vt){if(V("hideClone",this),w.eventCanceled)return;C(L,"display","none"),this.options.removeCloneOnHide&&L.parentNode&&L.parentNode.removeChild(L),vt=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(vt){if(V("showClone",this),w.eventCanceled)return;v.parentNode==M&&!this.options.group.revertClone?M.insertBefore(L,v):Tt?M.insertBefore(L,Tt):M.appendChild(L),this.options.group.revertClone&&this.animate(v,L),C(L,"display",""),vt=!1}}};function l1(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Ae(n,t,e,o,r,i,s,a){var l,c=n[G],d=c.options.onMove,u;return window.CustomEvent&&!pt&&!ye?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=n,l.dragged=e,l.draggedRect=o,l.related=r||t,l.relatedRect=i||R(t),l.willInsertAfter=a,l.originalEvent=s,n.dispatchEvent(l),d&&(u=d.call(c,l,s)),u}function Sn(n){n.draggable=!1}function c1(){Vn=!1}function d1(n,t,e){var o=R(Bt(e.el,0,e.options,!0)),r=xi(e.el,e.options,E),i=10;return t?n.clientX<r.left-i||n.clientY<o.top&&n.clientX<o.right:n.clientY<r.top-i||n.clientY<o.bottom&&n.clientX<o.left}function u1(n,t,e){var o=R(co(e.el,e.options.draggable)),r=xi(e.el,e.options,E),i=10;return t?n.clientX>r.right+i||n.clientY>o.bottom&&n.clientX>o.left:n.clientY>r.bottom+i||n.clientX>o.right&&n.clientY>o.top}function h1(n,t,e,o,r,i,s,a){var l=o?n.clientY:n.clientX,c=o?e.height:e.width,d=o?e.top:e.left,u=o?e.bottom:e.right,h=!1;if(!s){if(a&&Fe<c*r){if(!he&&(ue===1?l>d+c*i/2:l<u-c*i/2)&&(he=!0),he)h=!0;else if(ue===1?l<d+Fe:l>u-Fe)return-ue}else if(l>d+c*(1-r)/2&&l<u-c*(1-r)/2)return p1(t)}return h=h||s,h&&(l<d+c*i/2||l>u-c*i/2)?l>d+c/2?1:-1:0}function p1(n){return Q(v)<Q(n)?1:-1}function f1(n){for(var t=n.tagName+n.className+n.src+n.href+n.textContent,e=t.length,o=0;e--;)o+=t.charCodeAt(e);return o.toString(36)}function m1(n){Ze.length=0;for(var t=n.getElementsByTagName("input"),e=t.length;e--;){var o=t[e];o.checked&&Ze.push(o)}}function Re(n){return setTimeout(n,0)}function qn(n){return clearTimeout(n)}un&&T(document,"touchmove",function(n){(w.active||Ft)&&n.cancelable&&n.preventDefault()});w.utils={on:T,off:S,css:C,find:wi,is:function(t,e){return!!et(t,e,t,!1)},extend:Zg,throttle:Ci,closest:et,toggleClass:Y,clone:_i,index:Q,nextTick:Re,cancelNextTick:qn,detectDirection:Oi,getChild:Bt,expando:G};w.get=function(n){return n[G]};w.mount=function(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(w.utils=st(st({},w.utils),o.utils)),we.mount(o)})};w.create=function(n,t){return new w(n,t)};w.version=Yg;var F=[],re,Gn,Un=!1,On,Tn,Je,ie;function g1(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return n.prototype={dragStarted:function(e){var o=e.originalEvent;this.sortable.nativeDraggable?T(document,"dragover",this._handleAutoScroll):this.options.supportPointer?T(document,"pointermove",this._handleFallbackAutoScroll):o.touches?T(document,"touchmove",this._handleFallbackAutoScroll):T(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var o=e.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?S(document,"dragover",this._handleAutoScroll):(S(document,"pointermove",this._handleFallbackAutoScroll),S(document,"touchmove",this._handleFallbackAutoScroll),S(document,"mousemove",this._handleFallbackAutoScroll)),br(),ze(),Jg()},nulling:function(){Je=Gn=re=Un=ie=On=Tn=null,F.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,o){var r=this,i=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(i,s);if(Je=e,o||this.options.forceAutoScrollFallback||ye||pt||le){$n(e,this.options,a,o);var l=yt(a,!0);Un&&(!ie||i!==On||s!==Tn)&&(ie&&br(),ie=setInterval(function(){var c=yt(document.elementFromPoint(i,s),!0);c!==l&&(l=c,ze()),$n(e,r.options,c,o)},10),On=i,Tn=s)}else{if(!this.options.bubbleScroll||yt(a,!0)===it()){ze();return}$n(e,this.options,yt(a,!1),!1)}}},ht(n,{pluginName:"scroll",initializeByDefault:!0})}function ze(){F.forEach(function(n){clearInterval(n.pid)}),F=[]}function br(){clearInterval(ie)}var $n=Ci(function(n,t,e,o){if(t.scroll){var r=(n.touches?n.touches[0]:n).clientX,i=(n.touches?n.touches[0]:n).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=it(),c=!1,d;Gn!==e&&(Gn=e,ze(),re=t.scroll,d=t.scrollFn,re===!0&&(re=yt(e,!0)));var u=0,h=re;do{var f=h,m=R(f),b=m.top,x=m.bottom,O=m.left,_=m.right,P=m.width,D=m.height,W=void 0,rt=void 0,Et=f.scrollWidth,Xt=f.scrollHeight,K=C(f),Zt=f.scrollLeft,ft=f.scrollTop;f===l?(W=P<Et&&(K.overflowX==="auto"||K.overflowX==="scroll"||K.overflowX==="visible"),rt=D<Xt&&(K.overflowY==="auto"||K.overflowY==="scroll"||K.overflowY==="visible")):(W=P<Et&&(K.overflowX==="auto"||K.overflowX==="scroll"),rt=D<Xt&&(K.overflowY==="auto"||K.overflowY==="scroll"));var Jt=W&&(Math.abs(_-r)<=s&&Zt+P<Et)-(Math.abs(O-r)<=s&&!!Zt),lt=rt&&(Math.abs(x-i)<=s&&ft+D<Xt)-(Math.abs(b-i)<=s&&!!ft);if(!F[u])for(var _t=0;_t<=u;_t++)F[_t]||(F[_t]={});(F[u].vx!=Jt||F[u].vy!=lt||F[u].el!==f)&&(F[u].el=f,F[u].vx=Jt,F[u].vy=lt,clearInterval(F[u].pid),(Jt!=0||lt!=0)&&(c=!0,F[u].pid=setInterval((function(){o&&this.layer===0&&w.active._onTouchMove(Je);var Qt=F[this.layer].vy?F[this.layer].vy*a:0,mt=F[this.layer].vx?F[this.layer].vx*a:0;typeof d=="function"&&d.call(w.dragged.parentNode[G],mt,Qt,n,Je,F[this.layer].el)!=="continue"||Ei(F[this.layer].el,mt,Qt)}).bind({layer:u}),24))),u++}while(t.bubbleScroll&&h!==l&&(h=yt(h,!1)));Un=c}},30),Pi=function(t){var e=t.originalEvent,o=t.putSortable,r=t.dragEl,i=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(e){var c=o||i;a();var d=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,u=document.elementFromPoint(d.clientX,d.clientY);l(),c&&!c.el.contains(u)&&(s("spill"),this.onSpill({dragEl:r,putSortable:o}))}};function uo(){}uo.prototype={startIndex:null,dragStart:function(t){var e=t.oldDraggableIndex;this.startIndex=e},onSpill:function(t){var e=t.dragEl,o=t.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var r=Bt(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(e,r):this.sortable.el.appendChild(e),this.sortable.animateAll(),o&&o.animateAll()},drop:Pi};ht(uo,{pluginName:"revertOnSpill"});function ho(){}ho.prototype={onSpill:function(t){var e=t.dragEl,o=t.putSortable,r=o||this.sortable;r.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),r.animateAll()},drop:Pi};ht(ho,{pluginName:"removeOnSpill"});w.mount(new g1);w.mount(ho,uo);const yr={add:{attr:n=>{const t=window.prompt(n.message.attr);if(t&&n.isDisabled(t))return window.alert(y.get("attributeNotPermitted",t||"")),nt.add.attrs(n);let e;t&&(e=String(window.prompt(n.message.value,"")),n.addAction(t,e))},option:n=>{n.addAction()},condition:n=>{n.addAction(n)}},click:{btn:n=>{n.action()}},save:{form:me}},nt={init:function(n){const t=Object.keys(yr);return this.opts=t.reduce((e,o)=>(e[o]={...yr[o],...n[o]},e),n),this},add:{attrs:n=>nt.opts.add.attr(n),options:n=>nt.opts.add.option(n),conditions:n=>(n.template=jr(),nt.opts.add.condition(n))},click:{btn:n=>nt.opts.click.btn(n)},save:{form:n=>(nt.opts.sessionStorage&&qe.set(Ir,n),A.formeoSaved({formData:n}),nt.opts.save.form(n))}},wr=Object.freeze({type:"field",displayType:"slider"}),Pe=n=>({transform:`translateX(${n?`${n}px`:0})`});class Ni{constructor(t){g(this,"toggleTabbedLayout",()=>{this.getPanelDisplay();const t=this.isTabbed;return this.panelsWrap.parentElement.classList.toggle("tabbed-panels",t),t&&this.panelNav.removeAttribute("style"),t});g(this,"resizePanels",()=>{this.toggleTabbedLayout();const t=this.panelsWrap.style,e=p.getStyle(this.currentPanel,"height");return t.height=e,e});this.opts=At(wr,t),this.panelDisplay=this.opts.displayType,this.activePanelIndex=0,this.panelNav=this.createPanelNav();const e=this.createPanelsWrap();this.nav=this.navActions();const o=new window.ResizeObserver(([{contentRect:{width:i}}])=>{this.currentWidth!==i&&(this.toggleTabbedLayout(),this.currentWidth=i,this.nav.setTranslateX(this.activePanelIndex,!1))}),r=window.setTimeout(()=>{o.observe(e),window.clearTimeout(r)},Fr)}getPanelDisplay(){const t=this.panelsWrap,o=parseInt(p.getStyle(t,"width"))>390?"tabbed":"slider",r=this.opts.displayType==="auto";return this.panelDisplay=r?o:this.opts.displayType||wr.displayType,this.panelDisplay}createPanelsWrap(){const t=p.create({className:"panels",content:this.opts.panels.map(({config:{label:e},...o})=>o)});return this.opts.type==="field"&&this.sortableProperties(t),this.panelsWrap=t,this.panels=t.children,this.currentPanel=this.panels[this.activePanelIndex],t}sortableProperties(t){const e=this,o=t.getElementsByClassName("field-edit-group");return J.forEach(o,(r,i)=>{r.fieldId=e.opts.id,r.isSortable&&w.create(r,{animation:150,group:{name:"edit-"+r.editGroup,pull:!0,put:["properties"]},sort:!0,handle:".prop-order",onSort:s=>{e.propertySave(s.to),e.resizePanels()}})})}createPanelNavLabels(){const t=this.opts.panels.map(r=>({tag:"h5",action:{click:i=>{const s=Pt(i.target,i.target.parentElement);this.currentPanel=this.panels[s];const a=i.target.parentElement.childNodes;this.nav.refresh(s),p.removeClasses(a,"active-tab"),i.target.classList.add("active-tab")}},content:r.config.label})),e={className:"panel-labels",content:{content:t}},[o]=t;return o.className="active-tab",p.create(e)}createPanelNav(){this.labels=this.createPanelNavLabels();const t={tag:"button",attrs:{className:"next-group",title:y.get("controlGroups.nextGroup"),type:"button"},dataset:{toggle:"tooltip",placement:"top"},action:{click:o=>this.nav.nextGroup(o)},content:p.icon("triangle-right")},e={tag:"button",attrs:{className:"prev-group",title:y.get("controlGroups.prevGroup"),type:"button"},dataset:{toggle:"tooltip",placement:"top"},action:{click:o=>this.nav.prevGroup(o)},content:p.icon("triangle-left")};return p.create({tag:"nav",attrs:{className:"panel-nav"},content:[e,this.labels,t]})}get isTabbed(){return this.panelDisplay==="tabbed"}navActions(){const t={},e=this.currentPanel.parentElement,o=this.labels.firstChild,r=this.currentPanel.parentElement.childNodes;this.activePanelIndex=Pt(this.currentPanel,e);let i={nav:0,panel:0},s={...i};const a=d=>{const u=o.children;return p.removeClasses(r,"active-panel"),p.removeClasses(u,"active-tab"),this.currentPanel=r[d],this.currentPanel.classList.add("active-panel"),u[d].classList.add("active-tab"),this.currentPanel},l=d=>({nav:-o.offsetWidth*d,panel:-e.offsetWidth*d}),c=({offset:d,reset:u,duration:h=fe,animate:f=!this.isTabbed})=>{const m=[Pe(s.panel),Pe(d.panel)],b=[Pe(s.nav),Pe(this.isTabbed?0:d.nav)];if(u){const[P]=m,[D]=b;m.push(P),b.push(D)}const x={easing:"ease-in-out",duration:f?h:0,fill:"forwards"},O=e.animate(m,x);o.animate(b,x);const _=()=>{this.panelsWrap.style.height=p.getStyle(this.currentPanel,"height"),O.removeEventListener("finish",_),u||(s=d)};O.addEventListener("finish",_)};return t.setTranslateX=(d,u=!0)=>{i=l(d||this.activePanelIndex),c({offset:i,animate:u})},t.refresh=d=>{d!==void 0&&(this.activePanelIndex=d,a(d)),this.resizePanels(),t.setTranslateX(this.activePanelIndex,!1)},t.nextGroup=()=>{const d=this.activePanelIndex+1;if(d!==r.length){const u=a(d);i={nav:-o.offsetWidth*d,panel:-u.offsetLeft},c({offset:i}),this.activePanelIndex++}else i={nav:s.nav-8,panel:s.panel-8},c({offset:i,reset:!0});return this.currentPanel},t.prevGroup=()=>{if(this.activePanelIndex!==0){const d=this.activePanelIndex-1,u=a(d);i={nav:-o.offsetWidth*d,panel:-u.offsetLeft},c({offset:i}),this.activePanelIndex--}else i={nav:8,panel:8},c({offset:i,reset:!0})},t}}const Ne="f-autocomplete",Me="highlight-component";let Cr=Date.now(),An;const v1=(n,t)=>n.reduce((e,o)=>e+(o===t),0),Mi=({name:n,id:t,...e})=>["config.label","attrs.id","meta.id"].reduce((s,a)=>(s||(s=e.get(a)),s),null)||n==="external"&&((...s)=>y.get(s.join("."))||wt(s.join(" ")))(n,t),b1=n=>{const t=[],e=$.flatList();return Object.entries(e).map(([r,i])=>{const s=Mi(i);if(s){const a={tag:"span",content:` ${wt(i.name)}`,className:"component-type"},l=`${i.name}.${s}`;t.push(l);const c=v1(t,l),d={tag:"span",content:c>1&&`(${c})`,className:"component-label-count"};return p.makeOption([r,[`${s} `,d,a]],n)}}).filter(Boolean)};class y1{constructor(t,e,o){this.key=t,this.className=t.replace(/\./g,"-"),this.value=e,this.events=[],this.i18nKey=o,this.build()}build(){const t=o=>{const r=this.list,i=this.getActiveOption();let a=new Map([[38,()=>{const l=this.getPreviousOption(i);l&&this.selectOption(l)}],[40,()=>{const l=this.getNextOption(i);l&&this.selectOption(l)}],[13,()=>{i&&(this.selectOption(i),this.setValue(i),r.style.display==="none"?this.showList(i):this.hideList()),o.preventDefault()}],[27,()=>{this.hideList()}]]).get(o.keyCode);return a||(a=()=>!1),a()},e={focus:({target:o})=>{this.updateOptions(),o.parentElement.classList.add(`${this.className}-focused`);const r=p.toggleElementsByStr(this.list.querySelectorAll("li"),o.value);o.addEventListener("keydown",t);const i=this.list.querySelector(".active-option")||r[0];this.showList(i)},blur:({target:o})=>{o.parentElement.classList.remove(`${this.className}-focused`),o.removeEventListener("keydown",t),this.hideList()},input:o=>{const r=p.toggleElementsByStr(this.list.querySelectorAll("li"),o.target.value);if(o.target.value.length===0&&this.clearValue(),r.length===0)this.hideList();else{const i=this.getActiveOption()||r[0];this.showList(i)}this.hiddenField.value=o.target.value,this.value=o.target.value,this.runEvent("onChange",{target:this.hiddenField})}};return this.displayField=p.create({tag:"input",autocomplete:"off",action:e,attrs:{type:"text",className:`${Ne}-display-field`,value:this.label||this.value,placeholder:y.get(`${this.i18nKey}.${this.key}.placeholder`)}}),this.hiddenField=p.create({tag:"input",attrs:{type:"hidden",className:this.className,value:this.value}}),this.list=p.create({tag:"ul",attrs:{className:`${Ne}-list`}}),this.dom=p.create({children:[this.displayField,this.hiddenField,this.list],className:this.className,action:{onRender:()=>{const o=this.value&&$.getAddress(this.value);this.label=o&&Mi(o),this.label&&(this.displayField.value=this.label),this.updateOptions()}}}),this.dom}updateOptions(){const t=Date.now();t-Cr>Fr&&(p.empty(this.list),this.generateOptions(),Cr=t),(An||this.generateOptions()).forEach(o=>this.list.appendChild(o))}generateOptions(){const t=b1(),e=o=>{const r=`${Ne}-list-item`;return o.classList.contains(r)||(o=o.parentElement),o};return An=t.map(o=>{const r=o.value;let[i]=o.label;i=i.trim();const s={tag:"li",children:o.label,dataset:{value:r,label:i},className:`${Ne}-list-item`,action:{mousedown:({target:a})=>{a=e(a),this.setValue(a),this.selectOption(a),this.hideList()},mouseover:({target:a})=>{a=e(a),this.removeHighlight(),this.highlightComponent(a)}}};return p.create(s)}),An}hideList(t=this.list){B.slideUp(t,fe),this.removeHighlight()}showList(t,e=this.list){this.selectOption(t),B.slideDown(e,fe)}getActiveOption(t=this.list){const e=t.getElementsByClassName("active-option")[0];return e&&e.style.display!=="none"?e:null}getPreviousOption(t){let e=t;do e=e?e.previousSibling:null;while(e!=null&&e.style.display==="none");return e}getNextOption(t){let e=t;do e=e?e.nextSibling:null;while(e!=null&&e.style.display==="none");return e}selectOption(t,e=this.list){const o=e.querySelectorAll("li");for(let r=0;r<o.length;r++){const{dataset:{value:i}}=o[r];if(o[r].classList.remove("active-option"),i){const s=$.getAddress(i);s.dom&&s.dom.classList.remove(Me)}}t&&(t.classList.add("active-option"),this.highlightComponent(t))}removeHighlight(){const t=document.getElementsByClassName(Me);for(let e=0;e<t.length;e++)t[e].classList.remove(Me)}highlightComponent(t){const{dataset:{value:e}}=t;if(e){const o=$.getAddress(e);o.dom&&o.dom.classList.add(Me)}}clearValue(){this.selectOption(null),this.displayField.value="",this.hiddenField.value="",this.value="",this.runEvent("onChange",{target:this.hiddenField})}setValue(t){const{label:e,value:o}=t.dataset;this.displayField.value=e,this.hiddenField.value=o,this.value=o,this.runEvent("onChange",{target:this.hiddenField})}addEvent(t,e){this.events.push([t,e])}runEvent(t,e){this.events.forEach(([o,r])=>{o===t&&r(e)})}}const w1=n=>{const t=Ge(n),e={"field.property":ae,...wa},r=t?(i=>$.getAddress(i).getData())(n):e[n];return Object.keys(r).reduce((i,s)=>(i[s]=s,i),{})},Er=(n,t)=>{const e=w1(n);return Object.entries(e).reduce((o,[r,i])=>{if(r!=="id"){const s={tag:"option",content:y.get(`${n}.${r}`)||r.toLowerCase(),attrs:{value:i}};t===i&&(s.attrs.selected=!0),o.push(p.create(s))}return o},[])},_r=(n,t)=>{p.empty(n),t.forEach(e=>n.add(e))},Pn=({key:n,value:t,type:e="text",checked:o})=>{const r={tag:"input",attrs:{type:e,value:t,placeholder:y.get(`${n}.placeholder`)||wt(n)},className:n.replace(/\./g,"-"),config:{}};return o&&(r.attrs.checked=!0),r},Di=n=>{const t=y.get(n);if(t)return t;const e=n.split(".");return y.get(e[e.length-1])},se={autocomplete:(n,t,e)=>new y1(n,t,e),string:(n,t)=>Pn({key:n,value:t}),boolean:(n,t)=>Pn({key:n,value:t,type:n==="selected"?"radio":"checkbox",checked:t}),number:(n,t)=>Pn({key:n,value:t,type:"number"}),array:(n,t=[])=>({tag:"select",attrs:{placeholder:Di(`placeholder.${n}`)},className:n.replace(/\./g,"-"),options:t}),object:n=>Object.entries(n).map(([t,e])=>se[p.childType(e)](t,e))},C1=["selected","checked"],E1={boolean:(n,t)=>({click:({target:{checked:e}})=>{var o,r;((r=(o=t.data)==null?void 0:o.attrs)==null?void 0:r.type)==="radio"&&t.set("options",t.data.options.map(i=>({...i,selected:!1}))),t.set(n,e),t.updatePreview()}}),string:(n,t)=>({input:({target:{value:e}})=>{t.set(n,e)}}),number:(n,t)=>({input:({target:{value:e}})=>{t.set(n,Number(e)),t.updatePreview()}}),array:(n,t)=>({change:({target:{value:e}})=>{t.set(n,e),t.updatePreview()}}),object:()=>({})};class De{constructor({key:t,data:e,index:o,field:r}){g(this,"generateConditionFields",(t,e)=>{const o={tag:"label",className:`condition-label ${t}-condition-label`,content:y.get(t)||t};return e.map((r,i)=>{const s=[],a=Object.entries(r).map(([c,d])=>{const u=this.conditionInput(c,d,t,i);return u&&s.push([u.className,d.trim()].filter(Boolean).join("-")),u}).filter(Boolean),l=ge(a,ya.map(c=>`condition-${c}`),"className||dom.className");return this.processConditionUIState(l),i||l.unshift(o),this.itemFieldGroups.push(l),{children:l,className:`f-condition-row ${t}-condition-row ${s.join(" ")}`}})});g(this,"processConditionUIState",t=>{const e=s=>(s=s.split("|"),t.filter(a=>s.includes(a.className))),o=s=>{s=Array.isArray(s)?s:[s];const a=setTimeout(()=>{s.forEach(l=>{l.dom&&(l=l.dom),l.style.display="none"}),clearTimeout(a)},ot)},r=s=>{s=Array.isArray(s)?s:[s];const a=setTimeout(()=>{s.forEach(l=>{l.dom&&(l=l.dom),l.removeAttribute("style")}),clearTimeout(a)},ot)},i=new Map([["condition-source",s=>{const a=e("condition-sourceProperty"),l=a[0],c=Ge(s.value)?s.value:"field.property",d=Er(c,l.value);return _r(l,d),s.value?r(a):o(a)}],["condition-target",s=>{const a=e("condition-targetProperty");return bt(s.value)&&s.value?r(a):o(a)}],["condition-sourceProperty",s=>{const a=e("condition-comparison|condition-targetProperty|condition-target"),l=s.value,c=l.substring(l.lastIndexOf(".")+1,l.length);return Lp(c)?o(a):r(a)}]]);t.forEach(s=>{const a=i.get(s.className);a&&a(s)})});g(this,"conditionInput",(t,e,o,r)=>{const i=this.field,s=`${this.itemKey}.${o}.${r}`,a=`${this.field.id}.${s}`,l=`${i.name}s.${a}.${t}`,c=(f,m,b)=>{const x=Er(b||f,m),O=se.array(`condition.${f}`);O.action={change:d,onRender:P=>d({target:P})};const _=p.create(O);return _r(_,x),_},d=({target:f})=>{const m=f.closest(".f-condition-row"),b=new RegExp(`${f.className}(?:\\S?)+`,"gm");m.className=m.className.replace(b,""),m.classList.add([f.className,f.value].filter(Boolean).join("-"));const x={dataPath:l,value:f.value,src:f};A.formeoUpdated(x),$.setAddress(l,f.value);const O=f.closest(".f-condition-row"),_=Pt(O);this.processConditionUIState(this.itemFieldGroups[_])},u={comparison:f=>c("comparison",f),logical:f=>c("logical",f),source:(f,m="source")=>{const b=se.autocomplete(`condition.${m}`,f,o);return $.setConditionMap(f,i),b.addEvent("onChange",x=>{$.removeConditionMap($.getAddress(l)),d(x),$.setConditionMap(x.target.value,i)}),b},sourceProperty:f=>c("sourceProperty",f,"field.property"),targetProperty:f=>c("targetProperty",f,"field.property"),target:f=>u.source(f,"target"),value:f=>{const m=se.string("condition.value",f);return m.action={input:d},p.create(m)},assignment:f=>c("assignment",f)};if(u[t])return u[t](e);console.error(`${t}: invalid condition attribute`)});this.itemValues=ge(Object.entries(e),C1,"0");const[i,s]=t.split(".");this.field=r,this.itemKey=t,this.itemIndex=o,this.panelName=i,this.isDisabled=r.isDisabledProp(s,i),this.isHidden=this.isDisabled&&r.config.panels[i].hideDisabled,this.isLocked=r.isLockedProp(s,i),this.dom=p.create({tag:"li",className:[`field-${t.replace(/\./g,"-")}`,"prop-wrap",this.isHidden&&"hidden-property"],children:{className:"field-prop",children:[this.itemInputs,this.itemControls]}})}get itemInputs(){return this.itemFieldGroups=[],{className:`${this.panelName}-prop-inputs prop-inputs f-input-group`,children:this.itemValues.map(([e,o])=>{let r=this.panelName==="conditions"?this.generateConditionFields(e,o):this.itemInput(e,o);return["selected","checked"].includes(e)&&(r={className:"f-addon",children:r}),r})}}get itemControls(){if(this.isLocked)return{className:`${this.panelName}-prop-controls prop-controls`,content:[]};const t={tag:"button",attrs:{type:"button",className:"prop-remove prop-control"},action:{click:()=>{B.slideUp(this.dom,250,o=>{this.field.remove(this.itemKey),p.remove(o),this.field.resizePanelWrap()})}},content:p.icon("remove")};return{className:`${this.panelName}-prop-controls prop-controls`,content:[t]}}itemInput(t,e){const o=p.childType(e)||"string",r=Object.assign({},{config:{},attrs:{}},se[o](t,e)),i=this.itemKey.replace(/.\d+$/,c=>`${c}.${t}`),s=i.split(".").filter(isNaN).join("."),[a,l]=[[...this.itemKey.split("."),t],[t]].map(c=>[this.field.id,...c].filter(Boolean).join("-"));return r.config=Object.assign({},r.config,{label:this.panelName!=="options"&&Di(s),labelAfter:!1}),r.attrs=Object.assign({},r.attrs,{name:r.attrs.type==="checkbox"?`${l}[]`:l,id:a,disabled:this.isDisabled,locked:this.isLocked}),r.action={...E1[o](i,this.field)},r}}class _1{constructor(t,e,o){g(this,"addAttribute",(t,e)=>{const o=qo(t),r=`attrs.${o}`;y.current[r]||y.put(r,ui(t)),typeof e=="string"&&["true","false"].includes(e)&&(e=JSON.parse(e)),this.field.set(`attrs.${t}`,e);const i=this.props.querySelector(`.field-attrs-${o}`),s=new De({key:r,data:{[o]:e},field:this.field});i?this.props.replaceChild(s.dom,i):this.props.appendChild(s.dom),this.field.resizePanelWrap()});g(this,"addOption",()=>{const t=this.field.data.meta.id,e=this.field.get("options"),o=t==="select"?"option":t,r=y.get("newOptionLabel",{type:o})||"New Option",i=`options.${this.data.length}`,a={...e.length?ci(e[e.length-1]):{},label:r,value:qo(r)},l=new De({key:i,data:a,field:this.field,index:this.props.children.length});this.editPanelItems.push(l),this.props.appendChild(l.dom),this.field.set(i,a),this.field.resizePanelWrap()});g(this,"addCondition",t=>{const o=`conditions.${this.field.get("conditions").length}`,r=this.props.querySelector(`.field-${o.replace(".","-")}`),i=new De({key:o,data:t.template,field:this.field});r?this.props.replaceChild(i.dom,r):this.props.appendChild(i.dom),this.field.set(o,t.template),this.field.resizePanelWrap()});this.type=p.childType(t),this.data=this.type==="object"?Object.entries(t):t,this.name=e,this.field=o,this.panelConfig=this.getPanelConfig(this.data)}getPanelConfig(t){return this.props=this.createProps(t),this.editButtons=this.createEditButtons(),{id:`${this.field.id}-${this.name}-panel`,config:{label:y.get(`panel.label.${this.name}`)},attrs:{className:`f-panel ${this.name}-panel`},children:[this.props,this.editButtons]}}createProps(t){this.editPanelItems=Array.from(t).map((o,r)=>{const i=this.type==="array",s=[this.name,i?String(r):o[0]].join("."),a=i?o:{[o[0]]:o[1]};return new De({key:s,data:a,field:this.field})});const e={tag:"ul",attrs:{className:["field-edit-group",`field-edit-${this.name}`]},editGroup:this.name,isSortable:this.name==="options",content:this.editPanelItems};return p.create(e)}createEditButtons(){const t=this,e=this.name,o=y.get(`panelEditButtons.${e}`),r={attrs:t.addAttribute,options:t.addOption,conditions:t.addCondition};return{className:"panel-action-buttons",content:[{...p.btnTemplate({content:o,title:o}),className:`add-${e}`,action:{click:a=>{const l={btnCoords:p.coords(a.target),addAction:r[e]};e==="attrs"&&(l.isDisabled=t.field.isDisabledProp,l.isLocked=t.field.isLockedProp,l.message={attr:y.get(`action.add.${e}.attr`),value:y.get(`action.add.${e}.value`)});const c=wt(e),d=new window.CustomEvent(`onAdd${c}`,{detail:l});nt.add[e](l),document.dispatchEvent(d)}}}]}}}class Ce extends lo{constructor(e,o={},r){super(e,{...o,id:o.id||U()});g(this,"mutationHandler",e=>e.map(o=>{}));g(this,"remove",e=>{if(e){const i=e.split("."),s=i.pop(),a=this.get(i);return Array.isArray(a)?di(s)?a.splice(Number(s),1):this.set(i,a.filter(l=>l!==s)):delete a[s],a}if(this.name==="stage")return null;const o=this.parent,r=this.children;return dn(r,i=>i.remove()),this.dom.parentElement.removeChild(this.dom),Dp($.getAddress(`${o.name}s.${o.id}.children`),this.id),o.children.length||o.emptyClass(),o.name==="row"&&o.autoColumnWidths(),$[`${this.name}s`].delete(this.id)});g(this,"emptyClass",()=>this.dom.classList.toggle("empty",!this.children.length));g(this,"getComponentTag",()=>p.create({tag:"span",className:["component-tag",`${this.name}-tag`],children:[(this.isColumn||this.isField)&&p.icon("component-corner",["bottom-left"]),p.icon(`handle-${this.name}`),wt(this.name),(this.isColumn||this.isRow)&&p.icon("component-corner",["bottom-right"])].filter(Boolean)}));g(this,"removeClasses",e=>{const o={string:()=>this.dom.classList.remove(e),array:()=>e.map(r=>this.dom.classList.remove(r))};return o.object=o.string,o[p.childType(e)](this.dom)});g(this,"loadChildren",(e=this.data.children)=>e.map(o=>this.addChild({id:o})));g(this,"saveChildOrder",()=>{if(this.render)return;const e=this.children.map(({id:o})=>o);return this.set("children",e),e});g(this,"onSort",()=>this.saveChildOrder());g(this,"onEnd",({to:{parentElement:e},from:{parentElement:o}})=>{e==null||e.classList.remove(`hovering-${q(e)}`),o==null||o.classList.remove(`hovering-${q(o)}`)});g(this,"runConditions",()=>{const e=this.get("conditions");return e!=null&&e.length?e.map(r=>{const i=this.processConditions(r.if),s=this.processResults(r.then);return i.map(a=>this.evaluateConditions(a)&&this.execResults(s))}):null});g(this,"value",(e,o)=>{const r=e.split("."),i=this.getComponent(e),s=i&&r.slice(2,r.length).join(".");return[!i,!s,!ae[s]].some(Boolean)?e:o?i.set(ae[s],o):i.get(ae[s])});g(this,"getResult",e=>({"=":(r,i,s)=>r.set(i,s)})[e]);g(this,"processResults",e=>e.map(({operator:o,target:r,value:i})=>{const s=this.getComponent(r),a=s&&r.split(".").slice(2,r.length).join(".");return{target:s,propertyPath:a,action:this.getResult(o),value:this.value(i)}}));g(this,"execResults",e=>{const o=e.map(r=>this.execResult(r));return Promise.all(o)});g(this,"execResult",({target:e,action:o,value:r,propertyPath:i})=>new Promise((s,a)=>{try{return s(o(e,r))}catch(l){return a(l)}}));g(this,"createChildWrap",e=>p.create({tag:"ul",attrs:{className:"children"},children:e}));this.id=this.data.id,this.name=e,this.config=$[`${this.name}s`].config,At(this.config,o.config),this.dataPath=`${this.name}s.${this.id}.`,this.observer=new MutationObserver(this.mutationHandler),this.render=r}observe(e){this.observer.disconnect(),this.observer.observe(e,{childList:!0})}get js(){return this.data}get json(){return this.data}empty(){const e=this.children.map(o=>o.remove());return this.data.children=this.data.children.filter(o=>e.indexOf(o)===-1),this.dom.classList.add("empty"),e}getActionButtons(){const e=[`hovering-${this.name}`,"hovering"];return{className:[`${this.name}-actions`,"group-actions"],action:{mouseenter:({target:o})=>{$.stages.active.dom.classList.add(`active-hover-${this.name}`),this.dom.classList.add(...e)},mouseleave:({target:o})=>{this.dom.classList.remove(...e),$.stages.active.dom.classList.remove(`active-hover-${this.name}`),o.removeAttribute("style")}},children:[{...p.btnTemplate({content:p.icon(`handle-${this.name}`)}),className:["component-handle",`${this.name}-handle`]},{className:["action-btn-wrap",`${this.name}-action-btn-wrap`],children:this.buttons}]}}toggleEdit(e=!this.isEditing){this.isEditing=e;const o=this.dom,r="editing",i=`${r}-${this.name}`,s=this.dom.querySelector(`.${this.name}-edit`);B.slideToggle(s,ot,e),this.name==="field"&&(B.slideToggle(this.preview,ot,!e),o.parentElement.classList.toggle(`column-${i}`,e)),o.classList.toggle(r,e),o.classList.toggle(i,e)}get buttons(){const e=this;if(this.actionButtons)return this.actionButtons;const o={handle:(l=`handle-${this.name}`)=>({...p.btnTemplate({content:p.icon(l)}),className:["component-handle"]}),move:(l="move")=>({...p.btnTemplate({content:p.icon(l)}),className:["item-move"],meta:{id:"move"}}),edit:(l="edit")=>({...p.btnTemplate({content:p.icon(l)}),className:["item-edit-toggle"],meta:{id:"edit"},action:{click:c=>{e.toggleEdit()}}}),remove:(l="remove")=>({...p.btnTemplate({content:p.icon(l)}),className:["item-remove"],meta:{id:"remove"},action:{click:(c,d)=>{B.slideUp(e.dom,ot,()=>{e.name==="column"&&e.parent.autoColumnWidths(),e.remove()})}}}),clone:(l="copy")=>({...p.btnTemplate({content:p.icon(l)}),className:["item-clone"],meta:{id:"clone"},action:{click:()=>{this.clone(this.parent),this.name==="column"&&this.parent.autoColumnWidths()}}})},{buttons:r,disabled:i}=this.config.actionButtons,a=r.filter(l=>!i.includes(l)).map(l=>{var c;return((c=o[l])==null?void 0:c.call(o))||l});return this.actionButtons=a,this.actionButtons}get index(){return Pt(this.dom)}get parentType(){return ia.get(this.name)}get parent(){const e=this.parentType;if(!this.dom||!e)return null;const o=this.dom.closest(`.${Zn[e]}`);return o&&p.asComponent(o)}get children(){if(!this.dom)return[];const e=this.domChildren,o=So.get(this.name);return ao(e,r=>$.getAddress(`${o}s.${r.id}`)).filter(Boolean)}get domChildren(){const e=this.dom.querySelector(".children");return e?e.children:[]}addChild(e={},o=this.domChildren.length){typeof e!="object"&&(e={id:e});const r=this.dom.querySelector(".children"),{id:i=U()}=e,s=So.get(this.name);if(!s)return null;const a=`${s}s`,l=$.getAddress(`${a}.${i}`)||$[a].add(i,e);r.insertBefore(l.dom,r.children[o]);const c=l.get("children");return c!=null&&c.length&&l.loadChildren(c),this.removeClasses("empty"),this.saveChildOrder(),l}onAdd({from:e,to:o,item:r,newIndex:i}){var f;const s=this;e.classList.contains($t)||(e=e.parentElement);const a=q(e),l=q(o.parentElement),c=()=>{s.saveChildOrder(),s.removeClasses("empty")},d=new Map([[-2,()=>{const m=s.addChild({},i).addChild();return m.addChild.bind(m)}],[-1,()=>{const m=s.addChild({},i);return m.addChild.bind(m)}],[0,()=>s.addChild.bind(s)],[1,m=>{const b=Pt(s.dom);return()=>s.parent.addChild(m,b+1)}],[2,m=>()=>s.parent.parent.addChild(m)]]),u={controls:()=>{const{controlData:m}=ve.get(r.id),{meta:{id:b}}=m,x=b.startsWith("layout-")?b.replace(/^layout-/,""):"field",_=Z({stage:{row:0,column:-1,field:-2},row:{row:1,column:0,field:-1},column:{row:2,column:1,field:0},field:1},`${s.name}.${x}`),P=d.get(_)();return p.remove(r),P(m,i)},row:()=>{const m={stage:-1,row:0,column:1},b=(d.get(m[l])||me)();return b==null?void 0:b({id:r.id},i)},column:()=>{const m={stage:-2,row:-1},b=(d.get(m[l])||me)();return b==null?void 0:b(r.id)}},h=(f=u[a])==null?void 0:f.call(u,r,i);return c(),h}onRemove({from:{parentElement:e}}){return e.classList.contains(ut)&&e.classList.remove("column-editing-field"),this.name!=="stage"&&!this.children.length?this.remove():(this.emptyClass(),this.saveChildOrder())}onRender(){const{events:e}=this.config;if(!e)return null;e.onRender&&p.onRender(this.dom,e.onRender)}set config(e){const o=Z(this.data,"meta.id"),r=Z(e,"all"),i=o&&Z(e,o),s=Z(e,this.id),a=[r,i,s].reduce((l,c)=>c?At(l,c):l,this.configVal);this.configVal=a}get config(){return this.configVal}getComponent(e){const[o,r]=e.split("."),i=$[o];return r===this.id?this:i==null?void 0:i.get(r)}cloneData(){const e={...Ht(this.data),id:U()};return this.name!=="field"&&(e.children=[]),e}clone(e=this.parent){const o=e.addChild(this.cloneData(),this.index+1);return this.name!=="field"&&this.cloneChildren(o),o}cloneChildren(e){this.children.forEach(o=>o==null?void 0:o.clone(e))}get isRow(){return this.name===pn.row}get isColumn(){return this.name===pn.column}get isField(){return this.name===pn.field}}const x1=()=>({conditions:[jr()]});class Li extends Ce{constructor(e=Object.create(null)){super("field",{...x1(),...e});g(this,"updateConditionsPanel",()=>{const e=setTimeout(()=>{const o=this.editPanels.find(({name:s})=>s==="conditions");if(!o)return null;const r=o.createProps(),i=this.dom.querySelector(".field-edit-conditions");i.parentElement.replaceChild(r,i),clearTimeout(e)},ot)});g(this,"updatePreview",ii(()=>{if(!this.preview.parentElement)return null;this.updateLabel();const e=p.create(this.fieldPreview(),!0);this.preview.parentElement.replaceChild(e,this.preview),this.preview=e},ot));g(this,"isDisabledProp",(e,o="attrs")=>{const r=this.config.panels[o];return r?r.disabled.concat(this.get(`config.disabled${wt(o)}`)).includes(e):!1});g(this,"isLockedProp",(e,o="attrs")=>{const r=this.config.panels[o];return r?r.locked.concat(this.get(`config.locked${wt(o)}`)).includes(e):!1});this.label=p.create(this.labelConfig),this.preview=p.create(this.fieldPreview()),this.editPanels=[];const o=this.getActionButtons(),r=this.actionButtons.some(s=>{var a;return((a=s.meta)==null?void 0:a.id)==="edit"});let i={tag:"li",attrs:{className:Vt},id:this.id,children:[this.label,this.getComponentTag(),o,r&&this.fieldEdit,this.preview].filter(Boolean),panelNav:this.panelNav,dataset:{hoverTag:y.get("field")}};i=p.create(i),this.observe(i),this.dom=i,this.isEditing=!1,this.onRender(i)}get labelConfig(){if(!!this.get("config.hideLabel"))return;const o=this.get("config.editorLabel")||this.get("config.label"),r=this.get("attrs.required"),i=this.config.label.disableHTML;return{className:"prev-label",children:[{...(()=>{const c={tag:"label",attrs:{}};return i?(c.tag="input",c.attrs.value=o,c):(c.attrs.contenteditable=!0,c.children=o,c)})(),action:{input:({target:{innerHTML:c,innerText:d,value:u}})=>{super.set("config.label",i?u:c);const h=$.getConditionMap(`fields.${this.id}`);if(h)return h.updateConditionSourceLabel(`${this.name}s.${this.id}`,i?u:d)}}},r&&p.requiredMark()]}}updateConditionSourceLabel(e,o){const r=this.editPanels.find(({name:i})=>i==="conditions");if(!r)return null;r.editPanelItems.forEach(({itemFieldGroups:i})=>{i.forEach(s=>{const a=s.find(l=>l.value===e);a&&(a.displayField.value=o)})})}set(...e){const[o,r]=e,i=super.set(o,r);return this.updatePreview(),i}updateLabel(){if(!this.label)return null;const e=p.create(this.labelConfig);this.label.parentElement.replaceChild(e,this.label),this.label=e}get fieldEdit(){const e=this;this.editPanels=[];const o=["object","array"],r=["config","meta","action","events",...this.config.panels.disabled],s=jt([...this.config.panels.order,...Object.keys(this.data)]).filter(d=>!r.includes(d)),a={className:["field-edit","slide-toggle","formeo-panels-wrap"]};s.forEach(d=>{const u=this.get(d),h=p.childType(u);if(o.includes(h)){const f=new _1(u,d,this);this.editPanels.push(f)}});const l={panels:this.editPanels.map(({panelConfig:d})=>d),id:e.id,displayType:"auto"},c=this.editPanels.length;return c&&(this.panels=new Ni(l),a.className.push(`panel-count-${c}`),a.content=[this.panels.panelNav,this.panels.panelsWrap],this.panelNav=this.panels.nav,this.resizePanelWrap=this.panels.nav.refresh,a.action={onRender:()=>{if(this.resizePanelWrap(),!c){const d=this.dom,u=d.querySelector(".item-edit-toggle"),h=d.querySelector(".field-actions"),f=h.getElementsByTagName("button");h.style.maxWidth=`${f.length*f[0].clientWidth}px`,p.remove(u)}}}),a}fieldPreview(){var r;const e=Ht(this.data);return e.id=`prev-${this.id}`,(r=this.data)!=null&&r.config.editableContent&&(e.attrs={...e.attrs,contenteditable:!0}),{attrs:{className:"field-preview",style:this.isEditing&&"display: none;"},content:p.create(e,!0),action:{change:i=>{const{target:s}=i,{checked:a,type:l}=s;if(["checkbox","radio"].includes(l)){const c=+s.id.split("-").pop();l==="radio"&&this.set("options",this.get("options").map(u=>({...u,selected:!1})));const d=l==="checkbox"?"checked":"selected";this.set(`options.${c}.${d}`,a)}},click:i=>{i.target.contentEditable==="true"&&i.preventDefault()},input:i=>{["input","meter","progress","button"].includes(this.data.tag)&&super.set("attrs.value",i.target.value),i.target.contentEditable&&super.set("content",i.target.innerHTML)}}}}}const Qe={js:[],css:[]},Ii=n=>new Promise((t,e)=>{if(Qe.js.includes(n))return t(n);const o=p.create({tag:"script",attrs:{type:"text/javascript",async:!0,src:`//${(void 0).src}`},action:{load:()=>{Qe.js.push(n),t(n)},error:()=>e(new Error(`${(void 0).src} failed to load.`))}}),r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(o,r)}),Fi=n=>{n=Array.isArray(n)?n:[n];const t=n.map(e=>new Promise((o,r)=>{if(Qe.css.includes(e))return o(e);function i(){this.removeEventListener("load",i),this.rel="stylesheet",Qe.css.push(e),o(e)}const s=p.create({tag:"link",attrs:{rel:"preload",href:e,as:"style"},action:{load:i,error:()=>r(new Error(`${(void 0).src} failed to load.`))}});document.head.appendChild(s)}));return Promise.all(t)},Nn=n=>(typeof n=="string"?Promise.resolve(n):n.text()).then(e=>{const o="formeo-sprite";let r=document.getElementById(o);return r||(r=p.create({id:o,children:e,attrs:{hidden:!0,style:"display: none;"}}),document.body.insertBefore(r,document.body.childNodes[0])),r}),S1=n=>{const t=Array.isArray(n)?xo.filter(({name:e})=>n.indexOf(e)!==-1):xo;return Promise.all(t.map(({src:e})=>Ii(e)))},xr=(n,t,e=Ip)=>new Promise((o,r)=>fetch(n).then(i=>o(t?t(i):i)).catch(i=>r(new Error(e(i))))),O1={js:Ii,css:Fi};class k{constructor({events:t={},dependencies:e={},...o}={}){g(this,"parsedHtml",t=>{const e=document.createElement("textarea");return e.innerHTML=t,e.textContent});this.events=t,this.controlData=o,this.depsLoaded=this.fetchDependencies(e)}onRenderPreview(){}fetchDependencies(t,e=!0){const o=Object.entries(t).map(([r,i])=>O1[r](i));return Promise.all(o)}on(t){const e={prerender:me,renderComponent:me,render:o=>{const r=()=>{this.onRender&&this.onRender(o)};this.depsLoaded.then(()=>{r()})}};return t?e[t]:e}static i18n(t,e){const o=this.definition;let r=o.i18n||{};const i=r.locale;r=r[i]||r.default||r;const s=typeof r=="object"?r[t]:r;if(s)return s;let a=o.i18n;return typeof a=="object"&&(a=a[t]),r.get(a,e)}}const T1={config:{label:"row"},meta:{group:"layout",icon:"rows",id:"layout-row"}},$1={config:{label:"column"},meta:{group:"layout",icon:"columns",id:"layout-column"}},A1=[T1,$1];class P1 extends k{constructor(){const t={tag:"input",attrs:{type:"hidden",value:""},config:{label:y.get("hidden"),hideLabel:!0},meta:{group:"common",icon:"hidden",id:"hidden"}};super(t)}}class N1 extends k{constructor(){const t={tag:"input",attrs:{type:"number",required:!1,className:""},config:{label:y.get("number")},meta:{group:"common",icon:"hash",id:"number"}};super(t)}}class M1 extends k{constructor(){const t={tag:"textarea",config:{label:y.get("controls.form.textarea")},meta:{group:"common",icon:"textarea",id:"textarea"},attrs:{required:!1}};super(t)}}class D1 extends k{constructor(){const t={tag:"input",attrs:{required:!1,type:"text",className:""},config:{label:y.get("controls.form.input.text")},meta:{group:"common",icon:"text-input",id:"text-input"}};super(t)}}class L1 extends k{constructor(){const t={tag:"input",attrs:{type:"file",required:!1},config:{label:y.get("fileUpload")},meta:{group:"common",icon:"upload",id:"upload"}};super(t)}}const po=(n,t=3)=>Array.from({length:t},(e,o)=>o+1).map(e=>{const o=n==="checkbox"?"checked":"selected";return{label:y.get("labelCount",{label:wt(n),count:e}),value:`${n}-${e}`,[o]:!e}});class I1 extends k{constructor(){const t={tag:"select",config:{label:y.get("controls.form.select")},attrs:{required:!1,className:""},meta:{group:"common",icon:"select",id:"select"},options:po("option")};super(t)}}class F1 extends k{constructor(){const t={tag:"input",attrs:{type:"checkbox",required:!1},config:{label:y.get("controls.form.checkbox-group"),disabledAttrs:["type"]},meta:{group:"common",icon:"checkbox",id:"checkbox"},options:po("checkbox",1)};super(t)}}class R1 extends k{constructor(){const t={tag:"input",attrs:{type:"radio",required:!1},config:{label:y.get("controls.form.radio-group"),disabledAttrs:["type"]},meta:{group:"common",icon:"radio-group",id:"radio"},options:po("radio")};super(t)}}class z1 extends k{constructor(){const t={tag:"button",attrs:{className:[{label:"grouped",value:"f-btn-group"},{label:"ungrouped",value:"f-field-group"}]},config:{label:y.get("controls.form.button"),hideLabel:!0},meta:{group:"common",icon:"button",id:"button"},options:[{label:y.get("button"),type:["button","submit","reset"].map((e,o)=>({label:e,type:e})),className:[{label:"default",value:"",selected:!0},{label:"primary",value:"primary"},{label:"danger",value:"error"},{label:"success",value:"success"},{label:"warning",value:"warning"}]}]};super(t)}}class j1 extends k{constructor(){const t={tag:"input",attrs:{type:"date",required:!1,className:""},config:{label:y.get("controls.form.input.date")},meta:{group:"common",icon:"calendar",id:"date-input"}};super(t)}}const H1=[z1,j1,P1,N1,M1,D1,L1,I1,F1,R1],Sr=Array.from(Array(5).keys()).slice(1).map(n=>`h${n}`),Mn="controls.html.header";class B1 extends k{constructor(){const t={tag:Sr[0],attrs:{tag:Sr.map((e,o)=>({label:e.toUpperCase(),value:e,selected:!o})),className:""},config:{label:y.get(Mn),hideLabel:!0,editableContent:!0},meta:{group:"html",icon:"header",id:"html.header"},content:y.get(Mn)};super(t)}static get definition(){return{i18n:{header:"Header222"}}}get content(){return super.i18n(Mn)}}class k1 extends k{constructor(){const t={tag:"p",attrs:{className:""},config:{label:y.get("controls.html.paragraph"),hideLabel:!0,editableContent:!0},meta:{group:"html",icon:"paragraph",id:"paragraph"},content:"Leverage agile frameworks to provide a robust synopsis for high level overviews. Iterative approaches to corporate strategy foster collaborative thinking to further the overall value proposition. Organically grow the holistic world view of disruptive innovation via workplace diversity and empowerment."};super(t)}}class W1 extends k{constructor(){const t={tag:"hr",config:{label:y.get("controls.html.divider"),hideLabel:!0},meta:{group:"html",icon:"divider",id:"divider"}};super(t)}}class V1 extends k{constructor(){const t={tag:"textarea",config:{label:"WYSIWYG",editableContent:!0},meta:{group:"html",icon:"rich-text",id:"tinymce"},attrs:{required:!1},action:{onRender:e=>{e.id&&(this.textareaID=e.id,window.tinymce.remove("textarea#"+e.id),window.tinymce.init({selector:"textarea#"+e.id}))}}};super(t)}}const q1=[B1,k1,W1,V1],G1=Object.freeze({sortable:!0,elementOrder:{},groupOrder:[],groups:[{id:"layout",label:"controls.groups.layout",elementOrder:["row","column"]},{id:"common",label:"controls.groups.form",elementOrder:["button","checkbox"]},{id:"html",label:"controls.groups.html",elementOrder:["header","block-text"]}],disable:{groups:[],elements:[],formActions:[]},elements:[],container:null,panels:{displayType:"slider"}}),U1=[...H1,...q1,...A1];let K1=class{constructor(){g(this,"applyControlEvents",({clone:t})=>{const e=t.querySelector("button");Object.keys(this.controlEvents).map(o=>e.addEventListener(o,this.controlEvents[o]))});g(this,"groupLabel",t=>y.get(t)||t||"");g(this,"addElement",t=>{const e=Z(this.get(t),"controlData"),{meta:{group:o,id:r}}=e,i={row:()=>pe.active.addChild(),column:()=>i.row().addChild(),field:s=>i.column().addChild(s)};return o!=="layout"?i.field(e):i[r.replace("layout-","")]()});g(this,"applyOptions",(t={})=>{const{container:e,elements:o,groupOrder:r,...i}=At(G1,t);this.container=e,this.groupOrder=jt(r.concat(["common","html","layout"])),this.elements=o.concat(U1),this.options=i});this.data=new Map,this.controlEvents={focus:({target:t})=>{const e=t.closest(`.${$t}`);return e&&this.panels.nav.refresh(Pt(e))},click:({target:t})=>this.addElement(t.parentElement.id)}}init(t,e=!1){return this.applyOptions(t),this.registerControls(),this.buildDOM(e),this}registerControls(){return this.controls=this.elements.map(t=>{const e=typeof t=="function",o=e?new t:new k(t),{controlData:{meta:r,config:i}}=o,s=e?i.label:y.get(i.label)||i.label,{id:a}=this.add(o),l={tag:"button",attrs:{type:"button"},content:[{tag:"span",className:"control-icon",children:p.icon(r.icon)},s],action:this.controlEvents};return o.dom=p.create({tag:"li",id:a,className:["field-control",`${r.group}-control`,`${r.id}-control`],content:l,meta:r}),o.dom}),this.controls}groupElements(){let t=this.options.groups.slice(),e=this.controls.slice(),o=[];const r=[];return t=ge(t,this.groupOrder,"id"),t=t.filter(i=>Wo(i.id,this.options.disable.groups)),o=t.map(i=>{const s={tag:"ul",attrs:{className:$t,id:`${i.id}-${$t}`},config:{label:this.groupLabel(i.label)}};if(this.options.elementOrder[i.id]){const a=this.options.elementOrder[i.id],l=jt(a.concat(i.elementOrder));i.elementOrder=l}return e=ge(e,i.elementOrder,"meta.id"),s.content=e.filter(a=>{const{controlData:l}=this.get(a.id),c=l.meta.id||"",d=[Wo(c,this.options.disable.elements),l.meta.group===i.id,!r.includes(l.meta.id)];let u=!0;return u=d.every(h=>h===!0),u&&r.push(c),u}),s}),o}add(t=Object.create(null)){const{id:e,...o}=t,r=e||U(),i=Ht(o);return this.data.set(r,i),{id:r,...i}}get(t){return this.data.get(t)}formActions(){if(this.options.disable.formActions===!0)return null;const t={...p.btnTemplate({content:[p.icon("bin"),y.get("clear")],title:y.get("clearAll")}),className:["clear-form"],action:{click:r=>{je.size?(A.confirmClearAll=new window.CustomEvent("confirmClearAll",{detail:{confirmationMessage:y.get("confirmClearAll"),clearAllAction:()=>{pe.clearAll().then(()=>{const i={src:r.target};A.formeoCleared(i)})},btnCoords:p.coords(r.target)}}),document.dispatchEvent(A.confirmClearAll)):window.alert(y.get("cannotClearFields"))}}},e={...p.btnTemplate({content:[p.icon("floppy-disk"),y.get("save")],title:y.get("save")}),className:["save-form"],action:{click:({target:r})=>{const{formData:i}=$,s={action:()=>{},coords:p.coords(r),message:"",button:r};return nt.click.btn(s),nt.save.form(i)}}};return{className:"form-actions f-btn-group",content:Object.entries({clearBtn:t,saveBtn:e}).reduce((r,[i,s])=>(this.options.disable.formActions.includes(i)||r.push(s),r),[])}}buildDOM(t){const e=this.groupElements(),o=this.formActions(),{displayType:r}=this.options.panels;this.panels=new Ni({panels:e,type:"controls",displayType:r});const i=["control-groups","formeo-panels-wrap",`panel-count-${e.length}`],s=p.create({className:i,content:[this.panels.panelNav,this.panels.panelsWrap]});let a="formeo-controls";t&&(a+=" formeo-sticky");const l=p.create({className:a,content:[s,o]}),c=l.getElementsByClassName("control-group");this.dom=l,this.groups=c;const[d]=c;this.currentGroup=d,this.actions={filter:u=>{const h=u!=="",f=this.controls;let m=s.querySelector(".filtered-term");if(p.toggleElementsByStr(f,u),h){const b=y.get("controls.filteringTerm",u);l.classList.add("filtered"),m?m.textContent=b:(m=p.create({tag:"h5",className:"filtered-term",content:b}),s.insertBefore(m,s.firstChild))}else m&&(l.classList.remove("filtered"),m.remove())},addElement:this.addElement,addGroup:u=>console.log(u)};for(let u=c.length-1;u>=0;u--){const h=`formeo-controls-${c[u]}`;this.options.sortable||window.localStorage.removeItem(h),w.create(c[u],{animation:150,forceFallback:!0,fallbackClass:"control-moving",fallbackOnBody:!0,group:{name:"controls",pull:"clone",put:!1},onRemove:this.applyControlEvents,onStart:({item:f})=>{const{controlData:m}=this.get(f.id);this.options.ghostPreview&&(f.innerHTML="",f.appendChild(new Li(m).preview))},sort:this.options.sortable,store:{get:()=>{const f=window.localStorage.getItem(h);return f?f.split("|"):[]},set:f=>{const m=f.toArray();window.localStorage.setItem(h,m.join("|"))}}})}return l}};const ve=new K1;class Ee extends lo{constructor(){super(...arguments);g(this,"load",(e=Object.create(null))=>(this.empty(),typeof e=="string"&&(e=JSON.parse(e)),Object.entries(e).forEach(([o,r])=>this.add(o,r)),this.data));g(this,"get",e=>e?Z(this.data,e):this.add());g(this,"add",(e,o=Object.create(null))=>{const r=e||U(),i=this.Component({...o,id:r});return this.set(r,i),this.active=i,i});g(this,"remove",e=>(Array.isArray(e)?e.forEach(o=>{this.get(o).remove()}):this.get(e).remove(),this.data));g(this,"delete",e=>(delete this.data[e],e));g(this,"clearAll",(e=!0)=>{const o=Object.values(this.data).map(r=>r.empty(e));return Promise.all(o)});g(this,"conditionMap",new Map)}set config(e){this.configVal=At(this.configVal,Ht(e))}get config(){return this.configVal}}const Y1=()=>Object.freeze({children:[]});class X1 extends Ce{constructor(t,e){super("stage",{...Y1(),...t},e);const o=this.createChildWrap();this.dom=p.create({attrs:{className:[Wt,"empty"],id:this.id},children:o}),this.sortable=w.create(o,{animation:150,fallbackClass:"row-moving",forceFallback:!0,group:{name:"stage",pull:!0,put:["row","column","controls"]},sort:!0,disabled:!1,onAdd:this.onAdd.bind(this),onRemove:this.onRemove.bind(this),onStart:()=>{fo.active=this},onSort:this.onSort.bind(this),draggable:`.${dt}`,handle:".item-move"})}empty(t=!0){return new Promise(e=>{t?(this.dom.classList.add("removing-all-fields"),B.slideUp(this.dom,ot,()=>{e(super.empty(t)),this.dom.classList.remove("removing-all-fields"),B.slideDown(this.dom,ot)})):e(super.empty())})}onAdd(...t){const e=super.onAdd(...t);e&&e.name==="column"&&e.parent.autoColumnWidths()}}let Z1=class extends Ee{constructor(t){super("stages",t)}Component(t){return new X1(t)}};const fo=new Z1,J1=()=>Object.freeze({config:{fieldset:!1,legend:"",inputGroup:!1},children:[],className:[dt]});class Q1 extends Ce{constructor(e){super("row",{...J1(),...e});g(this,"autoColumnWidths",()=>{const e=this.children;if(!e.length)return;const o=Number.parseFloat((100/e.length).toFixed(1))/1;for(const r of e){r.removeClasses(Fn);const i=r.dom,s=Rn(o);r.set("config.width",s),i.style.width=s,i.dataset.colWidth=s;const a=setTimeout(()=>{clearTimeout(a),r.refreshFieldPanels()},fe);document.dispatchEvent(A.columnResized)}this.updateColumnPreset()});g(this,"updateColumnPreset",()=>{this.columnPresetControl.innerHTML="";const e=this.getColumnPresetOptions.map(({label:o,...r})=>p.create({tag:"option",content:o,attrs:r}));this.columnPresetControl.append(...e)});g(this,"setColumnWidths",e=>{typeof e=="string"&&(e=e.split(",")),this.children.forEach((o,r)=>{o.setWidth(`${e[r]}%`),o.refreshFieldPanels()})});const o=this.createChildWrap();this.dom=p.create({tag:"li",className:[dt,"empty"],dataset:{hoverTag:y.get("row"),editingHoverTag:y.get("editing.row")},id:this.id,content:[this.getComponentTag(),this.getActionButtons(),this.editWindow,o]}),this.sortable=w.create(o,{animation:150,fallbackClass:"column-moving",forceFallback:!0,group:{name:"row",pull:!0,put:["row","column","controls"]},sort:!0,disabled:!1,onRemove:this.onRemove.bind(this),onEnd:this.onEnd.bind(this),onAdd:this.onAdd.bind(this),onSort:this.onSort.bind(this),draggable:`.${ut}`,handle:".item-move"})}get editWindow(){const e={tag:"input",id:`${this.id}-fieldset`,attrs:{type:"checkbox",checked:this.get("config.fieldset"),ariaLabel:y.get("row.settings.fieldsetWrap.aria")},action:{click:({target:{checked:h}})=>{this.set("config.fieldset",!!h)}},config:{label:y.get("row.settings.fieldsetWrap")}},o={tag:"input",id:`${this.id}-inputGroup`,attrs:{type:"checkbox",checked:this.get("config.inputGroup"),ariaLabel:y.get("row.settings.inputGroup.aria")},action:{click:({target:{checked:h}})=>this.set("config.inputGroup",h)},config:{label:y.get("row.makeInputGroup"),description:y.get("row.makeInputGroupDesc")}},i={className:"input-group",content:{tag:"input",attrs:{type:"text",ariaLabel:"Legend for fieldset",value:this.get("config.legend"),placeholder:"Legend"},action:{input:({target:{value:h}})=>this.set("config.legend",h)},className:""}},s=p.formGroup([e,i]),a={tag:"label",content:y.get("defineColumnWidths"),className:"col-sm-4 form-control-label"};this.columnPresetControl=p.create(this.columnPresetControlConfig);const l={className:"col-sm-8",content:this.columnPresetControl,action:{onRender:()=>{this.updateColumnPreset()}}},c=p.formGroup([a,l],"row"),d=[o,"hr",s,"hr",c];return p.create({className:`${this.name}-edit group-config`,action:{onRender:h=>{const f=d.map(m=>p.create(m));h.append(...f)}}})}onAdd(...e){super.onAdd(...e),this.autoColumnWidths()}onRemove(...e){super.onRemove(...e),this.autoColumnWidths()}get getColumnPresetOptions(){const e=this.children,r=aa.get(e.length-1)||[],i=e.map(s=>{const a=s.get("config.width")||"";return Number(a.replace("%","")).toFixed(1)}).join(",");if(r.length){const s=r.slice();return!s.find(l=>l.value===i)&&s.push({value:i,label:i.replace(/,/g," | "),className:In}),s.map(l=>{const c={...l};return c.selected=l.value===i,c})}return[]}get columnPresetControlConfig(){return{tag:"select",attrs:{ariaLabel:y.get("defineColumnLayout"),className:Dr},action:{change:({target:o})=>{const{value:r}=o;this.setColumnWidths(r)}},options:this.getColumnPresetOptions}}}const t0={actionButtons:{buttons:["move","edit","clone","remove"],disabled:[]}};let e0=class extends Ee{constructor(t){super("rows",t),this.config={all:t0}}Component(t){return new Q1(t)}};const Ri=new e0;class n0{constructor(){this.onMove=this.onMove.bind(this),this.onStop=this.onStop.bind(this),this.cleanup=this.cleanup.bind(this)}getRowWidth(t){const e=t.querySelector(".children");if(!e)return 0;const o=e.children.length,r=p.getStyle(e,"gap")||"0px",i=parseFloat(r,10)||0;return this.totalGapWidth=i*(o-1),e.offsetWidth-this.totalGapWidth}validateResizeTarget(t,e){return t&&e&&t.offsetWidth&&e.offsetWidth}onStart(t){if(t.preventDefault(),this.resized=!1,t.button!==0)return;const e=t.target.parentElement,o=e.nextSibling||e.previousSibling,r=e.closest(`.${dt}`);if(!this.validateResizeTarget(e,o)){console.warn("Invalid resize targets"),this.cleanup();return}if(this.startX=t.type==="touchstart"?t.touches[0].clientX:t.clientX,r.classList.add(hn),this.columnPreset=r.querySelector(`.${Dr}`),this.originalColumnClass=e.className,this.originalSiblingClass=o.className,e.className=e.className.replace(Fn,""),o.className=o.className.replace(Fn,""),this.colStartWidth=e.offsetWidth,this.sibStartWidth=o.offsetWidth,this.rowWidth=this.getRowWidth(r),this.rowWidth<=0){console.warn("Invalid row width calculated"),this.cleanup();return}this.column=e,this.sibling=o,this.row=r;try{window.addEventListener("pointermove",this.onMove,!1),window.addEventListener("pointerup",this.onStop,!1)}catch(i){console.error("Failed to initialize resize listeners:",i),this.cleanup()}}calculateNewWidths(t){const e=this.colStartWidth+t-this.startX,o=this.sibStartWidth-t+this.startX,r=parseFloat(mn(e,this.rowWidth)),i=parseFloat(mn(o,this.rowWidth));return r<10||i<10?null:{colWidth:Rn(r.toFixed(1)),siblingColWidth:Rn(i.toFixed(1))}}onMove(t){t.preventDefault();const{column:e,sibling:o}=this,r=t.type==="touchmove"?t.touches[0].clientX:t.clientX,i=this.calculateNewWidths(r);if(!i)return;const{colWidth:s,siblingColWidth:a}=i;e.dataset.colWidth=s,o.dataset.colWidth=a,e.style.width=s,o.style.width=a,this.resized=!0}onStop(){const{column:t,sibling:e}=this;window.removeEventListener("pointermove",this.onMove),window.removeEventListener("pointerup",this.onStop),this.resized&&(this.setCustomWidthValue(),$.setAddress(`columns.${t.id}.config.width`,t.dataset.colWidth),$.setAddress(`columns.${e.id}.config.width`,e.dataset.colWidth),this.row.classList.remove(hn),this.resized=!1,this.cleanup())}cleanup(){this.column&&this.originalColumnClass&&(this.column.className=this.originalColumnClass),this.sibling&&this.originalSiblingClass&&(this.sibling.className=this.originalSiblingClass),this.row&&this.row.classList.remove(hn),window.removeEventListener("pointermove",this.onMove),window.removeEventListener("pointerup",this.onStop)}setCustomWidthValue(){const t=this.columnPreset;let e=t.querySelector(`.${In}`);const o=this.row.querySelector(".children").children,r=ao(o,a=>mn(a.clientWidth,this.rowWidth).toFixed(1)),i=r.join(","),s=r.join(" | ");return e||(e=p.create({tag:"option",attrs:{className:In,value:i,selected:!0},content:s}),t.append(e)),e.value=i,e.textContent=s,i}}const o0=()=>Object.freeze({config:{width:"100%"},children:[],className:[ut]}),Or={resizeHandle:n=>({className:"resize-x-handle",action:{pointerdown:n.onStart.bind(n)},content:[p.icon("triangle-down"),p.icon("triangle-up")]}),editWindow:()=>({className:"column-edit group-config"})};class r0 extends Ce{constructor(e){super("column",{...o0(),...e});g(this,"refreshFieldPanels",()=>{this.children.forEach(e=>e.panels.nav.refresh())});g(this,"setWidth",e=>(this.dom.dataset.colWidth=e,this.dom.style.width=e,this.set("config.width",e)));const o=this,r=this.createChildWrap();this.dom=p.create({tag:"li",className:[ut,"empty"],dataset:{hoverTag:y.get("column")},id:this.id,content:[this.getComponentTag(),this.getActionButtons(),Or.editWindow(),Or.resizeHandle(new n0),r]}),this.processConfig(this.dom),A.columnResized=new window.CustomEvent("columnResized",{detail:{column:this.dom,instance:o}}),this.sortable=w.create(r,{animation:150,fallbackClass:"field-moving",forceFallback:!0,group:{name:"column",pull:!0,put:["column","controls"]},sort:!0,disabled:!1,onEnd:this.onEnd.bind(this),onAdd:this.onAdd.bind(this),onSort:this.onSort.bind(this),onRemove:this.onRemove.bind(this),onMove:i=>{i.from!==i.to&&i.from.classList.remove("hovering-column")},draggable:`.${Vt}`,handle:".item-move"})}processConfig(e){const o=J.get(this.data,"config.width");o&&(e.dataset.colWidth=o,e.style.width=o)}}const i0={actionButtons:{buttons:["clone","move","remove"],disabled:[]}};let s0=class extends Ee{constructor(t){super("columns",t),this.config={all:i0}}Component(t){return new r0(t)}};const zi=new s0,a0={actionButtons:{buttons:["move","edit","clone","remove"],disabled:[]},panels:{disabled:[],attrs:{disabled:["type"],hideDisabled:!0,locked:[]},order:["attrs","options","conditions"]},label:{disableHTML:!1}};let l0=class extends Ee{constructor(e){super("fields",e);g(this,"get",e=>{let o=e&&Z(this.data,e);if(!o){const r=ve.get(e);r&&(o=this.add(null,r.controlData))}return o});this.config={all:a0}}Component(e){return new Li(e)}};const ji=new l0;let c0=class extends Ee{constructor(t){super("externals",t)}Component(t){return new Ce("external",t)}};const d0=new c0,pe=fo,je=Ri,He=zi,Dn=ji,Kn=ve,Tr=d0,u0={id:U()};class h0 extends lo{constructor(e){super("components");g(this,"sessionFormData",()=>{var e;if((e=this.opts)!=null&&e.sessionStorage)return qe.get(Ir)});g(this,"load",(e,o=this.opts||Object.create(null))=>{this.empty(),typeof e=="string"&&(e=JSON.parse(e)),this.opts=o;const{stages:r={[U()]:{}},rows:i,columns:s,fields:a,id:l=U()}={...this.sessionFormData(),...e};return this.set("id",l),this.add("stages",pe.load(r)),this.add("rows",je.load(i)),this.add("columns",He.load(s)),this.add("fields",Dn.load(a)),this.add("externals",Tr.load(o.external)),Object.values(this.get("stages")).forEach(c=>c.loadChildren()),this.data});this.opts=e,this.data=u0,this.disableEvents=!0,this.stages=pe,this.rows=je,this.columns=He,this.fields=Dn,this.controls=Kn,this.externals=Tr}flatList(e=this.data,o=Object.create(null)){return Object.entries(e).reduce((r,[i,s])=>(typeof s=="object"&&Object.entries(s).forEach(([a,l])=>{r[`${i}.${a}`]=l}),r),o)}get json(){return window.JSON.stringify(this.formData)}get formData(){return{id:this.get("id"),stages:fo.getData(),rows:Ri.getData(),columns:zi.getData(),fields:ji.getData()}}set config(e){const{stages:o,rows:r,columns:i,fields:s}=e;pe.config=o,je.config=r,He.config=i,Dn.config=s}setAddress(e,o){const[r,i,...s]=Array.isArray(e)?e:e.split("."),a=r.replace(/s?$/,"s"),l=this[a].get(i);return l==null||l.set(s,o),l}getAddress(e){if(!bt(e))return;const[o,r,...i]=Array.isArray(e)?e:e.split("."),s=o.replace(/s?$/,"s"),a=this[s].get(r);return i.length?a.get(i):a}getConditionMap(e){if(bt(e)){const o=e.split(".");return o.every(r=>!!r)&&this[o[0]].conditionMap.get(o[1])}}setConditionMap(e,o){if(bt(e)){const r=e.split(".");return r.every(i=>!!i)&&this[r[0]].conditionMap.set(r[1],o)}}removeConditionMap(e){if(bt(e)){const o=e.split(".");return o.every(r=>!!r)&&this[o[0]].conditionMap.delete(o[1])}}}const $=new h0,Ln={glyphicons:n=>`<span class="glyphicon glyphicon-${n}" aria-hidden="true"></span>`,"font-awesome":n=>{const[t,e]=n.split(" ");return`<i class="${t} fa-${e}"></i>`},fontello:n=>`<i class="${Br}${n}">${n}</i>`};class p0{constructor(){g(this,"render",t=>(t.id=`f-${t.id||U()}`,this.create(t)));g(this,"create",(t,e=!1)=>{if(!t)return;t=this.processTagName(t);const o=this;let r;const{tag:i}=t,s=["children","content"];let a;const l={attrs:{},className:[J.get(t,"config.inputWrap")||"f-field-group"],children:[],config:{}};let c=document.createElement(i);const d={string:h=>{c.innerHTML+=h},object:h=>h&&c.appendChild(o.create(h,e)),node:h=>c.appendChild(h),component:h=>c.appendChild(h.dom),array:h=>{for(const f of h)r=o.childType(f),d[r](f)},function:h=>{h=h(),r=o.childType(h),d[r](h)},undefined:()=>null,boolean:()=>null};if(s.push("tag"),t.className){const{className:h}=t;t.attrs=Object.assign({},t.attrs,{className:h}),delete t.className}if(t.options){let{options:h}=t;if(h=this.processOptions(h,t,e),this.holdsContent(c)&&i!=="button")d.array.call(this,h),delete t.content;else return J.forEach(h,f=>{l.children.push(o.create(f,e))}),t.attrs.className&&(l.className=t.attrs.className),l.config=Object.assign({},t.config),this.create(l,e);s.push("options")}if(c.tagName==="OPTION"){const h=setTimeout(()=>{c.selected=!1,clearTimeout(h)},0)}if(t.attrs&&(o.processAttrs(t,c,e),s.push("attrs")),t.config){if(t.config.label&&(t.config.label&&i!=="button"||["radio","checkbox"].includes(J.get(t,"attrs.type")))&&!e){const h=o.label(t);if(!t.config.hideLabel){const f=[...o.labelAfter(t)?[c,h]:[h,c]];l.children.push(f)}}s.push("config")}if(t.content||t.children){const h=t.content||t.children;r=o.childType(h),d[r]||console.error(`childType: ${r} is not supported`),d[r].call(this,h)}if(t.dataset){for(const h in t.dataset)t.dataset.hasOwnProperty(h)&&(c.dataset[h]=typeof t.dataset[h]=="function"?t.dataset[h]():t.dataset[h]);s.push("dataset")}t.action&&(this.actionHandler(c,t.action),s.push("action"));const u=J.subtract(s,Object.keys(t));for(a=u.length-1;a>=0;a--)c[u[a]]=t[u[a]];return l.children.length&&(c=this.create(l)),c});g(this,"onRender",(t,e)=>{t.parentElement?e(t):window.requestAnimationFrame(()=>this.onRender(t,e))});g(this,"toggleElementsByStr",(t,e)=>{const o=[],r=(i,s)=>{s?(i.style.display="block",o.push(i)):i.style.display="none"};return p.elementsContainText(t,e,r),o});g(this,"elementsContainText",(t,e,o)=>{const r=[];return dn(t,i=>{const a=i.textContent.toLowerCase().indexOf(e.toLowerCase())!==-1;o==null||o(i,a),a&&r.push(i)}),r});g(this,"generateOption",({type:t="option",label:e,value:o,i:r=0,selected:i})=>({tag:t==="option"?"option":"input",attrs:{type:t,value:o||`${t}-${r}`,[t==="option"?"selected":"checked"]:i||!r},config:{label:e||y.get("labelCount",{label:y.get("option"),count:r})}}));g(this,"makeOption",([t,e],o,r)=>{const i={value:t,label:y.get(`${r}.${e}`)||e};return t===o&&(i.selected=!0),i});g(this,"requiredMark",()=>({tag:"span",className:"text-error",children:"*"}));g(this,"removeEmpty",t=>{const e=t.parentElement,o=q(t),r=e.getElementsByClassName(`formeo-${o}`);if(this.remove(t),!r.length)if(this.isStage(e))this.emptyClass(e);else return this.removeEmpty(e)});g(this,"btnTemplate",({title:t="",...e})=>({tag:"button",attrs:{type:"button",title:t},...e}));g(this,"isControls",t=>q(t)===$t);g(this,"isStage",t=>q(t)===Wt);g(this,"isRow",t=>q(t)===dt);g(this,"isColumn",t=>q(t)===ut);g(this,"isField",t=>q(t)===Vt);g(this,"asComponent",t=>$[`${q(t)}s`].get(t.id));this.options=Object.create(null),this.styleSheet=(()=>{const t=document.createElement("style");return t.setAttribute("media","screen"),t.setAttribute("type","text/css"),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet})()}set setOptions(t){this.options=At(Object.assign({},this.options,t))}processTagName(t){let e;if(typeof t=="string"&&(e=t,t={tag:e}),t.attrs){const{tag:o,...r}=t.attrs;o&&(typeof o=="string"?e=o:e=(o.find(s=>s.selected===!0)||o[0]).value),t.attrs=r}return t.tag=e||t.tag||"div",t}actionHandler(t,e){const o={onRender:p.onRender},r=["focus","blur"],i=s=>(a,l)=>a.addEventListener(s,l,r.includes(s));return Object.entries(e).map(([s,a])=>(o[s]||i(s))(t,a))}get icons(){if(this.iconSymbols)return this.iconSymbols;const t=document.querySelectorAll("#formeo-sprite svg symbol"),e=o=>({tag:"svg",attrs:{className:`svg-icon ${o}`},children:[{tag:"use",attrs:{"xmlns:xlink":"http://www.w3.org/1999/xlink","xlink:href":`#${o}`}}]});return this.iconSymbols=Array.from(t).reduce((o,r)=>{const i=r.id.replace(Br,"");return o[i]=p.create(e(r.id)),o},{}),this.iconSymbols}icon(t=null,e=[]){var r;if(!t)return;const o=this.icons[t];if(o){const i=o.cloneNode(!0);return i.classList.add(...e),i.outerHTML}return((r=Ln[p.options.iconFont])==null?void 0:r.call(Ln,t))||t}processAttrs(t,e,o){const{attrs:r={}}=t;o||!r.name&&this.isInput(t.tag)&&e.setAttribute("name",U(t)),Object.keys(r).forEach(i=>{const s=J.safeAttrName(i);let a=r[i]||"";if(Array.isArray(a))if(typeof a[0]=="object"){const l=a.filter(c=>c.selected===!0);a=l.length?l[0].value:a[0].value}else a=a.join(" ");if(a)if(e.tagName==="OPTION"&&s==="selected"){const l=setTimeout(()=>{e.setAttribute(s,a),clearTimeout(l)},0)}else e.setAttribute(s,a)})}processOptions(t,e,o){const{action:r,attrs:i}=e,s=i.type||e.tag,a=i.id||e.id,l=(d,u)=>{var x;const{label:h,...f}=d,m=()=>{const O={tag:"input",attrs:{name:a,type:s,value:d.value||"",id:`${a}-${u}`,...f},action:r},_={tag:"label",attrs:{for:`${a}-${u}`},config:{inputWrap:"form-check"},children:d.label},P={children:[O,_],className:[`f-${s}`]};return e.attrs.className&&(e.config.inputWrap=e.attrs.className),e.config.inline&&P.className.push(`f-${s}-inline`),d.selected&&(O.attrs.checked=!0),o&&(_.attrs.contenteditable=!0),P},b={select:()=>({tag:"option",attrs:d,children:d.label}),button:O=>{const{type:_,label:P,className:D,id:W}=O;return{...e,attrs:{type:_},className:D,id:W||U(),options:void 0,children:P,action:e.action}},checkbox:m,radio:m};return(x=b[s])==null?void 0:x.call(b,d)};return t.map(l)}holdsContent(t){return t.outerHTML.indexOf("/")!==-1}isBlockInput(t){return!this.isInput(t)&&this.holdsContent(t)}isInput(t){return typeof t!="string"&&(t=t.tagName),["input","textarea","select"].indexOf(t)!==-1}parsedHtml(t){const e=document.createElement("textarea");return e.innerHTML=t,e.textContent}labelAfter(t){const e=J.get(t,"attrs.type"),o=J.get(t,"config.labelAfter");return o!==void 0?o:e==="checkbox"||e==="radio"}label(t,e){const o=J.get(t,"attrs.required");let{config:{label:r=""}}=t;const{id:i,attrs:s}=t;typeof r=="function"&&(r=r());const a={tag:"label",attrs:{for:i||(s==null?void 0:s.id)},className:[],children:[r,o&&this.requiredMark()],action:{}};return e&&(delete a.attrs.for,a.attrs.contenteditable=!0,a.fMap=e),a}childType(t){return t===void 0?t:[["array",e=>Array.isArray(e)],["node",e=>e instanceof window.Node||e instanceof window.HTMLElement],["component",()=>t==null?void 0:t.dom],[typeof t,()=>!0]].find(e=>e[1](t))[0]}getStyle(t,e=!1){let o;return window.getComputedStyle?o=window.getComputedStyle(t,null):t.currentStyle&&(o=t.currentStyle),e?o[e]:o}getElement(t){const e={node:()=>t,object:()=>document.getElementById(t.id),string:()=>document.getElementById(t)},o=this.childType(t);return e[o]()}empty(t){for(;t.firstChild;)this.remove(t.firstChild);return t}remove(t){const e=q(t);return e?$.remove(`${e}s.${t.id}`):t.parentElement.removeChild(t)}removeClasses(t,e){const o={string:r=>r.classList.remove(e),array:r=>e.forEach(i=>r.classList.remove(i))};o.object=o.string,J.forEach(t,o[this.childType(e)])}addClasses(t,e){const o={string:r=>r.classList.add(e),array:r=>e.forEach(i=>r.classList.add(i))};J.forEach(t,o[this.childType(e)])}formGroup(t,e=""){return{className:["f-field-group",e],children:t}}coords(t){const e=t.getBoundingClientRect(),o=document.body.getBoundingClientRect();return{pageX:e.left+e.width/2,pageY:e.top-o.top-e.height/2}}clearStage(t){t.classList.add("removing-all-fields");const e=()=>{p.empty(t),t.classList.remove("removing-all-fields"),p.emptyClass(t),B.slideDown(t,300)};B.slideUp(t,600,e)}toggleSortable(t,e){const o=q(t);if(!o)return;const r=q(t.parentElement),i=p[o].get(t.id).sortable;e||(e=!i.option("disabled")),i.option("disabled",e),r&&["rows","columns","stages"].includes(r)&&this.toggleSortable(t.parentElement,e)}emptyClass(t){const e=t.getElementsByClassName(Js.get(t.classList.item(0)));t.classList.toggle("empty",!e.length)}}const p=new p0,f0=`en-US = English
dir = ltr

action.add.attrs.attr = What attribute would you like to add?
action.add.attrs.value = Default Value
addOption = Add Option
allFieldsRemoved = All fields were removed.
allowSelect = Allow Select
attribute = Attribute
attributes = Attributes
attrs.class = Class
attrs.className = Class
attrs.dir = Direction
attrs.id = Id
attrs.required = Required
attrs.style = Style
attrs.title = Title
attrs.type = Type
attrs.value = Value
autocomplete = Autocomplete
button = Button
cannotBeEmpty = This field cannot be empty
checkbox = Checkbox
checkboxes = Checkboxes
class = Class
clear = Clear
clearAllMessage = Are you sure you want to clear all fields?
close = Close
column = Column
confirmClearAll = Are you sure you want to remove all fields?
content = Content
control = Control
controlGroups.nextGroup = Next Group
controlGroups.prevGroup = Previous Group
controls.form.button = Button
controls.form.checkbox-group = Checkbox Group
controls.form.input.date = Date
controls.form.input.email = Email
controls.form.input.file = File Upload
controls.form.input.hidden = Hidden Input
controls.form.input.number = Number
controls.form.input.text = Text Input
controls.form.radio-group = Radio Group
controls.form.select = Select
controls.form.textarea = TextArea
controls.groups.form = Form Fields
controls.groups.html = HTML Elements
controls.groups.layout = Layout
controls.html.divider = Divider
controls.html.header = Header
controls.html.paragraph = Paragraph
controls.layout.column = Column
controls.layout.row = Row
controls.filteringTerm = Filtering "{term}"
copy = Copy To Clipboard
danger = Danger
description = Help Text
descriptionField = Description
defineColumnLayout = Define a column layout
defineColumnWidths = Define column widths
editing.row = Editing Row
editorTitle = Form Elements
field = Field
fieldNonEditable = This field cannot be edited.
fieldRemoveWarning = Are you sure you want to remove this field?
fileUpload = File Upload
formUpdated = Form Updated
getStarted = Drag a field from the right to get started.
group = Group
grouped = Grouped
hidden = Hidden Input
hide = Edit
htmlElements = HTML Elements
if = If
info = Info
input.date = Date
input.text = Text
label = Label
labelCount = {label} {count}
labelEmpty = Field Label cannot be empty
layout = Layout
limitRole = Limit access to one or more of the following roles:
mandatory = Mandatory
maxlength = Max Length
meta.group = Group
meta.icon = Ico
meta.label = Label
minOptionMessage = This field requires a minimum of 2 options
name = Name
no = No
number = Number
off = Off
on = On
option = Option
optional = optional
optionEmpty = Option value required
optionLabel = Option {count}
options = Options
order = Order
panel.label.attrs = Attributes
panel.label.conditions = Conditions
panel.label.config = Configuration
panel.label.meta = Meta
panel.label.options = Options
panelEditButtons.attrs = + Attribute
panelEditButtons.options = + Option
panelEditButtons.conditions = + Condition
placeholder = Placeholder
placeholder.className = space separated classes
placeholder.email = Enter you email
placeholder.label = Label
placeholder.password = Enter your password
placeholder.placeholder = Placeholder
placeholder.text = Enter some Text
placeholder.textarea = Enter a lot of text
placeholder.value = Value
preview = Preview
primary = Primary
remove = Remove
removeType = Remove {type}
removeMessage = Remove Element
required = Required
reset = Reset
richText = Rich Text Editor
roles = Access
row = Row
row.makeInputGroup = Make this row an input group.
row.makeInputGroupDesc = Input Groups enable users to add sets of inputs at a time.
row.settings.fieldsetWrap = Wrap row in a &lt;fieldset&gt; tag
row.settings.fieldsetWrap.aria = Wrap Row in Fieldset
cannotClearFields = There are no fields to clear
save = Save
secondary = Secondary
select = Select
selectColor = Select Color
selectionsMessage = Allow Multiple Selections
selectOptions = Options
separator = Separator
settings = Settings
size = Size
sizes = Sizes
sizes.lg = Large
sizes.m = Default
sizes.sm = Small
sizes.xs = Extra Small
style = Style
styles = Styles
styles.btn = Button Style
styles.btn.danger = Danger
styles.btn.default = Default
styles.btn.info = Info
styles.btn.primary = Primary
styles.btn.success = Success
styles.btn.warning = Warning
subtype = Type
success = Success
text = Text Field
then = Then
toggle = Toggle
ungrouped = Un-Grouped
warning = Warning
yes = Yes
and = and
or = or
field.property.value = value
field.property.label = label
field.property.valid = valid
field.property.invalid = not valid
field.property.isVisible = is visible
field.property.isNotVisible = is not visible
newOptionLabel = New {type}
operator.visible = visible
operator.notVisible = not visible
operator.equals = equals
operator.notEquals = not equal
operator.contains = contains
operator.notContains = not contains
condition.target.placeholder = target
if.condition.target.placeholder = target / value
if.condition.source.placeholder = source
then.condition.target.placeholder = target
condition.value.placeholder = value
attributeNotPermitted = Attribute "{attribute}" is not permitted, please choose another.
`;y.addLanguage("en-US",f0);const m0={get editor(){return{stickyControls:!1,allowEdit:!0,dataType:"json",debug:!1,sessionStorage:!1,editorContainer:null,external:{},svgSprite:null,iconFont:null,config:{},events:{},actions:{},controls:{},polyfills:hi(),i18n:{location:"https://draggable.github.io/formeo/assets/lang/"}}}},g0='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol id="f-i-autocomplete" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M6,5h1v1H6V5z M4,4H3v1h1V4z M6,4H5v1h1V4z M2,5v1h1V5H2z M3,7h1V6H3V7z M5,7h1V6H5V7z M4,5v1h1V5H4z M2,14h1v-1H2V14z M4,14h1v-1H4V14z M6,14h1v-1H6V14z M9,13H8v1h1V13z M16,3.5v4C16,8.3,15.3,9,14.5,9H14v3v3c0,0.6-0.4,1-1,1H1c-0.6,0-1-0.4-1-1V3.5 C0,2.7,0.7,2,1.5,2h3H8V1.5V1H7H6V0.5V0h2.5H11v0.5V1h-1H9v0.5V2h3h2.5C15.3,2,16,2.7,16,3.5z M13,12H7H1v3h12V12z M3,11v-1H2v1H3z M5,11v-1H4v1H5z M15,3.5C15,3.2,14.8,3,14.5,3H9v2.5V8H8.5H8V7.5V7H7V6h1V5.5V5H7V4h1V3.5V3H1.5C1.2,3,1,3.2,1,3.5v4 C1,7.8,1.2,8,1.5,8H8v1H6v0.5V10h2.5H11V9.5V9H9V8h5.5C14.8,8,15,7.8,15,7.5V3.5z"/></symbol><symbol viewBox="0 0 32 32" id="f-i-bin" xmlns="http://www.w3.org/2000/svg"><path d="M4 10v20c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2v-20h-22zM10 28h-2v-14h2v14zM14 28h-2v-14h2v14zM18 28h-2v-14h2v14zM22 28h-2v-14h2v14zM26.5 4h-6.5v-2.5c0-.825-.675-1.5-1.5-1.5h-7c-.825 0-1.5.675-1.5 1.5v2.5h-6.5c-.825 0-1.5.675-1.5 1.5v2.5h26v-2.5c0-.825-.675-1.5-1.5-1.5zM18 4h-6v-1.975h6v1.975z"/></symbol><symbol id="f-i-button" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><metadata id="acmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><path id="acrect4140" d="M 0.4765625,4 A 0.47706934,0.47706934 0 0 0 0,4.4765625 L 0,11.523438 A 0.47706934,0.47706934 0 0 0 0.4765625,12 L 15.523438,12 A 0.47706934,0.47706934 0 0 0 16,11.523438 L 16,4.4765625 A 0.47706934,0.47706934 0 0 0 15.523438,4 L 0.4765625,4 Z m 0.4765625,0.953125 14.09375,0 0,6.09375 -14.09375,0 0,-6.09375 z"/><g id="aclayer1"><g id="actext4203"><g id="acg4212" transform="translate(0.10112835,0.1001358)"><path id="acpath4208" d="m 6.0690374,6.4093857 q -0.5371093,0 -0.8544922,0.4003906 -0.3149414,0.4003906 -0.3149414,1.0913086 0,0.6884766 0.3149414,1.0888672 0.3173829,0.4003906 0.8544922,0.4003906 0.5371094,0 0.8496094,-0.4003906 0.3149414,-0.4003906 0.3149414,-1.0888672 0,-0.690918 -0.3149414,-1.0913086 -0.3125,-0.4003906 -0.8496094,-0.4003906 z m 0,-0.4003906 q 0.7666016,0 1.225586,0.5151367 0.4589843,0.5126953 0.4589843,1.3769531 0,0.8618164 -0.4589843,1.3769531 -0.4589844,0.5126953 -1.225586,0.5126953 -0.7690429,0 -1.2304687,-0.5126953 -0.4589844,-0.5126953 -0.4589844,-1.3769531 0,-0.8642578 0.4589844,-1.3769531 0.4614258,-0.5151367 1.2304687,-0.5151367 z"/><path id="acpath4210" d="m 8.5250921,6.074913 0.4931641,0 0,1.5405274 1.6357418,-1.5405274 0.634766,0 -1.809082,1.6992188 1.938477,1.9458008 -0.649415,0 -1.7504878,-1.7553711 0,1.7553711 -0.4931641,0 0,-3.6450196 z"/></g></g></g></symbol><symbol viewBox="0 0 32 32" id="f-i-calendar" xmlns="http://www.w3.org/2000/svg"><path d="M12.048 16.961c-0.178 0.257-0.395 0.901-0.652 1.059-0.257 0.157-0.547 0.267-0.869 0.328-0.323 0.062-0.657 0.089-1.002 0.079v1.527h2.467v6.046h1.991v-9.996h-1.584c-0.056 0.381-0.173 0.7-0.351 0.957zM23 8h2c0.553 0 1-0.448 1-1v-6c0-0.552-0.447-1-1-1h-2c-0.553 0-1 0.448-1 1v6c0 0.552 0.447 1 1 1zM7 8h2c0.552 0 1-0.448 1-1v-6c0-0.552-0.448-1-1-1h-2c-0.552 0-1 0.448-1 1v6c0 0.552 0.448 1 1 1zM30 4h-2v5c0 0.552-0.447 1-1 1h-6c-0.553 0-1-0.448-1-1v-5h-8v5c0 0.552-0.448 1-1 1h-6c-0.552 0-1-0.448-1-1v-5h-2c-1.104 0-2 0.896-2 2v24c0 1.104 0.896 2 2 2h28c1.104 0 2-0.896 2-2v-24c0-1.104-0.896-2-2-2zM30 29c0 0.553-0.447 1-1 1h-26c-0.552 0-1-0.447-1-1v-16c0-0.552 0.448-1 1-1h26c0.553 0 1 0.448 1 1v16zM15.985 17.982h4.968c-0.936 1.152-1.689 2.325-2.265 3.705-0.575 1.381-0.638 2.818-0.749 4.312h2.131c0.009-0.666-0.195-1.385-0.051-2.156 0.146-0.771 0.352-1.532 0.617-2.285 0.267-0.752 0.598-1.461 0.996-2.127 0.396-0.667 0.853-1.229 1.367-1.686v-1.742h-7.015v1.979z"/></symbol><symbol id="f-i-checkbox" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M13.5,5v8c0,0.8-0.7,1.5-1.5,1.5H3c-0.8,0-1.5-0.7-1.5-1.5V4c0-0.8,0.7-1.5,1.5-1.5h9c0.7,0,1.3,0.5,1.5,1.2l2.4-1.4L13.5,5 z M12.5,6.2L7.7,12L2.8,5.5l4.9,1.6l4.8-2.9V4c0-0.3-0.2-0.5-0.5-0.5H3C2.7,3.5,2.5,3.7,2.5,4v9c0,0.3,0.2,0.5,0.5,0.5h9 c0.3,0,0.5-0.2,0.5-0.5V6.2z"/></symbol><symbol id="f-i-checkbox-group" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M0,1h16V0H0V1z M0,3h16V2H0V3z M6,5v1h9V5H6z M15,14v-1H6v1H15z M6,10h9V9H6V10z M4,12l-2.5,1.5L0,13l1.5,2L4,12z M4,8 L1.5,9.5L0,9l1.5,2L4,8z M4,4L1.5,5.5L0,5l1.5,2L4,4z"/></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-columns" xmlns="http://www.w3.org/2000/svg"><metadata id="agmetadata4318"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><path id="agrect4860-3-5" d="M 16,0.5 A 0.50004997,0.50004997 0 0 0 15.5,0 l -5,0 -5,0 -5,0 A 0.50004997,0.50004997 0 0 0 0,0.5 l 0,15 A 0.50004997,0.50004997 0 0 0 0.5,16 l 5,0 5,0 5,0 A 0.50004997,0.50004997 0 0 0 16,15.5 l 0,-15 z M 15,1 15,15 11,15 11,1 15,1 Z M 10,1 10,15 6,15 6,1 10,1 Z M 5,1 5,15 1,15 1,1 5,1 Z"/></symbol><symbol viewBox="0 0 2.1166668 2.1167197" id="f-i-component-corner" xmlns="http://www.w3.org/2000/svg"><g id="ahg2" transform="translate(-0.52916668)"><path class="ahcorner-fill" stroke="none" fill="inherit" d="M 0.52916668,5.3011818e-5 V 2.1167198 H 2.6458337 V 1.9849449 C 1.5496647,1.9849298 0.66092868,1.0962219 0.66094168,5.3011818e-5 Z m 0.131775,0 L 2.6458337,1.9849449 Z"/><path class="ahcorner-stroke" stroke-width="0.250546px" fill="none" stroke="inherit" d="m 2.645783,1.9848683 v 0 C 1.5496137,1.9848532 0.66100516,1.0962232 0.66101817,5.4327518e-5 v 0"/></g></symbol><symbol viewBox="0 0 32 32" id="f-i-copy" xmlns="http://www.w3.org/2000/svg"><path d="M20 8v-8h-14l-6 6v18h12v8h20v-24h-12zM6 2.828v3.172h-3.172l3.172-3.172zM2 22v-14h6v-6h10v6l-6 6v8h-10zM18 10.828v3.172h-3.172l3.172-3.172zM30 30h-16v-14h6v-6h10v20z"/></symbol><symbol id="f-i-divider" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><metadata id="ajmetadata10"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><rect y="7" x="0" height="1" width="15" id="ajrect4182"/></symbol><symbol viewBox="0 0 28 32" id="f-i-edit" xmlns="http://www.w3.org/2000/svg"><path d="M22 2l-4 4 6 6 4-4-6-6zM0 24l0.021 6.018 5.979-0.018 16-16-6-6-16 16zM6 28h-4v-4h2v2h2v2z"/></symbol><symbol fill="#000000" viewBox="0 0 24 24" id="f-i-email" xmlns="http://www.w3.org/2000/svg"><path d="M12,2 C17.4292399,2 21.8479317,6.32667079 21.9961582,11.7200952 L22,12 L22,13 C22,15.1729208 20.477434,17 18.5,17 C17.3269391,17 16.3139529,16.3570244 15.6839382,15.3803024 C14.770593,16.3757823 13.4581934,17 12,17 C9.23857625,17 7,14.7614237 7,12 C7,9.23857625 9.23857625,7 12,7 C14.6887547,7 16.8818181,9.12230671 16.9953805,11.7831104 L17,12 L17,13 C17,14.1407877 17.7160103,15 18.5,15 C19.2447902,15 19.928229,14.2245609 19.9947109,13.1689341 L20,13 L20,12 C20,7.581722 16.418278,4 12,4 C7.581722,4 4,7.581722 4,12 C4,16.418278 7.581722,20 12,20 C13.1630948,20 14.2892822,19.7522618 15.3225159,19.2798331 C15.8247876,19.0501777 16.4181317,19.271177 16.647787,19.7734487 C16.8774423,20.2757205 16.656443,20.8690646 16.1541713,21.0987199 C14.861218,21.689901 13.4515463,22 12,22 C6.4771525,22 2,17.5228475 2,12 C2,6.4771525 6.4771525,2 12,2 Z M12,9 C10.3431458,9 9,10.3431458 9,12 C9,13.6568542 10.3431458,15 12,15 C13.6568542,15 15,13.6568542 15,12 C15,10.3431458 13.6568542,9 12,9 Z"/></symbol><symbol viewBox="0 0 32 32" id="f-i-floppy-disk" xmlns="http://www.w3.org/2000/svg"><path d="M28 0h-28v32h32v-28l-4-4zM16 4h4v8h-4v-8zM28 28h-24v-24h2v10h18v-10h2.343l1.657 1.657v22.343z"/></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-handle" xmlns="http://www.w3.org/2000/svg"><metadata id="aqmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g transform="translate(0,-2)" id="aqg4220"><rect id="aqrect4191" width="2" height="2" x="2" y="7"/><rect id="aqrect4191-2" width="2" height="2" x="7" y="7"/><rect id="aqrect4191-4" width="2" height="2" x="12" y="7"/></g><g transform="translate(0,2)" id="aqg4220-6"><rect id="aqrect4191-40" width="2" height="2" x="2" y="7"/><rect id="aqrect4191-2-3" width="2" height="2" x="7" y="7"/><rect id="aqrect4191-4-9" width="2" height="2" x="12" y="7"/></g></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-handle-column" xmlns="http://www.w3.org/2000/svg"><metadata id="anmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g id="ang1" transform="rotate(90,9.25,9.25)"><rect id="anrect4191-27" width="2" height="2" x="2" y="7"/><rect id="anrect4191-2-0" width="2" height="2" x="7" y="7"/><rect id="anrect4191-2-9-9" width="2" height="2" x="12" y="7"/><rect id="anrect4191-27-6" width="2" height="2" x="2" y="12"/><rect id="anrect4191-2-0-0" width="2" height="2" x="7" y="12"/><rect id="anrect4191-2-9-9-6" width="2" height="2" x="12" y="12"/></g></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-handle-field" xmlns="http://www.w3.org/2000/svg"><metadata id="aometadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g id="aog1" transform="translate(0,-2.5)"><rect id="aorect4191-2-0" width="2" height="2" x="7" y="-11.5" transform="rotate(90)"/><rect id="aorect4191-2-9-9" width="2" height="2" x="12" y="-11.5" transform="rotate(90)"/><rect id="aorect4191-2-0-0" width="2" height="2" x="7" y="-6.5" transform="rotate(90)"/><rect id="aorect4191-2-9-9-6" width="2" height="2" x="12" y="-6.5" transform="rotate(90)"/></g></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-handle-row" xmlns="http://www.w3.org/2000/svg"><metadata id="apmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g id="apg1" transform="translate(0,-2.5)"><rect id="aprect4191-27" width="2" height="2" x="2" y="7"/><rect id="aprect4191-2-0" width="2" height="2" x="7" y="7"/><rect id="aprect4191-2-9-9" width="2" height="2" x="12" y="7"/><rect id="aprect4191-27-6" width="2" height="2" x="2" y="12"/><rect id="aprect4191-2-0-0" width="2" height="2" x="7" y="12"/><rect id="aprect4191-2-9-9-6" width="2" height="2" x="12" y="12"/></g></symbol><symbol viewBox="0 0 448 512" id="f-i-hash" xmlns="http://www.w3.org/2000/svg"><g id="aricomoon-ignore"/><path fill="#000" d="M448 192v-64h-80.064l16-128h-64l-16 128h-127.968l16-128h-64l-16 128h-111.968v64h103.968l-15.968 128h-88v64h80l-16 128h64l16-128h127.968l-16 128h64.032l16-128h112v-64h-104l15.936-128h88.064zM279.968 320h-127.968l15.968-128h127.968l-15.968 128z"/></symbol><symbol viewBox="0 0 28 28" id="f-i-header" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M26.281 26q-0.688 0-2.070-0.055t-2.086-0.055q-0.688 0-2.063 0.055t-2.063 0.055q-0.375 0-0.578-0.32t-0.203-0.711q0-0.484 0.266-0.719t0.609-0.266 0.797-0.109 0.703-0.234q0.516-0.328 0.516-2.188l-0.016-6.109q0-0.328-0.016-0.484-0.203-0.063-0.781-0.063h-10.547q-0.594 0-0.797 0.063-0.016 0.156-0.016 0.484l-0.016 5.797q0 2.219 0.578 2.562 0.25 0.156 0.75 0.203t0.891 0.055 0.703 0.234 0.313 0.711q0 0.406-0.195 0.75t-0.57 0.344q-0.734 0-2.18-0.055t-2.164-0.055q-0.672 0-2 0.055t-1.984 0.055q-0.359 0-0.555-0.328t-0.195-0.703q0-0.469 0.242-0.703t0.562-0.273 0.742-0.117 0.656-0.234q0.516-0.359 0.516-2.234l-0.016-0.891v-12.703q0-0.047 0.008-0.406t0-0.57-0.023-0.602-0.055-0.656-0.102-0.57-0.172-0.492-0.25-0.281q-0.234-0.156-0.703-0.187t-0.828-0.031-0.641-0.219-0.281-0.703q0-0.406 0.187-0.75t0.562-0.344q0.719 0 2.164 0.055t2.164 0.055q0.656 0 1.977-0.055t1.977-0.055q0.391 0 0.586 0.344t0.195 0.75q0 0.469-0.266 0.68t-0.602 0.227-0.773 0.063-0.672 0.203q-0.547 0.328-0.547 2.5l0.016 5q0 0.328 0.016 0.5 0.203 0.047 0.609 0.047h10.922q0.391 0 0.594-0.047 0.016-0.172 0.016-0.5l0.016-5q0-2.172-0.547-2.5-0.281-0.172-0.914-0.195t-1.031-0.203-0.398-0.773q0-0.406 0.195-0.75t0.586-0.344q0.688 0 2.063 0.055t2.063 0.055q0.672 0 2.016-0.055t2.016-0.055q0.391 0 0.586 0.344t0.195 0.75q0 0.469-0.273 0.688t-0.625 0.227-0.805 0.047-0.688 0.195q-0.547 0.359-0.547 2.516l0.016 14.734q0 1.859 0.531 2.188 0.25 0.156 0.719 0.211t0.836 0.070 0.648 0.242 0.281 0.695q0 0.406-0.187 0.75t-0.562 0.344z"/></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-hidden" xmlns="http://www.w3.org/2000/svg"><metadata id="atmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><path id="atpath5816" d="M 1,5 2,5 2,4 1,4 Z"/><path id="atpath5814" d="M 3,5 4,5 4,4 3,4 Z"/><path id="atpath5812" d="M 5,5 6,5 6,4 5,4 Z"/><path id="atpath5810" d="M 7,5 8,5 8,4 7,4 Z"/><path id="atpath5808" d="M 9,5 10,5 10,4 9,4 Z"/><path id="atpath5806" d="m 11,5 1,0 0,-1 -1,0 z"/><path id="atpath5804" d="m 13,5 1,0 0,-1 -1,0 z"/><path id="atpath5800" d="M 0,6 1,6 1,5 0,5 Z"/><path id="atpath5798" d="m 15,6.9997352 1,0 0,-1 -1,0 z"/><path id="atpath5796" d="M 0,8 1,8 1,7 0,7 Z"/><path id="atpath5794" d="m 15,8.9997352 1,0 0,-1 -1,0 z"/><path id="atpath5792" d="m 0,10 1,0 0,-1.0000001 -1,0 z"/><path id="atpath5790" d="m 15,10.999735 1,0 0,-0.9999998 -1,0 z"/><path id="atpath5786" d="m 2,12 1,0 0,-1 -1,0 z"/><path id="atpath5784" d="m 4,12 1,0 0,-1 -1,0 z"/><path id="atpath5782" d="m 6,12 1,0 0,-1 -1,0 z"/><path id="atpath5780" d="m 8,12 1,0 0,-1 -1,0 z"/><path id="atpath5778" d="m 10,12 1,0 0,-1 -1,0 z"/><path id="atpath5776" d="m 12,12 1,0 0,-1 -1,0 z"/><path id="atrect5768" d="m 14,12 1,0 0,-1 -1,0 z"/><path d="m 15,5 1,0 0,-1 -1,0 z" id="atpath5827"/><path d="m 0,12 1,0 0,-1 -1,0 z" id="atpath5829"/></symbol><symbol viewBox="0 0 384 512" id="f-i-menu" xmlns="http://www.w3.org/2000/svg"><g id="auicomoon-ignore"/><path d="M0 96v64h384v-64h-384zM0 288h384v-64h-384v64zM0 416h384v-64h-384v64z"/></symbol><symbol viewBox="0 0 16 32" id="f-i-minus" xmlns="http://www.w3.org/2000/svg"><path d="M0 14v4h16v-4h-16z"/></symbol><symbol viewBox="0 0 512 512" id="f-i-move" xmlns="http://www.w3.org/2000/svg"><path d="M287.744 94.736v129.008h128v-64l96.256 96.256-96.256 96.24v-65.488h-128v129.008h64.496l-96.24 96.24-96.256-96.24h64v-129.008h-128v64.992l-95.744-95.744 95.744-95.744v63.488h128v-129.008h-62.496l94.752-94.736 94.752 94.736h-63.008z"/></symbol><symbol viewBox="0 0 512 512" id="f-i-move-vertical" xmlns="http://www.w3.org/2000/svg"><metadata id="awmetadata10"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="3440" inkscape:window-height="1416" id="awnamedview6" showgrid="false" inkscape:zoom="1.84375" inkscape:cx="421.4312" inkscape:cy="218.56484" inkscape:window-x="0" inkscape:window-y="24" inkscape:window-maximized="1" inkscape:current-layer="svg2" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"/><path d="m 287.744,94.736 0,321.024 64.496,0 L 256,512 l -96.256,-96.24 64,0 0,-321.024 -62.496,0 L 256,0 350.752,94.736 Z" id="awpath4" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" inkscape:connector-curvature="0" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" sodipodi:nodetypes="ccccccccccc"/></symbol><symbol viewBox="0 0 20 28" id="f-i-paragraph" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M19.969 2.953v1.141q0 0.453-0.289 0.953t-0.664 0.5q-0.781 0-0.844 0.016-0.406 0.094-0.5 0.484-0.047 0.172-0.047 1v18q0 0.391-0.281 0.672t-0.672 0.281h-1.687q-0.391 0-0.672-0.281t-0.281-0.672v-19.031h-2.234v19.031q0 0.391-0.273 0.672t-0.68 0.281h-1.687q-0.406 0-0.68-0.281t-0.273-0.672v-7.75q-2.297-0.187-3.828-0.922-1.969-0.906-3-2.797-1-1.828-1-4.047 0-2.594 1.375-4.469 1.375-1.844 3.266-2.484 1.734-0.578 6.516-0.578h7.484q0.391 0 0.672 0.281t0.281 0.672z"/></symbol><symbol id="f-i-phone-receiver" viewBox="0 0 578.106 578.106" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><g><g><path d="M577.83,456.128c1.225,9.385-1.635,17.545-8.568,24.48l-81.396,80.781 c-3.672,4.08-8.465,7.551-14.381,10.404c-5.916,2.857-11.729,4.693-17.439,5.508c-0.408,0-1.635,0.105-3.676,0.309 c-2.037,0.203-4.689,0.307-7.953,0.307c-7.754,0-20.301-1.326-37.641-3.979s-38.555-9.182-63.645-19.584 c-25.096-10.404-53.553-26.012-85.376-46.818c-31.823-20.805-65.688-49.367-101.592-85.68 c-28.56-28.152-52.224-55.08-70.992-80.783c-18.768-25.705-33.864-49.471-45.288-71.299 c-11.425-21.828-19.993-41.616-25.705-59.364S4.59,177.362,2.55,164.51s-2.856-22.95-2.448-30.294 c0.408-7.344,0.612-11.424,0.612-12.24c0.816-5.712,2.652-11.526,5.508-17.442s6.324-10.71,10.404-14.382L98.022,8.756 c5.712-5.712,12.24-8.568,19.584-8.568c5.304,0,9.996,1.53,14.076,4.59s7.548,6.834,10.404,11.322l65.484,124.236 c3.672,6.528,4.692,13.668,3.06,21.42c-1.632,7.752-5.1,14.28-10.404,19.584l-29.988,29.988c-0.816,0.816-1.53,2.142-2.142,3.978 s-0.918,3.366-0.918,4.59c1.632,8.568,5.304,18.36,11.016,29.376c4.896,9.792,12.444,21.726,22.644,35.802 s24.684,30.293,43.452,48.653c18.36,18.77,34.68,33.354,48.96,43.76c14.277,10.4,26.215,18.053,35.803,22.949 c9.588,4.896,16.932,7.854,22.031,8.871l7.648,1.531c0.816,0,2.145-0.307,3.979-0.918c1.836-0.613,3.162-1.326,3.979-2.143 l34.883-35.496c7.348-6.527,15.912-9.791,25.705-9.791c6.938,0,12.443,1.223,16.523,3.672h0.611l118.115,69.768 C571.098,441.238,576.197,447.968,577.83,456.128z"/></g></g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/></symbol><symbol id="f-i-radio-group" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M0,1h16V0H0V1z M0,3h16V2H0V3z M5,6h10V5H5V6z M15,9H5v1h10V9z M15,14v-1H5v1H15z M1.5,7C0.7,7,0,6.3,0,5.5S0.7,4,1.5,4 S3,4.7,3,5.5S2.3,7,1.5,7z M1.5,5C1.2,5,1,5.2,1,5.5S1.2,6,1.5,6S2,5.8,2,5.5S1.8,5,1.5,5z M1.5,11.1C0.7,11.1,0,10.4,0,9.6 s0.7-1.5,1.5-1.5S3,8.7,3,9.6S2.3,11.1,1.5,11.1z M1.5,9.1C1.2,9.1,1,9.3,1,9.6s0.2,0.5,0.5,0.5S2,9.8,2,9.6S1.8,9.1,1.5,9.1z M1.5,15C0.7,15,0,14.3,0,13.5S0.7,12,1.5,12S3,12.7,3,13.5S2.3,15,1.5,15z M1.5,13C1.2,13,1,13.2,1,13.5S1.2,14,1.5,14 S2,13.8,2,13.5S1.8,13,1.5,13z"/></symbol><symbol viewBox="0 0 512 512" id="f-i-remove" xmlns="http://www.w3.org/2000/svg"><metadata id="bbmetadata8"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g id="bblayer1"><g transform="translate(170.37199,5.9577983)" id="bbg4172"><path id="bbrect4155" d="m -159.9194,-18.102955 87.322034,0 0,510.915285 -87.322034,0 z" transform="matrix(0.70710678,-0.70710678,0.70710678,0.70710678,0,0)"/><path id="bbrect4155-5" d="m 193.69366,-139.19925 87.32204,0 0,510.91528 -87.32204,0 z" transform="matrix(0.70710678,0.70710678,-0.70710678,0.70710678,0,0)"/></g></g></symbol><symbol id="f-i-rich-text" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path d="M15,1H1C0.4,1,0,1.4,0,2v12c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1V2C16,1.4,15.6,1,15,1z M1,3.1h0.8v0.3H1V3.1z M1,3.6h0.8 v0.3H1V3.6z M15,14H1V5.1h14V14z M15,4.9H1V4.6h14V4.9z M15,4.4H1V4.1h0.8v0.2h1.5V4.1h1.3v0.2H6V4.1h1.3v0.2h1.5V4.1H10v0.2h1.5 V4.1h1.3v0.2h1.5V4.1H15V4.4z M4.5,3.6v0.3H3.3V3.6H4.5z M3.3,3.4V3.1h1.3v0.3H3.3z M7.3,3.6v0.3H6V3.6H7.3z M6,3.4V3.1h1.3v0.3H6z M10,3.6v0.3H8.8V3.6H10z M8.8,3.4V3.1H10v0.3H8.8z M12.8,3.6v0.3h-1.3V3.6H12.8z M11.5,3.4V3.1h1.3v0.3H11.5z M15,3.9h-0.8V3.6H15 V3.9z M15,3.4h-0.8V3.1H15V3.4z M15,2.9h-0.8V2.8h-1.5v0.2h-1.3V2.8H10v0.2H8.8V2.8H7.3v0.2H6V2.8H4.5v0.2H3.3V2.8H1.8v0.2H1V2.6h14 V2.9z M15,2.4H1V2.1h14V2.4z M3,12v-1h10v1H3z M13,10H3V9h10V10z M11,8H3V7h8V8z"/></symbol><symbol xml:space="preserve" viewBox="0 0 16 16" id="f-i-rows" xmlns="http://www.w3.org/2000/svg"><metadata id="bdmetadata4318"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><cc:Work rdf:about="" xmlns:cc="http://creativecommons.org/ns#"><dc:format xmlns:dc="http://purl.org/dc/elements/1.1/">image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" xmlns:dc="http://purl.org/dc/elements/1.1/"/><dc:title xmlns:dc="http://purl.org/dc/elements/1.1/"/></cc:Work></rdf:RDF></metadata><g transform="matrix(0,1,-1,0,3.0984025,11.835155)" id="bdg7209"><path id="bdrect4860-3-5" d="m 4.1640625,-12.402344 a 0.50004997,0.50004997 0 0 0 -0.5,-0.5 l -5,0 -5,0 -5.0000005,0 a 0.50004997,0.50004997 0 0 0 -0.5,0.5 l 0,15.0000002 a 0.50004997,0.50004997 0 0 0 0.5,0.5 l 4.9648442,0 a 0.50004997,0.50004997 0 0 0 0.035156,0 l 4.9648437,0 a 0.50004997,0.50004997 0 0 0 0.035156,0 l 5,0 a 0.50004997,0.50004997 0 0 0 0.5,-0.5 l 0,-15.0000002 z m -1,0.5 0,14.0000002 -4,0 0,-14.0000002 4,0 z m -5,0 0,14.0000002 -4,0 0,-14.0000002 4,0 z m -5,0 0,14.0000002 -4.0000005,0 0,-14.0000002 4.0000005,0 z"/></g></symbol><symbol id="f-i-select" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path id="beXMLID_1_" d="M0,0v14h0c0,0.6,0.4,1,1,1h10c0.6,0,1-0.4,1-1h0V5h4V0H0z M1,1h10v3H1V1z M1,7h10v3H1V7z M1,14v-3h10v3H1z M15,4h-3V1h3V4z M2,2h1v1H2V2z M2,12h1v1H2V12z M4,12h1v1H4V12z M6,12h1v1H6V12z M9,12v1H8v-1H9z M2,8h1v1H2V8z M4,8h1v1H4V8z M6,8 h1v1H6V8z M13.5,3.1l-1-1.1h1.9L13.5,3.1z M2,6V5h1v1H2L2,6z M4,6V5h1v1H4L4,6z"/></symbol><symbol viewBox="0 0 448 512" id="f-i-settings" xmlns="http://www.w3.org/2000/svg"><g id="bficomoon-ignore"/><path d="M223.969 175c-44.703 0-80.969 36.266-80.969 81 0 44.688 36.266 81.031 80.969 81.031 44.719 0 80.719-36.344 80.719-81.031-0-44.734-36-81-80.719-81zM386.313 302.531l-14.594 35.156 29.469 57.875-36.094 36.094-59.218-27.969-35.156 14.438-17.844 54.625-2.281 7.25h-51.016l-22.078-61.656-35.156-14.5-57.952 29.344-36.078-36.063 27.938-59.25-14.484-35.125-61.767-20.156v-50.984l61.703-22.109 14.485-35.094-25.953-51.234-3.422-6.719 36.031-36.031 59.297 27.922 35.109-14.516 17.828-54.594 2.297-7.234h51l22.094 61.734 35.063 14.516 58.031-29.406 36.063 36.031-27.938 59.203 14.438 35.172 61.875 20.125v50.969l-61.688 22.187z"/></symbol><symbol id="f-i-text-input" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path id="bgXMLID_10_" d="M15,4H4.5V3H6V2H4.5h-1H2v1h1.5v1H1C0.4,4,0,4.5,0,5v6c0,0.6,0.4,1,1,1h2.5v1H2v1h4v-1H4.5v-1H15 c0.6,0,1-0.4,1-1V5C16,4.5,15.6,4,15,4z M1,11V5h2.5v6H1z M15,11H4.5V5H15V11z"/></symbol><symbol id="f-i-textarea" viewBox="0 0 16 16" xml:space="preserve" xmlns="http://www.w3.org/2000/svg"><path id="bhXMLID_1_" d="M3,11v-1h8v1H3L3,11z M3,7h10V6H3V7L3,7z M3,8v1h10V8H3L3,8z M13,4H3v1h10V4L13,4z M16,14V2c0-0.6-0.4-1-1-1 H1C0.4,1,0,1.4,0,2v12c0,0.6,0.4,1,1,1h14C15.6,15,16,14.6,16,14z M15,2v12H1V2H15z"/></symbol><symbol viewBox="0 0 24 32" id="f-i-triangle-down" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M0 12l11.992 11.992 11.992-11.992h-23.984z"/></symbol><symbol viewBox="0 0 12 32" id="f-i-triangle-left" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M0 15.996l11.992 11.992v-23.984l-11.992 11.992z"/></symbol><symbol viewBox="0 0 12 32" id="f-i-triangle-right" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M0.002 4.008l11.992 11.992-11.992 11.992v-23.984z"/></symbol><symbol viewBox="0 0 24 32" id="f-i-triangle-up" xmlns="http://www.w3.org/2000/svg"><path fill="#444" d="M11.992 8l-11.992 11.992h23.984l-11.992-11.992z"/></symbol><symbol viewBox="0 0 512 512" id="f-i-upload" xmlns="http://www.w3.org/2000/svg"><g id="bmicomoon-ignore"/><path d="M240 352h-240v128h480v-128h-240zM448 416h-64v-32h64v32zM112 160l128-128 128 128h-80v160h-96v-160z"/></symbol></svg>';let Hi=class{constructor({formData:t,...e},o){const r=this,i=At(m0.editor,e),{actions:s,events:a,debug:l,config:c,editorContainer:d,...u}=i;d&&(this.editorContainer=typeof d=="string"?document.querySelector(d):d),this.opts=u,p.setOptions=u,$.config=c,this.userFormData=o||t,this.Components=$,this.dom=p,A.init({debug:l,...a}),nt.init({debug:l,sessionStorage:u.sessionStorage,...s}),r.loadResources().then(()=>{u.allowEdit&&(r.edit=r.init.bind(r),r.init())})}get formData(){return this.Components.formData}set formData(t={}){this.load({...this.userFormData,...t},this.opts)}get json(){return this.Components.json}loadResources(){const t=[];return this.opts.polyfills&&S1(this.opts.polyfills),this.opts.style&&t.push(Fi(this.opts.style)),this.opts.svgSprite?t.push(xr(this.opts.svgSprite,Nn,()=>xr(Zs,Nn))):t.push(Nn(g0)),t.push(y.init({...this.opts.i18n,locale:qe.get(Oo)})),Promise.all(t)}init(){const t=this;this.load(this.userFormData,t.opts),this.controls=ve.init(t.opts.controls,t.opts.stickyControls),t.formId=$.get("id"),this.i18n={setLang:e=>{qe.set(Oo,e),y.setCurrent(e).then(()=>{this.controls=ve.init(t.opts.controls),t.render()},console.error)}},t.render()}load(t=this.userFormData,e=this.opts){return this.Components.load(t,e)}render(){const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/tinymce/4.9.11/tinymce.min.js",document.head.appendChild(t),this.stages=Object.values($.get("stages")),this.opts.controlOnLeft&&this.stages.forEach(r=>{r.dom.style.order=1});const e={attrs:{className:"formeo formeo-editor",id:this.formId},content:[this.stages.map(({dom:r})=>r)]};y.current.dir&&(e.attrs.dir=y.current.dir,p.dir=y.current.dir),this.editor=p.create(e),(this.controls.container||this.editor).appendChild(this.controls.dom),this.editorContainer&&(p.empty(this.editorContainer),this.editorContainer.appendChild(this.editor)),A.formeoLoaded=new window.CustomEvent("formeoLoaded",{detail:{formeo:this}}),document.dispatchEvent(A.formeoLoaded)}};const $r="f-",v0=({editorContainer:n,renderContainer:t,...e})=>{const o=i=>typeof i=="string"?document.querySelector(i):i,r={renderContainer:o(t),editorContainer:o(n)};return{...e,...r}},Ar=n=>{const t=n.match(Hr);return(t==null?void 0:t[0])||n},b0=n=>n.replace(Hr,U()),y0=()=>p.render(p.btnTemplate({className:"remove-input-group",children:p.icon("remove"),action:{mouseover:({target:n})=>n.parentElement.classList.add("will-remove"),mouseleave:({target:n})=>n.parentElement.classList.remove("will-remove"),click:({target:n})=>n.parentElement.remove()}}));let Bi=class{constructor(t,e={}){g(this,"render",(t=this.form)=>{this.form=t;const e=document.getElementsByClassName("formeo-render").length,o={id:this.form.id,className:`formeo-render formeo formeo-rendered-${e}`,children:this.processedData};this.renderedForm=p.render(o),this.applyConditions();const r=this.container.querySelector(".formeo-render");r?r.replaceWith(this.renderedForm):this.container.appendChild(this.renderedForm)});g(this,"orderChildren",(t,e)=>e.reduce((o,r)=>[...o,this.form[t][r]],[]));g(this,"prefixId",t=>$r+t);g(this,"processColumn",({id:t,...e})=>({...e,id:this.prefixId(t),children:this.processFields(e.children),style:`width: ${e.config.width||"100%"}`}));g(this,"processRows",t=>this.orderChildren("rows",this.form.stages[t].children).reduce((e,o)=>o?[...e,this.processRow(o)]:e,[]));g(this,"cacheComponent",t=>(this.components[Ar(t.id)]=t,t));g(this,"processRow",(t,e="row")=>{const{config:o,id:r}=t,i=[`formeo-${e}-wrap`],s={...t,children:this.processColumns(t.id),id:this.prefixId(r)};this.cacheComponent(s);const l=[{condition:o.legend,result:()=>({tag:o.fieldset?"legend":"h3",children:o.legend})},{condition:!0,result:()=>s},{condition:o.inputGroup,result:()=>this.addButton(r)}].reduce((c,{condition:d,result:u})=>d?[...c,u()]:c,[]);return o.inputGroup&&i.push($r+"input-group-wrap"),{tag:o.fieldset?"fieldset":"div",id:U(),className:i,children:l}});g(this,"cloneComponentData",t=>{const{children:e=[],id:o,...r}=this.components[t];return Object.assign({},r,{id:b0(o),children:e.length&&e.map(({id:i})=>this.cloneComponentData(Ar(i)))})});g(this,"addButton",t=>p.render({tag:"button",attrs:{className:"add-input-group btn pull-right",type:"button"},children:"Add +",action:{click:e=>{const o=e.target.parentElement,r=p.render(this.cloneComponentData(t));o.insertBefore(r,o.lastChild),r.appendChild(y0())}}}));g(this,"processColumns",t=>this.orderChildren("columns",this.form.rows[t].children).map(e=>this.cacheComponent(this.processColumn(e))));g(this,"processFields",t=>this.orderChildren("fields",t).map(({id:e,...o})=>this.cacheComponent(Object.assign({},o,{id:this.prefixId(e)}))));g(this,"applyConditions",()=>{Object.values(this.components).forEach(({conditions:t})=>{t&&t.forEach((e,o)=>{const{if:r,then:i}=e;r.forEach(s=>{const{source:a,...l}=s;bt(a)&&this.getComponents(a).forEach(d=>{const u=w0(d);u&&d.addEventListener(u,f=>this.evaluateCondition(l,f)&&i.forEach(m=>this.execResult(m,f)),!1);const h={target:d};this.evaluateCondition(l,h)&&i.forEach(f=>this.execResult(f,h))})})})})});g(this,"evaluateCondition",({sourceProperty:t,targetProperty:e,comparison:o,target:r},i)=>{const s={equals:Wn,notEquals:(c,d)=>!Wn(c,d),contains:(c,d)=>c.includes(d),notContains:(c,d)=>!c.includes(d)},a=String(i.target[t]),l=String(bt(r)?this.getComponent(r)[e]:r);return s[o]&&s[o](a,l)});g(this,"execResult",({assignment:t,target:e,targetProperty:o,value:r})=>{const i={equals:s=>{const a={value:()=>{s[o]=r},isNotVisible:()=>{s.parentElement.setAttribute("hidden",!0),s.required=!1},isVisible:()=>{s.parentElement.removeAttribute("hidden"),s.required=s._required}};a[o]&&a[o]()}};if(bt(e)){const s=this.getComponent(e);s&&s._required===void 0&&(s._required=s.required),i[t]&&i[t](s)}});g(this,"getComponent",t=>{const e=t.slice(t.indexOf(".")+1);return Ge(t)?this.external[e]:this.renderedForm.querySelector(`#f-${e}`)});g(this,"getComponents",t=>{const e=[],o=t.slice(t.indexOf(".")+1);return Ge(t)?e.push(this.external[o]):e.push(...this.renderedForm.querySelectorAll(`[name=f-${o}]`)),e});const{renderContainer:o,external:r}=v0(t);this.container=o,this.form=e,this.external=r,this.dom=p,this.components=Object.create(null)}get processedData(){return Object.values(this.form.stages).map(t=>(t.children=this.processRows(t.id),t.className=Wt,p.render(t)))}};const w0=n=>{const t=[["input",o=>["textarea","text"].includes(o.type)],["change",o=>["select"].includes(o.tagName.toLowerCase())||["checkbox","radio"].includes(o.type)]],[e]=t.find(o=>o[1](n))||[!1];return e};window!==void 0&&(window.FormeoEditor=Hi,window.FormeoRenderer=Bi);const N0=Hi,M0=Bi;export{N0 as F,M0 as a,tn as g,Os as t};
